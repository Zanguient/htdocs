{"version":3,"sources":["_26021.app.js","_26021.controller.js","_26021.factory.index.js","_26021.factory.create.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"_26021.js","sourcesContent":["'use strict';\n\nangular\n\t.module('app', [\n\t\t'vs-repeat', \n        'gc-find',\n\t\t'gc-ajax',\n\t\t'gc-transform',\n\t\t'gc-form'\n\t])\n;","angular\r\n    .module('app')\r\n    .value('gScope', {})\r\n    .controller('Ctrl', Ctrl);\r\n\r\n    Ctrl.$inject = [\r\n        '$scope',\r\n        'gScope',\r\n        'Historico',\r\n        'Index',\r\n        'Create'\r\n    ];\r\n\r\n    function Ctrl( \r\n        $scope,\r\n        gScope,\r\n        Historico,\r\n        Index,\r\n        Create\r\n    ) {\r\n\r\n    \t// Public instance.\r\n    \tgScope.Ctrl = this;\r\n\r\n    \t// Local instance.\r\n    \tvar $ctrl = this;\r\n\r\n    \t// Global variables.\r\n    \t$ctrl.tipoTela = 'listar';\r\n        $ctrl.permissaoMenu = {};\r\n        $ctrl.Historico = new Historico('$ctrl.Historico', $scope);\r\n\r\n    \t// Objects.\r\n    \t$ctrl.Index  = new Index();\r\n    \t$ctrl.Create = new Create();\r\n    }","angular\r\n    .module('app')\r\n    .factory('Index', Index);\r\n    \r\n\r\nIndex.$inject = [\r\n    '$ajax',\r\n    '$timeout',\r\n    'gScope'\r\n];\r\n\r\nfunction Index($ajax, $timeout, gScope) {\r\n\r\n    // Private variables.\r\n    var obj = null;\r\n\r\n    /**\r\n     * Constructor, with class name.\r\n     */\r\n    function Index() {\r\n\r\n        obj = this;\r\n\r\n        // Public variables\r\n        this.filtro = {\r\n            STATUS          : '',\r\n            CLIENTE         : {\r\n                ID: null\r\n            },\r\n            DATA_INI_INPUT  : moment().subtract(3, 'month').toDate(),\r\n            DATA_FIM_INPUT  : moment().toDate()\r\n        };\r\n        this.listaPesquisa = [];\r\n\r\n        // Public methods\r\n        this.filtrar            \t= filtrar;\r\n        this.eventoFiltrarCliente \t= eventoFiltrarCliente;\r\n        this.formataCampo       \t= formataCampo;\r\n        this.exibirPesquisa     \t= exibirPesquisa;\r\n    }\r\n    \r\n\r\n    function filtrar() {\r\n\r\n        obj.filtro.DATA_INI = moment(obj.filtro.DATA_INI_INPUT).format('DD.MM.YYYY') +' 00:00:00';\r\n        obj.filtro.DATA_FIM = moment(obj.filtro.DATA_FIM_INPUT).format('DD.MM.YYYY') +' 23:59:59';\r\n\r\n        $ajax\r\n            .post('/_26021/consultarPesquisa',\r\n                JSON.stringify(obj.filtro), \r\n                {contentType: 'application/json'})\r\n            .then(function(response){\r\n\r\n                obj.listaPesquisa = response;\r\n                formataCampo();\r\n            });\r\n    }\r\n\r\n    function formataCampo() {\r\n\r\n        var pesq = {};\r\n\r\n        for (var i in obj.listaPesquisa) {\r\n\r\n            pesq = obj.listaPesquisa[i];\r\n\r\n            pesq.DATAHORA_INSERT_INPUT      = moment(pesq.DATAHORA_INSERT).toDate();\r\n            pesq.DATAHORA_INSERT_HUMANIZE   = moment(pesq.DATAHORA_INSERT).format('DD/MM/YYYY');\r\n        }\r\n    }\r\n\r\n    function eventoFiltrarCliente($event) {\r\n\r\n    \t// enter\r\n    \tif ($event.keyCode == 13)\r\n    \t\tgScope.Ctrl.Create.alterarCliente(true);\r\n\r\n    \t// backspace ou delete\r\n    \telse if ($event.keyCode == 8 || $event.keyCode == 46)\r\n    \t\tgScope.Ctrl.Create.limparClienteSelecionado();\r\n    }\r\n\r\n    function exibirPesquisa(pesquisa) {\r\n\r\n        var create = gScope.Ctrl.Create;\r\n\r\n        gScope.Ctrl.tipoTela = 'exibir';\r\n\r\n        create.pesquisa = {\r\n            ID                   : pesquisa.ID,\r\n            SATISFACAO           : pesquisa.SATISFACAO,\r\n            STATUS               : pesquisa.STATUS,\r\n            NOTA_DELFA           : pesquisa.NOTA_DELFA,\r\n            OBSERVACAO_DELFA     : pesquisa.OBSERVACAO_DELFA,\r\n            DATAHORA_INSERT      : pesquisa.DATAHORA_INSERT,\r\n            DATAHORA_INSERT_INPUT: moment(pesquisa.DATAHORA_INSERT).toDate(),\r\n            MODELO               : {\r\n                ID       : pesquisa.FORMULARIO_ID,\r\n                TITULO   : pesquisa.TITULO,\r\n                DESCRICAO: pesquisa.DESCRICAO\r\n            },\r\n            CLIENTE              : {\r\n                ID         : pesquisa.CLIENTE_ID,\r\n                RAZAOSOCIAL: pesquisa.RAZAOSOCIAL\r\n            }\r\n        };\r\n        \r\n        create\r\n        \t.consultarModeloPesquisaPergunta(create.pesquisa.MODELO)\r\n        \t.then(function() {\r\n        \t\t\r\n        \t\tcreate\r\n        \t\t\t.consultarResposta(pesquisa)\r\n        \t\t\t.then(function() {\r\n        \t\t\t\t\r\n        \t\t\t\tcreate.exibirModal();\r\n        \t\t\t});\r\n        \t});\r\n    }\r\n\r\n    /**\r\n     * Return the constructor function\r\n     */\r\n    return Index;\r\n};","angular\r\n    .module('app')\r\n    .factory('Create', Create);\r\n    \r\n\r\nCreate.$inject = [\r\n    '$ajax',\r\n    '$timeout',\r\n    'gScope',\r\n    '$q',\r\n    '$filter'\r\n];\r\n\r\nfunction Create($ajax, $timeout, gScope, $q, $filter) {\r\n\r\n    // Private variables.\r\n    var obj           = null,\r\n        clienteFiltro = false;   // Define se a pesquisa de cliente é para o filtro inicial ou para a tela de cadastro.;\r\n\r\n    /**\r\n     * Constructor, with class name.\r\n     */\r\n    function Create() {\r\n\r\n        obj = this;\r\n\r\n        // Public variables.\r\n        this.pesquisa                = {};\r\n        this.listaModeloPesquisa     = [];\r\n        this.listaCliente            = [];\r\n\r\n        // Public methods.\r\n        this.alterarModeloPesquisa              = alterarModeloPesquisa;\r\n        this.consultarModeloPesquisa            = consultarModeloPesquisa;\r\n        this.selecionarModeloPesquisa           = selecionarModeloPesquisa;\r\n        this.consultarModeloPesquisaPergunta    = consultarModeloPesquisaPergunta;\r\n        this.fixVsRepeatPesqPesquisa            = fixVsRepeatPesqPesquisa;\r\n        this.fecharModalPesqPesquisa            = fecharModalPesqPesquisa;\r\n        this.alterarCliente                     = alterarCliente;\r\n        this.consultarCliente                   = consultarCliente;\r\n        this.selecionarCliente                  = selecionarCliente;\r\n        this.limparClienteSelecionado           = limparClienteSelecionado;\r\n        this.fixVsRepeatPesqCliente             = fixVsRepeatPesqCliente;\r\n        this.fecharModalPesqCliente             = fecharModalPesqCliente;\r\n        this.consultarResposta                  = consultarResposta;\r\n        this.alterarResposta                    = alterarResposta;\r\n        this.destacarRespostaNegativa           = destacarRespostaNegativa;\r\n        this.calcularSatisfacao                 = calcularSatisfacao;\r\n        this.gravar                             = gravar;\r\n        this.excluir                            = excluir;\r\n        this.limparCampo                        = limparCampo;\r\n        this.exibirModal                        = exibirModal;\r\n        this.fecharModal                        = fecharModal;\r\n    }\r\n    \r\n\r\n    function alterarModeloPesquisa() {\r\n\r\n        consultarModeloPesquisa();\r\n        $('#modal-pesq-pesquisa').modal('show');\r\n    }\r\n\r\n    function consultarModeloPesquisa() {\r\n\r\n        $ajax\r\n            .post('/_26021/consultarModeloPesquisa')\r\n            .then(function(response){\r\n\r\n                obj.listaModeloPesquisa = response;\r\n\r\n                formataCampoModeloPesquisa();\r\n                obj.fixVsRepeatPesqPesquisa();\r\n\r\n                // Foco no input de filtrar.\r\n                $('.input-filtrar-modelo-pesquisa').select();\r\n            });\r\n\r\n\r\n        function formataCampoModeloPesquisa() {\r\n\r\n            var pesq = {};\r\n\r\n            for (var i in obj.listaModeloPesquisa) {\r\n\r\n                pesq = obj.listaModeloPesquisa[i];\r\n\r\n                pesq.DATAHORA_INSERT_HUMANIZE = moment(pesq.DATAHORA_INSERT).format('DD/MM/YYYY');\r\n            }\r\n        }\r\n    }\r\n\r\n    function selecionarModeloPesquisa(modelo) {\r\n\r\n        obj.pesquisa.MODELO = modelo;\r\n\r\n        consultarModeloPesquisaPergunta(modelo);\r\n        fecharModalPesqPesquisa();\r\n    }\r\n\r\n    function consultarModeloPesquisaPergunta(modelo) {\r\n\r\n        return $q(function(resolve, reject) {\r\n\r\n            $ajax\r\n                .post('/_26021/consultarModeloPesquisaPergunta',\r\n                    JSON.stringify(modelo), \r\n                    {contentType: 'application/json'})\r\n                .then(function(response){\r\n\r\n                    obj.pesquisa.PERGUNTA    = response.PERGUNTA;\r\n                    obj.pesquisa.ALTERNATIVA = response.ALTERNATIVA;\r\n\r\n                    resolve(response);\r\n\r\n                }, function(e) {\r\n\r\n                    reject(e);\r\n                });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Fix para vs-repeat: exibir a tabela completa.\r\n     */\r\n    function fixVsRepeatPesqPesquisa() {\r\n\r\n        $timeout(function(){\r\n            $('#modal-pesq-pesquisa .table-modelo-pesquisa').scrollTop(0);\r\n        }, 200);\r\n\r\n    }\r\n\r\n    function fecharModalPesqPesquisa() {\r\n        \r\n        $('#modal-pesq-pesquisa')\r\n            .modal('hide')\r\n            .find('.modal-body')\r\n            .animate({ scrollTop: 0 }, 'fast');\r\n\r\n        gScope.Ctrl.filtrarModeloPesquisa = '';\r\n    }\r\n\r\n    function alterarCliente(filtro) {\r\n\r\n        filtro        = (typeof filtro != 'undefined') ? filtro : false;\r\n        clienteFiltro = filtro;\r\n\r\n        consultarCliente();\r\n        $('#modal-pesq-cliente').modal('show');\r\n    }\r\n\r\n    function consultarCliente() {\r\n\r\n        $ajax\r\n            .post('/_26021/consultarCliente')\r\n            .then(function(response){\r\n\r\n                obj.listaCliente = response;\r\n\r\n                // Fix para vs-repeat.\r\n                $('.table-cliente')\r\n                    .trigger('resize')\r\n                    .scrollTop(0);\r\n\r\n                // Foco no input de filtrar.\r\n                $('.input-filtrar-cliente').select();\r\n\r\n            });\r\n    }\r\n\r\n    function selecionarCliente(cliente) {\r\n\r\n        if (clienteFiltro == false) {\r\n            obj.pesquisa.CLIENTE = cliente;\r\n        }\r\n        else {\r\n            gScope.Ctrl.Index.filtro.CLIENTE = cliente;\r\n            $('.js-input-filtro-cliente').focus();\r\n        }\r\n\r\n        fecharModalPesqCliente();\r\n    }\r\n\r\n    function limparClienteSelecionado() {\r\n\r\n        gScope.Ctrl.Index.filtro.CLIENTE = {ID: null};\r\n    }\r\n\r\n    /**\r\n     * Fix para vs-repeat: exibir a tabela completa.\r\n     */\r\n    function fixVsRepeatPesqCliente() {\r\n\r\n        $timeout(function(){\r\n            $('#modal-pesq-cliente .table-cliente').scrollTop(0);\r\n        }, 200);\r\n\r\n    }\r\n\r\n    function fecharModalPesqCliente() {\r\n        \r\n        $('#modal-pesq-cliente')\r\n            .modal('hide')\r\n            .find('.modal-body')\r\n            .animate({ scrollTop: 0 }, 'fast');\r\n\r\n        gScope.Ctrl.filtrarCliente = '';\r\n    }\r\n\r\n    function alterarResposta(perg, altern) {\r\n\r\n        perg.JUSTIFICATIVA_OBRIGATORIA = altern.JUSTIFICATIVA_OBRIGATORIA;\r\n\r\n        $timeout(function() {\r\n            calcularSatisfacao();\r\n        }, 100);\r\n    }\r\n\r\n    function consultarResposta(pesquisa) {\r\n\r\n        return $q(function(resolve, reject) {\r\n\r\n            $ajax\r\n                .post('/_26021/consultarResposta', pesquisa)\r\n                .then(function(response){\r\n\r\n                    setarRespostaDaPergunta(response);\r\n                    destacarRespostaNegativa();\r\n\r\n                    resolve(response);\r\n\r\n                }, function(e) {\r\n                    reject(e);\r\n                });\r\n        });\r\n\r\n\r\n        function setarRespostaDaPergunta(resposta) {\r\n\r\n            var perg = {},\r\n                resp = {};\r\n\r\n            for (var i in obj.pesquisa.PERGUNTA) {\r\n                \r\n                perg = obj.pesquisa.PERGUNTA[i];\r\n\r\n                // Definindo respostas.\r\n                for (var j in resposta) {\r\n                    \r\n                    resp = resposta[j];\r\n\r\n                    if (resp.FORMULARIO_PERGUNTA_ID == perg.ID) {\r\n\r\n                        perg.RESPOSTA = resp;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function destacarRespostaNegativa() {\r\n        \r\n        var prg = {},\r\n            alt = {};\r\n\r\n        for (var i in obj.pesquisa.PERGUNTA) {\r\n\r\n            prg = obj.pesquisa.PERGUNTA[i];\r\n\r\n            for (var j in obj.pesquisa.ALTERNATIVA) {\r\n\r\n                alt = obj.pesquisa.ALTERNATIVA[j];\r\n\r\n                if ((prg.RESPOSTA.ALTERNATIVA_ESCOLHIDA_ID == alt.ID) && (parseFloat(alt.NOTA) == 0))\r\n                    prg.RESPOSTA_NEGATIVA = 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    function calcularSatisfacao() {\r\n\r\n        var prg         = {},\r\n            alt         = {},\r\n            somaNota    = 0;\r\n\r\n        // Pergunta (contém a resposta).\r\n        for (var i in obj.pesquisa.PERGUNTA) {\r\n            \r\n            prg = obj.pesquisa.PERGUNTA[i];\r\n\r\n            // Alternativa.\r\n            for (var j in obj.pesquisa.ALTERNATIVA) {\r\n\r\n                alt = obj.pesquisa.ALTERNATIVA[j];\r\n\r\n                if ( (typeof prg.RESPOSTA != 'undefined')\r\n                    && (alt.ID == prg.RESPOSTA.ALTERNATIVA_ESCOLHIDA_ID) ) {\r\n\r\n                    somaNota += parseFloat(alt.NOTA);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        obj.pesquisa.SATISFACAO = somaNota;\r\n    }\r\n\r\n    function gravar() {\r\n\r\n        if (!verificarCampo()) return false;\r\n        formatarCampo();\r\n\r\n        $ajax\r\n            .post('/_26021/gravar',\r\n                JSON.stringify(obj.pesquisa), \r\n                {contentType: 'application/json'})\r\n            .then(function(response) {\r\n\r\n                showSuccess('Gravado com sucesso.');\r\n                gScope.Ctrl.Index.filtrar();\r\n                fecharModal(false);\r\n            });\r\n\r\n\r\n        function verificarCampo() {\r\n\r\n            var ret = true;\r\n\r\n            if (typeof obj.pesquisa.MODELO == 'undefined' || obj.pesquisa.MODELO.length > 0) {\r\n                showErro('Escolha um formulário.');\r\n                ret = false;\r\n            }\r\n            else if (typeof obj.pesquisa.CLIENTE == 'undefined' || obj.pesquisa.CLIENTE.length > 0) {\r\n                showErro('Escolha um cliente.');\r\n                ret = false;\r\n            }\r\n\r\n            return ret;\r\n        }\r\n\r\n        function formatarCampo() {\r\n\r\n            obj.pesquisa.SATISFACAO = parseFloat($filter('number')(obj.pesquisa.SATISFACAO).replace(',', '.'));\r\n        }\r\n    }\r\n\r\n    function excluir() {\r\n\r\n        confirmar();\r\n\r\n        function confirmar() {\r\n\r\n            addConfirme(\r\n                '<h4>Confirmação</h4>',\r\n                'Confirma a exclusão?',\r\n                [obtn_sim, obtn_nao],\r\n                [\r\n                    {\r\n                        ret: 1,\r\n                        func: function() {\r\n\r\n                            efetivar();\r\n                        }\r\n                    },\r\n                    {\r\n                        ret: 2,\r\n                        func: function() {}\r\n                    }\r\n                ]\r\n            );\r\n        }\r\n\r\n        function efetivar() {\r\n\r\n            $ajax\r\n                .post('/_26021/excluir',\r\n                    JSON.stringify(obj.pesquisa), \r\n                    {contentType: 'application/json'})\r\n                .then(function(response){\r\n\r\n                    showSuccess('Excluído com sucesso.');\r\n                    gScope.Ctrl.Index.filtrar();\r\n                    fecharModal(false);\r\n                });\r\n        }\r\n    }\r\n\r\n    function limparCampo() {\r\n\r\n        obj.pesquisa = {};\r\n    }\r\n\r\n    function exibirModal() {\r\n\r\n        $('#modal-create').modal('show');\r\n    }\r\n\r\n    function fecharModal(confirmar) {\r\n\r\n        if (typeof confirmar == 'undefined')                    \r\n            confirmar = (gScope.Ctrl.tipoTela == 'exibir') ? false : true;\r\n\r\n        if (confirmar) {\r\n\r\n            addConfirme(\r\n                '<h4>Confirmação</h4>',\r\n                'Os dados serão perdidos. Deseja continuar?',\r\n                [obtn_sim, obtn_nao],\r\n                [\r\n                    {\r\n                        ret: 1,\r\n                        func: function() {\r\n\r\n                            fechar();\r\n                        }\r\n                    },\r\n                    {\r\n                        ret: 2,\r\n                        func: function() {}\r\n                    }\r\n                ]\r\n            );\r\n        }\r\n        else {\r\n\r\n            fechar();\r\n        }\r\n\r\n        function fechar() {\r\n        \r\n            $('#modal-create')\r\n                .modal('hide')\r\n                .find('.modal-body')\r\n                .animate({ scrollTop: 0 }, 'fast');\r\n\r\n            obj.limparCampo();\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Return the constructor function\r\n     */\r\n    return Create;\r\n};"]}
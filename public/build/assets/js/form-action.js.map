{"version":3,"sources":["form-action.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"form-action.js","sourcesContent":["/**\n * Script para os eventos dos botões de ações principais.\n */\n\n/**\n * Ação do botão gravar.\n */\nfunction btnGravar() {\n\t\n\t$('form.js-gravar').submit(function(e){\n\n//\t\tvar status_res = 0;\n//\t\tvar status_msg = '';\n\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\t$('button.js-gravar')\n\t\t\t.button('loading');\n\t\n\t\t//ajax\n\t\tvar $form = $(this),\n\t\t\turl_action\t= $form.attr('action'),\n\t\t\turl_redir\t= $form.attr('url-redirect'),\n\t\t\tdados\t\t= $form.serialize(),\n\t\t\ttype\t\t= 'POST',\n\t\t\tsuccess\t\t= function() {\n\t\t\t\twindow.location = url_redir;\n\t\t\t},\n\t\t\tcomplete\t= function() {\n\t\t\t\t$('button.js-gravar').button('reset');\n\t\t\t}\n\t\t;\n\t\t\n\t\texecAjax1(type, url_action, dados, success, null, complete);\n/*\n\t\tvar $form = $(this),\n\t\t\turl_action = $form.attr('action'),\n\t\t\turl_redir  = $form.attr('url-redirect'),\n\t\t\tdados      = $form.serialize();\n\n\t\t$.ajax({\n\t\t\ttype\t\t: 'POST',\n\t\t\turl\t\t\t: url_action,\n\t\t\tdata\t\t: dados,\n\t\t\tsuccess\t\t: function(resposta) {\n\n\t\t\t\tstatus_res = 0;\n\n\t\t\t},\n\t\t\terror: function (xhr) {\n\n\t\t\t\tstatus_msg = xhr;\n\t\t\t\tstatus_res = 1;\n\n\t\t\t},\n\t\t\tcomplete: function() {\n\n\t\t\t\t//sucesso\n\t\t\t\tif (status_res === 0) {\n\n\t\t\t\t\twindow.location = url_redir;\n\n\t\t\t\t}\n\t\t\t\t//erro\n\t\t\t\telse if (status_res === 1) {\n\t\t\t\t\t\n\t\t\t\t\tshowErro(status_msg);\n\n\t\t\t\t}\n\n\t\t\t\t$('button.js-gravar')\n\t\t\t\t\t.button('reset');\n\n\t\t\t}\t\n\t\t});\n\t\t*/\n\t});\n}\n\n(function($) {\n\t$(function() {\n\t\t\n\t\tbtnGravar();\n\t\t\n\t});\n})(jQuery);"]}
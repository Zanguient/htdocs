{"version":3,"sources":["_13020.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"_13020.js","sourcesContent":["/**\r\n * Script com funções de:\r\n * - Escolher produtos para montar orçamento\r\n * */\r\n(function($) {\r\n\t\r\n\t\t/** \r\n\t\t * Verificação de campos antes de enviar o form\r\n\t\t */\r\n\t\tfunction verificarCampos() {\r\n\t\t\t\r\n\t\t\t$('button.js-gravar').click(function(e) {\r\n\t\r\n\t\t\t\t//se a lista de itens estiver vazia\r\n\t\t\t\tif ( $('.panel.orcamento .item').children().length === 0 ) {\r\n\t\t\t\t\t\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\t\t\t\t$('.alert')\r\n\t\t\t\t\t\t.addClass('alert-danger')\r\n\t\t\t\t\t\t.children('.texto')\r\n\t\t\t\t\t\t.text('Selecione algum produto.')\r\n\t\t\t\t\t\t.parent()\r\n\t\t\t\t\t\t.slideDown();\r\n\t\t\t\t\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//se a lista de empresas estiver vazia\r\n\t\t\t\tif ( $('.empresas-selec .panel-body').children().length <= 1 ) {\r\n\t\t\t\t\t\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\t\t\t\t$('.alert')\r\n\t\t\t\t\t\t.addClass('alert-danger')\r\n\t\t\t\t\t\t.children('.texto')\r\n\t\t\t\t\t\t.text('Selecione algum fornecedor.')\r\n\t\t\t\t\t\t.parent()\r\n\t\t\t\t\t\t.slideDown();\r\n\t\t\t\t\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t\t\r\n\t\tverificarCampos();\r\n\t\t\r\n\t\t/**\r\n\t\t * Verificar se os fornecedores selecionados possuem email cadastrado.\r\n\t\t * \r\n\t\t * @returns {Boolean}\r\n\t\t */\r\n\t\tfunction verificarEmailFornec() {\r\n\t\t\t\r\n\t\t\tvar ret = true;\r\n\t\t\t\t\r\n\t\t\t$('.empresas-selec .panel-body .empresa-email')\r\n\t\t\t\t.each(function() {\r\n\r\n\t\t\t\t\tif ( $(this).val() === '' ) {\r\n\r\n\t\t\t\t\t\t$('.alert')\r\n\t\t\t\t\t\t\t.addClass('alert-danger')\r\n\t\t\t\t\t\t\t.children('.texto')\r\n\t\t\t\t\t\t\t.text('Existem fornecedores sem e-mail cadastrado.')\r\n\t\t\t\t\t\t\t.parent()\r\n\t\t\t\t\t\t\t.slideDown();\r\n\r\n\t\t\t\t\t\tret = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\treturn ret;\r\n\r\n\t\t}\r\n\r\n\t\t/** \r\n\t\t * Enviar orçamento \r\n\t\t */\r\n\t\tfunction enviarOrcamento() {\r\n\r\n\t\t\t$('button.enviar-orcamento')\r\n\t\t\t\t.click(function(){\r\n\r\n\t\t\t\t\tif ( !verificarEmailFornec() )\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\tvar status_res = 0;\r\n\t\t\t\t\tvar status_msg = '';\r\n\t\t\t\t\tvar botao = $(this);\r\n\r\n\t\t\t\t\tbotao.button('loading');\r\n\t\t\t\t\t$('.alert .texto').empty().parent().hide();\r\n\r\n\t\t\t\t\t$('.orc-id').each(function() {\r\n\r\n\t\t\t\t\t\tvar email\t\t= $(this).parent().find('.empresa-email').val();\r\n                        var id_hash     = $(this).nextAll('input[name=\"_orcamento_hash\"]').val();\r\n\t\t\t\t\t\tvar usuario_id\t= $('.usuario-id').val();\r\n\t\t\t\t\t\tvar assunto\t\t= 'Solicitação de proposta';\r\n\t\t\t\t\t\tvar url_princ\t= 'https://gc.delfa.com.br';\t\t\t\t\t\r\n\t\t\t\t\t\tvar corpo\t\t= url_princ+'/0/'+ id_hash;\r\n\t\t\t\t\t\tvar status\t\t= '1';\r\n\t\t\t\t\t\tvar data_hora\t= 'now';\r\n\t\t\t\t\t\tvar codigo\t\t= 2; //template\r\n\r\n\t\t\t\t\t\t//ajax\r\n\t\t\t\t\t\tvar type\t\t= 'POST',\r\n\t\t\t\t\t\t\tdata\t\t= 'text',\r\n\t\t\t\t\t\t\turl\t\t\t= '/_13020/enviaEmail',\r\n\t\t\t\t\t\t\tdata\t\t= {\r\n\t\t\t\t\t\t\t\t'email': email, 'usuario_id': usuario_id, 'assunto': assunto, 'url': url_princ, \r\n\t\t\t\t\t\t\t\t'corpo': corpo, 'status': status, 'data_hora': data_hora, 'codigo': codigo\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess\t\t= function(resposta) { \r\n\r\n\t\t\t\t\t\t\t\t//sucesso\r\n\t\t\t\t\t\t\t\tif (resposta['0'] === 'sucesso') {\r\n\t\t\t\t\t\t\t\t\tstatus_res = 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//erro\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tstatus_res = 1;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tstatus_msg = resposta['1'];\r\n\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror\t\t= function() { \r\n\t\t\t\t\t\t\t\tstatus_res = 1;\r\n\t\t\t\t\t\t\t\tstatus_msg = 'Erro ao gravar agendamento de envio de email. Contacte o administrador do sistema.';\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcomplete\t= function() {\r\n\r\n\t\t\t\t\t\t\t\t//sucesso\r\n\t\t\t\t\t\t\t\tif (status_res === 0) {\r\n\r\n\t\t\t\t\t\t\t\t\t$('.alert .texto').html(status_msg).parent().removeClass('alert-danger').slideDown();\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//erro\r\n\t\t\t\t\t\t\t\telse if (status_res === 1) {\r\n\r\n\t\t\t\t\t\t\t\t\t$('.alert').removeClass('alert-success').addClass('alert-danger');\r\n\r\n\t\t\t\t\t\t\t\t\tvar excecao;\r\n\t\t\t\t\t\t\t\t\tif ( status_msg ) {\r\n\t\t\t\t\t\t\t\t\t\texcecao = status_msg.match(/exception 1 ...(.*) At trigger (.*)/i);\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t//se for exceção de trigger\r\n\t\t\t\t\t\t\t\t\tif ( excecao ) {\r\n\t\t\t\t\t\t\t\t\t\t$('.alert .texto').html(excecao['1']).parent().slideDown();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t$('.alert .texto').html(status_msg).parent().slideDown();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tbotao.button('reset');\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\texecAjax1(type, url, data, success, error, complete, false);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t}\r\n\t\tenviarOrcamento();\r\n\r\n\r\n\t\t{/** Limite do textarea */\r\n\r\n\t\t\tlimiteTextarea( $('textarea.obs'), 200, $('span.contador span') ); //função em master.js\r\n\t\t}\r\n\r\n\r\n\t\t{ /** Escolher produtos para montar orçamento */\r\n\r\n\t\t\t//Verifica se a requisição já foi escolhida\r\n\t\t\tfunction verificarReqExiste() {\r\n\r\n\t\t\t\tvar ret = false;\r\n\r\n\t\t\t\tif( $('.orcamento .item .panel').length ) {\r\n\r\n\t\t\t\t\t$('.orcamento .item .panel').each(function() {\r\n\r\n\t\t\t\t\t\tif( $(this).hasClass('req'+btn_prod.attr('id-req')) ) {\r\n\t\t\t\t\t\t\tret = true;\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tret = false;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\t\t\t\r\n\t\t\t\telse\r\n\t\t\t\t\tret = false;\r\n\r\n\t\t\t\treturn ret;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//Ativar clique para excluir produtos\r\n\t\t\tfunction ativarCliqueExcluir() {\r\n\r\n\t\t\t\t$('.orcamento .item .panel .excluir').off().on('click', function() {\r\n\r\n\t\t\t\t\tbtn_remover = $(this);\r\n\r\n\t\t\t\t\t$('.requisicoes .produto').each(function() {\r\n\r\n\t\t\t\t\t\tif ( \r\n\t\t\t\t\t\t\t($(this).attr('id-prod') === btn_remover.parent().attr('id-prod')) \r\n\t\t\t\t\t\t\t&& ($(this).attr('id-req') === btn_remover.parent().attr('id-req')) \r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t$(this).attr('aria-pressed','false').removeAttr('disabled');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t//atualizar tabela de valores (oculta)\r\n\t\t\t\t\t$('.tabela-valor').children('.prod').each(function() {\r\n\r\n\t\t\t\t\t\tvar prod = $(this);\r\n\t\t\t\t\t\tvar id\t = btn_remover.parent().attr('id-prod');\r\n\t\t\t\t\t\tvar tam  = 'tam'+btn_remover.parent().find('.tamanho').text();\r\n\r\n\t\t\t\t\t\tif ( verificarProdRepet1(prod, id, tam) ) { //verifica produto repetido\r\n\r\n\t\t\t\t\t\t\tvar qtd = $(this).children('.prod-qtd').val();\r\n\t\t\t\t\t\t\tif(qtd === \"\") qtd = 0;\r\n\t\t\t\t\t\t\tvar qtd_tot = formataPadrao(qtd) - formataPadrao( btn_remover.siblings().children('.quantidade').text() );\r\n\t\t\t\t\t\t\tqtd_tot = qtd_tot.toFixed(4);\t//4 dígitos\r\n\t\t\t\t\t\t\tqtd_tot = formataReal(qtd_tot);\t//função em master.js\r\n\r\n\t\t\t\t\t\t\tvar vlr = $(this).children('.prod-vlr').val();\r\n\t\t\t\t\t\t\tif (vlr === \"\") vlr = 0;\r\n\t\t\t\t\t\t\tvar vlr_tot = formataPadrao(vlr) - formataPadrao( btn_remover.siblings().children('.valor').text() );\r\n\t\t\t\t\t\t\tvlr_tot = vlr_tot.toFixed(4);\t//4 dígitos\r\n\t\t\t\t\t\t\tvlr_tot = formataReal(vlr_tot);\t//função em master.js\r\n\r\n\t\t\t\t\t\t\t//remove o produto da tabela de valores (oculta) quando o mesmo for completamente removido do orçamento\r\n\t\t\t\t\t\t\tif ( formataPadrao(qtd_tot) <= 0 ) {\r\n\t\t\t\t\t\t\t\t$(this).remove();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\r\n\t\t\t\t\t\t\t\t$(this)\r\n\t\t\t\t\t\t\t\t\t.children('.prod-qtd')\r\n\t\t\t\t\t\t\t\t\t.val( qtd_tot );\r\n\r\n\t\t\t\t\t\t\t\t$(this)\r\n\t\t\t\t\t\t\t\t\t.children('.prod-vlr')\r\n\t\t\t\t\t\t\t\t\t.val( vlr_tot );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tpreencheResumo();\r\n\r\n\t\t\t\t\t//ESCONDER/REMOVER\r\n\t\t\t\t\t//verifica se já está em algum orçamento e marca o produto para exclusão\r\n\t\t\t\t\tif( btn_remover.prev().hasClass('orc-id') ) {\r\n\r\n\t\t\t\t\t\tbtn_remover.next('.produto-excluir').val('1');\r\n\r\n\t\t\t\t\t\t//verifica se é o último produto do grupo (requisição)\r\n\t\t\t\t\t\tif( btn_remover.parent().siblings('.label').length === 0 || btn_remover.parent().siblings('.label:visible').length === 0 )\r\n\t\t\t\t\t\t\tbtn_remover.parents('.panel').first().hide();\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tbtn_remover.parent().hide();\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//senão exclui o produto da lista\r\n\t\t\t\t\telse {\r\n\r\n\t\t\t\t\t\t//verifica se é o último produto do grupo (requisição)\r\n\t\t\t\t\t\tif( btn_remover.parent().siblings('.label').length === 0 )\r\n\t\t\t\t\t\t\tbtn_remover.parents('.panel').first().remove();\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tbtn_remover.parent().remove();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//Verificar produtos repetidos\r\n\t\t\tfunction verificarProdRepet() {\r\n\r\n\t\t\t\tvar ret = false;\r\n\r\n\t\t\t\tif ( $('.tabela-valor').children().length === 0 ) {\r\n\r\n\t\t\t\t\tret = false;\r\n\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\r\n\t\t\t\t\t$('.tabela-valor').children('.prod').each(function() {\r\n\r\n\t\t\t\t\t\tvar id = btn_prod.attr('id-prod');\r\n\t\t\t\t\t\tvar tam = 'tam'+btn_prod.find('.tamanho').text();\r\n\r\n\t\t\t\t\t\tif ( ($(this).hasClass( id )) && ($(this).hasClass( tam )) ) {\r\n\t\t\t\t\t\t\tret = true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn ret;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//Verificar se o produto em questão é repetido a partir do id e tamanho.\r\n\t\t\tfunction verificarProdRepet1(prod, id, tam) {\r\n\r\n\t\t\t\tvar ret = false;\r\n\r\n\t\t\t\tif ( prod.hasClass( id ) && prod.hasClass( tam ) ) {\r\n\t\t\t\t\tret = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\r\n\t\t\t//Atualizar tabela de valores (utilizado para montar o resumo dos itens)\r\n\t\t\t// e exibe o resultado das alterações.\r\n\t\t\tfunction atualizaTabela() {\r\n\r\n\t\t\t\t$('.tabela-valor').children('.prod').each(function() {\r\n\r\n\t\t\t\t\tif ( verificarProdRepet2( $(this) ) ) {\r\n\r\n\t\t\t\t\t\tvar qtd = $(this).children('.prod-qtd').val();\r\n\t\t\t\t\t\tif (qtd === \"\") qtd = 0;\r\n\t\t\t\t\t\tvar qtd_tot = formataPadrao(qtd) + formataPadrao( $(this).children('.prod-qtd').val() );\r\n//\t\t\t\t\t\tconsole.log(qtd_tot);\r\n\t\t\t\t\t\tqtd_tot = qtd_tot.toFixed(4);\t//4 dígitos\r\n\t\t\t\t\t\tqtd_tot = formataReal(qtd_tot);\t//função em master.js\r\n\r\n\t\t\t\t\t\tvar vlr = $(this).children('.prod-vlr').val();\r\n\t\t\t\t\t\tif (vlr === \"\") vlr = 0;\r\n\t\t\t\t\t\tvar vlr_tot = formataPadrao(vlr) + formataPadrao( $(this).children('.prod-vlr').val() );\r\n\t\t\t\t\t\tvlr_tot = vlr_tot.toFixed(4);\t//4 dígitos\r\n\t\t\t\t\t\tvlr_tot = formataReal(vlr_tot);\t//função em master.js\r\n\r\n\t\t\t\t\t\t$(this)\r\n\t\t\t\t\t\t\t.children('.prod-qtd')\r\n\t\t\t\t\t\t\t.val( qtd_tot );\r\n\r\n\t\t\t\t\t\t$(this)\r\n\t\t\t\t\t\t\t.children('.prod-vlr')\r\n\t\t\t\t\t\t\t.val( vlr_tot );\r\n\t\t\t\t\t}\t\t\t\t\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//Remover itens repetidos na tabela de valores (utilizado para montar o resumo dos itens)\r\n\t\t\t\t$('.tabela-valor').children('.prod').each(function() {\r\n\r\n\t\t\t\t\tif ( verificarProdRepet2( $(this) ) ) {\r\n\t\t\t\t\t\t$(this).remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tpreencheResumo();\r\n\r\n\t\t\t}\t\t\r\n\r\n\t\t\t//Verificar produtos repetidos (utilizado para montar o resumo dos itens).\r\n\t\t\t//Diferente da 'verificarProdRepet', esta função recebe um produto e verifica se existem produtos\r\n\t\t\t// iguais a ele na 'tabela-valor'.\r\n\t\t\tfunction verificarProdRepet2(prod) {\r\n\r\n\t\t\t\tvar ret = false;\r\n//\t\t\t\tvar jatem;\r\n\t\t\t\t\r\n\t\t\t\t//se tiver a mesma classe (composta por produto e tamanho)\r\n\t\t\t\tif( $(prod).siblings().hasClass( $(prod).attr('class') ) ) {\t\t\r\n//\t\t\t\t\tjatem = $(prod).attr('class');\r\n\t\t\t\t\tret = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\r\n\t\t\t//Preenche resumo dos produtos\r\n\t\t\tfunction preencheResumo() {\r\n\r\n\t\t\t\t$('.tabela-valor').next('.panel.resumo').children('.panel-body').empty().append(\r\n\t\t\t\t\t'<div class=\"titulo-lista\">'+\r\n\t\t\t\t\t'<span>Produto</span>'+\r\n\t\t\t\t\t'<span>Tam.</span>'+\r\n\t\t\t\t\t'<span>Qtd.</span>'+\r\n\t\t\t\t\t'<span>UM</span>'+\r\n\t\t\t\t\t'<span>R$</span>'+\r\n\t\t\t\t\t'</div>'\r\n\t\t\t\t);\r\n\r\n\t\t\t\t//Exibe o resumo dos itens a partir da '.tabela-valor'\r\n\t\t\t\t$('.tabela-valor').children('.prod').each(function() {\r\n\r\n\t\t\t\t\t$('.tabela-valor').next('.panel.resumo').children('.panel-body').append(\r\n\t\t\t\t\t\t'<div class=\"label label-default\" id-prod=\"'+ $(this).children('.prod-id').val() +'\">'+\r\n\t\t\t\t\t\t\t'<div><span>'+ $(this).children('.prod-id').val() +'</span></div>'+\r\n\t\t\t\t\t\t\t'<div title=\"'+ $(this).children('.prod-desc').val() +'\"><span class=\"descricao\">'+ $(this).children('.prod-desc').val() +'</span></div>'+\r\n\t\t\t\t\t\t\t'<div><span class=\"tamanho\">'+ $(this).children('.prod-tamanho').val() +'</span></div>'+\r\n\t\t\t\t\t\t\t'<div><span class=\"quantidade\">'+ $(this).children('.prod-qtd').val() +'</span></div>'+\r\n\t\t\t\t\t\t\t'<div><span class=\"um\">'+ $(this).children('.prod-um').val() +'</span></div>'+\r\n\t\t\t\t\t\t\t'<div><span class=\"valor\">'+ $(this).children('.prod-vlr').val() +'</span></div>'+\r\n\t\t\t\t\t\t'</div>'\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\tatualizaTabela();\r\n\r\n\t\t\tvar btn_remover;\r\n\t\t\tvar btn_prod;\r\n\r\n\t\t\t$('.requisicoes .produto').click(function() {\r\n\r\n\t\t\t\tbtn_prod = $(this);\r\n\t\t\t\tbtn_prod.attr('disabled', 'true');\r\n\r\n\t\t\t\tif( !verificarReqExiste() ) {\r\n\r\n\t\t\t\t\t$('.orcamento .item')\r\n\t\t\t\t\t\t.append(\r\n\t\t\t\t\t\t\t'<div class=\"panel panel-default req'+ btn_prod.attr('id-req') +'\">'+\r\n\t\t\t\t\t\t\t'<div class=\"panel-heading\"><span>Req. '+ btn_prod.attr('id-req') +'</span></div>'+\r\n\t\t\t\t\t\t\t'<div class=\"panel-body\">'+\r\n\t\t\t\t\t\t\t'<div class=\"titulo-lista\">'+\r\n\t\t\t\t\t\t\t'<span>Produto</span>'+\r\n\t\t\t\t\t\t\t'<span>Tam.</span>'+\r\n\t\t\t\t\t\t\t'<span>Qtd.</span>'+\r\n\t\t\t\t\t\t\t'<span>UM</span>'+\r\n\t\t\t\t\t\t\t'<span>R$</span>'+\r\n\t\t\t\t\t\t\t'</div>'+\r\n\t\t\t\t\t\t\t'<div class=\"label label-default\" id-prod=\"'+ btn_prod.attr('id-prod') +'\" id-req=\"'+ btn_prod.attr('id-req') +'\">'+btn_prod.html()+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_produto_excluir[]\" class=\"produto-excluir\" />'+\r\n\t\t\t\t\t\t\t'<button type=\"button\" class=\"btn btn-danger excluir\"><i class=\"glyphicon glyphicon-trash\"></i></button>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_requisicao_id[]\" value=\"'+ btn_prod.attr('id-req') +'\" />'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_id[]\" class=\"prod-id\" value=\"'+ btn_prod.attr('id-prod') +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_desc[]\" class=\"prod-desc\" value=\"'+ btn_prod.find('.descricao').text() +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_obs[]\" class=\"prod-obs\" value=\"'+ btn_prod.find('.obs').attr('title') +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_um[]\" class=\"prod-um\" value=\"'+ btn_prod.find('.um').text() +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_tamanho[]\" class=\"prod-tamanho\" value=\"'+ btn_prod.find('.tamanho').text() +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_qtd[]\" class=\"prod-qtd\" value=\"'+ btn_prod.find('.quantidade').text() +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_valor[]\" class=\"prod-vlr\" value=\"'+ btn_prod.find('.valor').text() +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_licitacao[]\" class=\"prod-lic\" value=\"\"></input>'+ //usado somente em Update\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_req_item_id[]\" class=\"req-item-id\" value=\"\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_oper_codigo[]\" class=\"_oper-codigo\" value=\"'+ btn_prod.find('.operacao-codigo').val() +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_oper_ccusto[]\" class=\"_oper-ccusto\" value=\"'+ btn_prod.find('.operacao-ccusto').val() +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_oper_ccontabil[]\" class=\"_oper-ccontabil\" value=\"'+ btn_prod.find('.operacao-ccontabil').val() +'\"></input>'+\r\n\t\t\t\t\t\t\t'</div>'+\r\n\t\t\t\t\t\t\t'</div>'+\r\n\t\t\t\t\t\t\t'</div>'\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t\t\t//sugestao de fornecedores\r\n\t\t\t\t\tif ( btn_prod.attr('emp-sug') !== '' ) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$('.empresa-sugestao .panel-body')\r\n\t\t\t\t\t\t\t.text(btn_prod.attr('emp-sug'))\r\n\t\t\t\t\t\t\t.parent()\r\n\t\t\t\t\t\t\t.parent()\r\n\t\t\t\t\t\t\t.show();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\telse {\r\n\r\n\t\t\t\t\t$('.orcamento .item .panel').each(function() {\r\n\r\n\t\t\t\t\t\tif( $(this).hasClass('req'+$(btn_prod).attr('id-req')) ) {\r\n\r\n\t\t\t\t\t\t\t$(this).children('.panel-body')\r\n\t\t\t\t\t\t\t\t.append(\r\n\t\t\t\t\t\t\t\t\t'<div class=\"label label-default\" id-prod=\"'+ btn_prod.attr('id-prod') +'\" id-req=\"'+ btn_prod.attr('id-req') +'\">'+ btn_prod.html() +\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_produto_excluir[]\" class=\"produto-excluir\" />'+\r\n\t\t\t\t\t\t\t\t\t'<button type=\"button\" class=\"btn btn-danger excluir\"><i class=\"glyphicon glyphicon-trash\"></i></button>'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_requisicao_id[]\" value=\"'+ btn_prod.attr('id-req') +'\" />'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_id[]\" class=\"prod-id\" value=\"'+ btn_prod.attr('id-prod') +'\"></input>'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_desc[]\" class=\"prod-desc\" value=\"'+ btn_prod.find('.descricao').text() +'\"></input>'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_obs[]\" class=\"prod-obs\" value=\"'+ btn_prod.find('.obs').attr('title') +'\"></input>'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_um[]\" class=\"prod-um\" value=\"'+ btn_prod.find('.um').text() +'\"></input>'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_tamanho[]\" class=\"prod-tamanho\" value=\"'+ btn_prod.find('.tamanho').text() +'\"></input>'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_qtd[]\" class=\"prod-qtd\" value=\"'+ btn_prod.find('.quantidade').text() +'\"></input>'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_valor[]\" class=\"prod-vlr\" value=\"'+ btn_prod.find('.valor').text() +'\"></input>'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_prod_licitacao[]\" class=\"prod-lic\" value=\"\"></input>'+ //usado somente em Update\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_req_item_id[]\" class=\"req-item-id\" value=\"\"></input>'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_oper_codigo[]\" class=\"_oper-codigo\" value=\"'+ btn_prod.find('.operacao-codigo').val() +'\"></input>'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_oper_ccusto[]\" class=\"_oper-ccusto\" value=\"'+ btn_prod.find('.operacao-ccusto').val() +'\"></input>'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_oper_ccontabil[]\" class=\"_oper-ccontabil\" value=\"'+ btn_prod.find('.operacao-ccontabil').val() +'\"></input>'+\r\n\t\t\t\t\t\t\t\t\t'</div>'\r\n\t\t\t\t\t\t\t\t);\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\t\t\t\t\r\n\r\n\t\t\t\t//Atualizar tabela de valores\r\n\t\t\t\tif( !verificarProdRepet() ) {\r\n\r\n\t\t\t\t\tvar prod_obs = '';\r\n\t\t\t\t\tif( btn_prod.find('.obs').length > 0 ) { \r\n\t\t\t\t\t\tprod_obs = btn_prod.find('.obs').attr('title'); \r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t$('.tabela-valor')\r\n\t\t\t\t\t\t.append(\r\n\t\t\t\t\t\t\t'<div class=\"prod '+ btn_prod.attr('id-prod') +' tam'+ btn_prod.find('.tamanho').text() +'\">'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_produto_id[]\" class=\"prod-id\" value=\"'+ btn_prod.attr('id-prod') +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_produto_desc[]\" class=\"prod-desc\" value=\"'+ btn_prod.find('.descricao').text() +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_produto_obs[]\" class=\"prod-obs\" value=\"'+ prod_obs +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_produto_um[]\" class=\"prod-um\" value=\"'+ btn_prod.find('.um').text() +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_produto_tamanho[]\" class=\"prod-tamanho\" value=\"'+ btn_prod.find('.tamanho').text() +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_produto_qtd[]\" class=\"prod-qtd\" value=\"'+ btn_prod.find('.quantidade').text() +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_produto_valor[]\" class=\"prod-vlr\" value=\"'+ btn_prod.find('.valor').text() +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_produto_licitacao[]\" class=\"prod-lic\" value=\"\"></input>'+ //usado somente em Update\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_operacao_codigo[]\" class=\"_operacao-codigo\" value=\"'+ btn_prod.find('.operacao-codigo').val() +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_operacao_ccusto[]\" class=\"_operacao-ccusto\" value=\"'+ btn_prod.find('.operacao-ccusto').val() +'\"></input>'+\r\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_operacao_ccontabil[]\" class=\"_operacao-ccontabil\" value=\"'+ btn_prod.find('.operacao-ccontabil').val() +'\"></input>'+\r\n\t\t\t\t\t\t\t'</div>'\r\n\t\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\r\n\t\t\t\t\t$('.tabela-valor').children('.prod').each(function() {\r\n\r\n\t\t\t\t\t\tvar prod = $(this);\r\n\t\t\t\t\t\tvar id\t = btn_prod.attr('id-prod');\r\n\t\t\t\t\t\tvar tam  = 'tam'+btn_prod.find('.tamanho').text();\r\n\r\n\t\t\t\t\t\tif ( verificarProdRepet1(prod, id, tam) ) {\t\t//verifica produto repetido\r\n\r\n\t\t\t\t\t\t\tvar qtd = $(this).children('.prod-qtd').val();\r\n\t\t\t\t\t\t\tif (qtd === \"\") qtd = 0;\r\n\t\t\t\t\t\t\tvar qtd_tot = formataPadrao(qtd) + formataPadrao( btn_prod.find('.quantidade').text() );\r\n\t\t\t\t\t\t\tqtd_tot = qtd_tot.toFixed(4);\t//4 dígitos\r\n\t\t\t\t\t\t\tqtd_tot = formataReal(qtd_tot);\t//função em master.js\r\n\r\n\t\t\t\t\t\t\tvar vlr = $(this).children('.prod-vlr').val();\r\n\t\t\t\t\t\t\tif (vlr === \"\") vlr = 0;\r\n\t\t\t\t\t\t\tvar vlr_tot = formataPadrao(vlr) + formataPadrao( btn_prod.find('.valor').text() );\r\n\t\t\t\t\t\t\tvlr_tot = vlr_tot.toFixed(4);\t//4 dígitos\r\n\t\t\t\t\t\t\tvlr_tot = formataReal(vlr_tot);\t//função em master.js\r\n\r\n\t\t\t\t\t\t\t$(this)\r\n\t\t\t\t\t\t\t\t.children('.prod-qtd')\r\n\t\t\t\t\t\t\t\t.val( qtd_tot );\r\n\r\n\t\t\t\t\t\t\t$(this)\r\n\t\t\t\t\t\t\t\t.children('.prod-vlr')\r\n\t\t\t\t\t\t\t\t.val( vlr_tot );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tativarCliqueExcluir();\r\n\t\t\t\tatualizaTabela();\r\n\t\t\t});\r\n\r\n\t\t\tativarCliqueExcluir();\t//para a tela de alterar\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t\t{ /** Pesquisar empresa */\r\n\r\n\t\t\tvar filtro;\r\n\t\t\tvar campo_empresa;\r\n\t\t\tvar btn_filtro_empresa;\r\n\t\t\tvar input_group;\r\n\t\t\tvar itens_empresa;\r\n\t\t\tvar tempo_focus;\r\n\r\n\t\t\tfunction pesquisarEmpresa() {\r\n\r\n\t\t\t\tcampo_empresa\t\t= $('.empresa-descricao');\r\n\t\t\t\tinput_group\t\t\t= campo_empresa.parent('.input-group');\r\n\t\t\t\tbtn_filtro_empresa\t= $('.btn-filtro-empresa');\r\n\t\t\t\tfiltro\t\t\t\t= campo_empresa.val();\r\n\r\n\t\t\t\tif( !filtro ) {\r\n\t\t\t\t\tfechaListaEmpresa( input_group );\t\t\t\t\t\r\n\t\t\t\t\t//return false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//ajax\r\n\t\t\t\tvar type\t= \"POST\",\r\n\t\t\t\t\turl\t\t= \"/_13060/pesquisa\",\r\n\t\t\t\t\tdata\t= {\r\n\t\t\t\t\t\t'filtro': filtro, \r\n\t\t\t\t\t\t'status': '1', \r\n\t\t\t\t\t\t'habilita_fornecedor': '1'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess\t= function(data) {\r\n\r\n\t\t\t\t\t\t//se existem dados cadastrados\r\n\t\t\t\t\t\tif( data.indexOf('nao-cadastrado') === -1 ) {\r\n\r\n\t\t\t\t\t\t\tabreListaEmpresa( input_group ); \r\n\t\t\t\t\t\t\t$('.lista-empresas').html(data);\r\n\r\n\t\t\t\t\t\t\titens_empresa = $('ul.empresas li a');\r\n\t\t\t\t\t\t\tselecItemListaEmpresa( itens_empresa, campo_empresa );\r\n\r\n\t\t\t\t\t\t\t$(itens_empresa).focusout(function() {\r\n\r\n\t\t\t\t\t\t\t\tif(tempo_focus) clearTimeout(tempo_focus);\r\n\r\n\t\t\t\t\t\t\t\ttempo_focus = setTimeout(function() {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif( !$(itens_empresa).is(':focus') && \r\n\t\t\t\t\t\t\t\t\t\t!$(campo_empresa).is(':focus') \r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t$(campo_empresa).val('');\r\n\t\t\t\t\t\t\t\t\t\tfechaListaEmpresa( input_group );\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}, 200);\r\n\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t$(campo_empresa).focusout(function() { \r\n\r\n\t\t\t\t\t\t\t\tif(tempo_focus) clearTimeout(tempo_focus);\r\n\r\n\t\t\t\t\t\t\t\ttempo_focus = setTimeout(function() {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif( !$(itens_empresa).is(':focus') ) {\r\n\t\t\t\t\t\t\t\t\t\tfechaListaEmpresa( input_group );\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}, 200);\r\n\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tfechaListaEmpresa( input_group );\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\texecAjax2(type, url, data, success, null, btn_filtro_empresa);\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//Abre resultado da filtragem\r\n\t\t\tfunction abreListaEmpresa(empresa) {\r\n\t\t\t\t\r\n\t\t\t\t$(empresa)\r\n\t\t\t\t\t.next('.lista-empresas-container')\r\n\t\t\t\t\t.addClass('ativo');\r\n\t\t\t\r\n\t\t\t\t$(btn_filtro_empresa)\r\n\t\t\t\t\t.attr('tabindex', '-1');\r\n\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t//Fecha resultado da filtragem\r\n\t\t\tfunction fechaListaEmpresa(empresa) {\r\n\t\t\t\t\r\n\t\t\t\t$(empresa)\r\n\t\t\t\t\t.next('.lista-empresas-container')\r\n\t\t\t\t\t.removeClass('ativo')\r\n\t\t\t\t\t.children('.lista-empresas')\r\n\t\t\t\t\t.empty();\r\n\t\t\t\r\n\t\t\t\t$(btn_filtro_empresa)\r\n\t\t\t\t\t.removeAttr('tabindex');\r\n\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t//Preencher campos de acordo com o item selecionado\r\n\t\t\tfunction selecItemListaEmpresa(itens, campo_empresa) {\r\n\r\n\t\t\t\t$(itens)\r\n\t\t\t\t\t.click(function(e) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\t\t\t\t\t$(campo_empresa)\r\n\t\t\t\t\t\t\t.val('')\r\n\t\t\t\t\t\t\t.focus();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tfechaListaEmpresa( input_group );\r\n\r\n\t\t\t\t\t\t//verifica se a empresa possui e-mail cadastrado\r\n\t\t\t\t\t\tif( !$(this).siblings('input[name=\"_emp_email\"]').val() ) {\r\n\r\n\t\t\t\t\t\t\t$('.alert .texto')\r\n\t\t\t\t\t\t\t\t.empty()\r\n\t\t\t\t\t\t\t\t.text('Empresa '+ $(this).siblings('input[name=\"_emp_id\"]').val() +' - '+ $(this).siblings('input[name=\"_emp_razao\"]').val() +' não possui e-mail cadastrado.')\r\n\t\t\t\t\t\t\t\t.parent()\r\n\t\t\t\t\t\t\t\t.addClass('alert-danger')\r\n\t\t\t\t\t\t\t\t.slideDown();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//else {\r\n\r\n\t\t\t\t\t\t\t$('.empresas-selec .panel-body')\r\n\t\t\t\t\t\t\t\t.append(\r\n\t\t\t\t\t\t\t\t\t'<div class=\"label label-default\">'+\r\n\t\t\t\t\t\t\t\t\t'<span>'+ $(this).siblings('input[name=\"_emp_id\"]').val() +'</span>'+ \r\n\t\t\t\t\t\t\t\t\t'<span title=\"'+ $(this).siblings('input[name=\"_emp_razao\"]').val() +'\">'+ $(this).siblings('input[name=\"_emp_razao\"]').val() +'</span>'+\r\n\t\t\t\t\t\t\t\t\t'<span title=\"'+ $(this).siblings('input[name=\"_emp_email\"]').val() +'\">'+\r\n\t\t\t\t\t\t\t\t\t'<div class=\"dado-atual\">'+ $(this).siblings('input[name=\"_emp_email\"]').val() +'</div>'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"email\" name=\"empresa_email\" class=\"form-control dado-editar empresa-email\" value=\"'+ $(this).siblings('input[name=\"_emp_email\"]').val() +'\" />'+\r\n\t\t\t\t\t\t\t\t\t'</span>'+\r\n\t\t\t\t\t\t\t\t\t'<span title=\"'+ $(this).siblings('input[name=\"_emp_fone\"]').val() +'\">'+\r\n\t\t\t\t\t\t\t\t\t'<div class=\"dado-atual\">'+ $(this).siblings('input[name=\"_emp_fone\"]').val() +'</div>'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"tel\" name=\"empresa_fone\" class=\"form-control fone dado-editar empresa-fone\" value=\"'+ $(this).siblings('input[name=\"_emp_fone\"]').val() +'\" />'+\r\n\t\t\t\t\t\t\t\t\t'</span>'+\r\n\t\t\t\t\t\t\t\t\t'<span title=\"'+ $(this).siblings('input[name=\"_emp_contato\"]').val() +'\">'+\r\n\t\t\t\t\t\t\t\t\t'<div class=\"dado-atual\">'+ $(this).siblings('input[name=\"_emp_contato\"]').val() +'</div>'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"text\" name=\"empresa_contato\" class=\"form-control dado-editar empresa-contato\" value=\"'+ $(this).siblings('input[name=\"_emp_contato\"]').val() +'\" />'+\r\n\t\t\t\t\t\t\t\t\t'</span>'+\r\n\t\t\t\t\t\t\t\t\t'<span title=\"'+ $(this).siblings('input[name=\"_emp_cidade\"]').val() +'\">'+ $(this).siblings('input[name=\"_emp_cidade\"]').val() +'</span>'+\r\n\t\t\t\t\t\t\t\t\t'<span title=\"'+ $(this).siblings('input[name=\"_emp_uf\"]').val() +'\">'+ $(this).siblings('input[name=\"_emp_uf\"]').val() +'</span>'+\r\n\t\t\t\t\t\t\t\t\t'<span></span>'+\r\n\t\t\t\t\t\t\t\t\t'<button type=\"button\" class=\"btn btn-primary empresa-editar\" title=\"Editar\"><i class=\"glyphicon glyphicon-edit\"></i></button>'+\r\n\t\t\t\t\t\t\t\t\t'<button type=\"button\" class=\"btn btn-success empresa-gravar\" title=\"Gravar\"><i class=\"glyphicon glyphicon-ok\"></i></button>'+\r\n\t\t\t\t\t\t\t\t\t'<button type=\"button\" class=\"btn btn-danger empresa-cancelar\" title=\"Cancelar\"><i class=\"glyphicon glyphicon-ban-circle\"></i></button>'+\r\n\t\t\t\t\t\t\t\t\t'<button type=\"button\" class=\"btn btn-danger excluir\" title=\"Excluir\"><i class=\"glyphicon glyphicon-trash\"></i></button>'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_empresa_excluir[]\" class=\"empresa-excluir\" value=\"\" />'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_empresa_id[]\" value=\"'+ $(this).siblings('input[name=\"_emp_id\"]').val() +'\" />'+\r\n\t\t\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"_orcamento_id[]\" value=\"\" />'+\t//utilizado no update para verificar se o fornecedor já está na licitação\r\n\t\t\t\t\t\t\t\t\t'</div>'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.parent()\r\n\t\t\t\t\t\t\t\t.parent()\r\n\t\t\t\t\t\t\t\t.show();\r\n\r\n\t\t\t\t\t\t\tativarCliqueExcluirEmpresa();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t//}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//Ativar clique para excluir empresa\r\n\t\t\tfunction ativarCliqueExcluirEmpresa() {\r\n\r\n\t\t\t\t$('.empresas-selec .panel-body .label .excluir').off().on('click', function() {\r\n\r\n\t\t\t\t\tbtn_remover = $(this);\r\n\r\n//\t\t\t\t\tif( btn_remover.parent().siblings('.label').length === 0 )\r\n//\t\t\t\t\t\tbtn_remover.parents('.empresas-selec').hide();\r\n\r\n\t\t\t\t\tif( btn_remover.prev().hasClass('orc-id') ) {\r\n\t\t\t\t\t\tbtn_remover.next('.empresa-excluir').val('1');\r\n\t\t\t\t\t\tbtn_remover.parent().hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tbtn_remover.parent().remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tativarCliqueExcluirEmpresa();\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * Eventos para o filtro de Empresa.\r\n\t\t\t */\r\n\t\t\tfunction iniciarFiltroEmpresa() {\r\n\t\t\t\r\n\t\t\t\t$('.btn-filtro-empresa')\r\n\t\t\t\t\t.on({\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tclick: function() {\r\n\t\t\t\t\t\t\tpesquisarEmpresa();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfocusout: function() {\r\n\r\n\t\t\t\t\t\t\tif(tempo_focus)\r\n\t\t\t\t\t\t\t\tclearTimeout(tempo_focus);\r\n\r\n\t\t\t\t\t\t\ttempo_focus = setTimeout(function() {\r\n\r\n\t\t\t\t\t\t\t\tif ( !$('.lista-empresas ul li a').is(':focus') && \r\n\t\t\t\t\t\t\t\t\t $('.empresa-descricao').val() \r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t$('.empresa-descricao').val('');\r\n\t\t\t\t\t\t\t\t\tfechaListaEmpresa(input_group);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}, 200);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t$('.empresa-descricao')\r\n\t\t\t\t\t.on({\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tkeydown: function(e) {\r\n\r\n\t\t\t\t\t\t\tif ( e.keyCode === 13 ) {\r\n\t\t\t\t\t\t\t\tpesquisarEmpresa();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfocusout: function() {\r\n\r\n\t\t\t\t\t\t\tif(tempo_focus)\r\n\t\t\t\t\t\t\t\tclearTimeout(tempo_focus);\r\n\r\n\t\t\t\t\t\t\ttempo_focus = setTimeout(function() {\r\n\r\n\t\t\t\t\t\t\t\tif ( !$('.lista-empresas ul li a').is(':focus') && \r\n\t\t\t\t\t\t\t\t\t $('.empresa-descricao').val() &&\r\n\t\t\t\t\t\t\t\t\t !$('.btn-filtro-empresa').is(':focus')\r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t$('.empresa-descricao').val('');\r\n\t\t\t\t\t\t\t\t\tfechaListaEmpresa(input_group);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}, 200);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t//mobile\r\n\t\t\t\tif ( $(window).width() <= 768  ) {\r\n\t\t\t\t\r\n\t\t\t\t\t$('.pesquisa-res-container')\r\n\t\t\t\t\t\t.click(function() {\r\n\t\t\t\t\t\t\tfechaListaEmpresa(input_group);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tiniciarFiltroEmpresa();\r\n\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Habilitar eventos e funções para edição de e-mail do fornecedor.\r\n\t\t */\r\n\t\tfunction iniciarEditarEmail() {\r\n\t\t\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * Editar empresa.\r\n\t\t\t * \r\n\t\t\t * @param {button} btn\r\n\t\t\t */\r\n\t\t\tfunction editarEmpresa(btn) {\r\n\r\n\t\t\t\t$(btn)\r\n\t\t\t\t\t.parent()\r\n\t\t\t\t\t.addClass('selec');\r\n\t\t\t\t$(btn)\r\n\t\t\t\t\t.parent()\r\n\t\t\t\t\t.find('div.dado-atual')\r\n\t\t\t\t\t.hide();\r\n\t\t\t\t$(btn)\r\n\t\t\t\t\t.parent()\r\n\t\t\t\t\t.find('input.dado-editar')\r\n\t\t\t\t\t.show();\r\n\t\t\t\t$(btn)\r\n\t\t\t\t\t.parent()\r\n\t\t\t\t\t.find('input.empresa-email')\r\n\t\t\t\t\t.focus();\r\n\t\t\t\t$(btn)\r\n\t\t\t\t\t.hide();\r\n\t\t\t\t$(btn)\r\n\t\t\t\t\t.nextAll('.excluir')\r\n\t\t\t\t\t.hide();\r\n\t\t\t\t$(btn)\r\n\t\t\t\t\t.nextAll('.empresa-gravar')\r\n\t\t\t\t\t.show();\r\n\t\t\t\t$(btn)\r\n\t\t\t\t\t.nextAll('.empresa-cancelar')\r\n\t\t\t\t\t.show();\r\n\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Cancelar edição da empresa.\r\n\t\t\t * \r\n\t\t\t * @param {button} btn\r\n\t\t\t */\r\n\t\t\tfunction cancelarEditarEmpresa(btn) {\r\n\r\n\t\t\t\t$(btn)\r\n\t\t\t\t\t.parent()\r\n\t\t\t\t\t.removeClass('selec');\r\n\t\t\t\t$(btn)\r\n\t\t\t\t\t.parent()\r\n\t\t\t\t\t.find('div.dado-atual')\r\n\t\t\t\t\t.show();\r\n\t\t\t\t$(btn)\r\n\t\t\t\t\t.parent()\r\n\t\t\t\t\t.find('input.dado-editar')\r\n\t\t\t\t\t.hide();\r\n\t\t\t\t$(btn)\r\n\t\t\t\t\t.show();\r\n\t\t\t\t$(btn)\r\n\t\t\t\t\t.nextAll('.excluir')\r\n\t\t\t\t\t.show();\r\n\t\t\t\t$(btn)\r\n\t\t\t\t\t.next('.empresa-gravar')\r\n\t\t\t\t\t.hide();\r\n\t\t\t\t$(btn)\r\n\t\t\t\t\t.nextAll('.empresa-cancelar')\r\n\t\t\t\t\t.hide();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * Gravar empresa.\r\n\t\t\t * \r\n\t\t\t * @param {button} btn\r\n\t\t\t */\r\n\t\t\tfunction gravarEmpresa(btn) {\r\n\t\t\t\t\r\n\t\t\t\tvar id\t\t\t= $(btn).nextAll('input[name=\"_empresa_id[]\"]').val();\r\n\t\t\t\tvar email\t\t= $(btn).parent().find('input.empresa-email').val();\r\n\t\t\t\tvar fone\t\t= $(btn).parent().find('input.empresa-fone').val();\r\n\t\t\t\tvar fone_limpo\t= $(btn).parent().find('input.empresa-fone').cleanVal();\r\n\t\t\t\tvar contato\t\t= $(btn).parent().find('input.empresa-contato').val();\r\n\t\t\t\t\r\n\t\t\t\texecAjax1(\r\n\t\t\t\t\t'POST',\r\n\t\t\t\t\t'/_13020/editarDadosFornec', \r\n\t\t\t\t\t{ \r\n\t\t\t\t\t\tempresa_id\t\t: id, \r\n\t\t\t\t\t\tempresa_email\t: email, \r\n\t\t\t\t\t\tempresa_fone\t: fone_limpo, \r\n\t\t\t\t\t\tempresa_contato\t: contato \r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(data) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$(btn)\r\n\t\t\t\t\t\t\t.parent()\r\n\t\t\t\t\t\t\t.find('.empresa-email')\r\n\t\t\t\t\t\t\t.prev('div')\r\n\t\t\t\t\t\t\t.empty()\r\n\t\t\t\t\t\t\t.text( email )\r\n\t\t\t\t\t\t\t.show()\r\n\t\t\t\t\t\t\t.parent('span')\r\n\t\t\t\t\t\t\t.attr('title', email);\r\n\t\t\t\t\t\t$(btn)\r\n\t\t\t\t\t\t\t.parent()\r\n\t\t\t\t\t\t\t.find('.empresa-fone')\r\n\t\t\t\t\t\t\t.prev('div')\r\n\t\t\t\t\t\t\t.empty()\r\n\t\t\t\t\t\t\t.text( fone )\r\n\t\t\t\t\t\t\t.show()\r\n\t\t\t\t\t\t\t.parent('span')\r\n\t\t\t\t\t\t\t.attr('title', fone);\r\n\t\t\t\t\t\t$(btn)\r\n\t\t\t\t\t\t\t.parent()\r\n\t\t\t\t\t\t\t.find('.empresa-contato')\r\n\t\t\t\t\t\t\t.prev('div')\r\n\t\t\t\t\t\t\t.empty()\r\n\t\t\t\t\t\t\t.text( contato )\r\n\t\t\t\t\t\t\t.show()\r\n\t\t\t\t\t\t\t.parent('span')\r\n\t\t\t\t\t\t\t.attr('title', contato);\r\n\t\t\t\t\t\t$(btn)\r\n\t\t\t\t\t\t\t.parent()\r\n\t\t\t\t\t\t\t.find('input')\r\n\t\t\t\t\t\t\t.hide();\r\n\t\t\t\t\t\t$(btn)\r\n\t\t\t\t\t\t\t.hide();\r\n\t\t\t\t\t\t$(btn)\r\n\t\t\t\t\t\t\t.siblings('.empresa-cancelar')\r\n\t\t\t\t\t\t\t.hide();\r\n\t\t\t\t\t\t$(btn)\r\n\t\t\t\t\t\t\t.siblings('.excluir')\r\n\t\t\t\t\t\t\t.show();\r\n\t\t\t\t\t\t$(btn)\r\n\t\t\t\t\t\t\t.siblings('.empresa-editar')\r\n\t\t\t\t\t\t\t.show();\r\n\t\t\t\t\t\t$(btn)\r\n\t\t\t\t\t\t\t.parent()\r\n\t\t\t\t\t\t\t.removeClass('selec');\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t$('.alert .texto')\r\n\t\t\t\t\t\t\t.text('Dados da empresa alterados com sucesso.')\r\n\t\t\t\t\t\t\t.parent()\r\n\t\t\t\t\t\t\t.removeClass('alert-danger')\r\n\t\t\t\t\t\t\t.addClass('alert-success')\r\n\t\t\t\t\t\t\t.slideDown();\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//eventos\r\n\t\t\t$('.empresas-selec')\r\n\t\t\t\t.on('click', '.empresa-editar', function() {\r\n\t\t\t\t\teditarEmpresa( $(this) );\r\n\t\t\t\t})\r\n\t\t\t\t.on('click', '.empresa-gravar', function() {\r\n\t\t\t\t\tgravarEmpresa( $(this) );\r\n\t\t\t\t})\r\n\t\t\t\t.on('click', '.empresa-cancelar', function() {\r\n\t\t\t\t\tcancelarEditarEmpresa( $(this).siblings('.empresa-editar') );\r\n\t\t\t\t})\r\n\t\t\t\t.on('keydown', 'input', 'return', function() {\r\n\t\t\t\t\t$('.empresa-gravar').click();\r\n\t\t\t\t})\r\n\t\t\t\t.on('keydown', 'input', 'esc', function() {\r\n\t\t\t\t\tcancelarEditarEmpresa( $(this).parent().siblings('.empresa-editar') );\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tiniciarEditarEmail();\r\n\t\t\r\n\t\r\n\t/**\r\n\t * Passar entre itens com as teclas up/down.\r\n\t */\r\n\tfunction ativarTabSeta() {\r\n\r\n\t\t$(document)\r\n\t\t\t.on('keydown', '.pesquisa-res ul li a', 'down', function() {\r\n\t\t\t\t\r\n\t\t\t\t$.tabNext();\r\n\t\t\t\treturn false;\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t.on('keydown', '.pesquisa-res ul li a', 'up', function() {\r\n\t\t\t\t\r\n\t\t\t\t$.tabPrev();\r\n\t\t\t\treturn false;\r\n\t\t\t\r\n\t\t\t})\r\n\t\t\t.on('keydown', '.empresa-descricao', 'down', function() {\r\n\t\t\t\t\r\n\t\t\t\t$.tabNext();\r\n\t\t\t\treturn false;\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t}\r\n\t\r\n\t$(function() {\r\n\t\t\r\n\t\tativarTabSeta();\r\n\t\t\r\n\t});\r\n\t\r\n\t\r\n})(jQuery);"]}
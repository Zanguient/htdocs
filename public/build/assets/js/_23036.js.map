{"version":3,"sources":["_23036.app.js","_23036.controller.js","_23036.factory.index.js","_23036.factory.create.js","_23036.factory.create.modelo.js","_23036.factory.create.ccusto.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"_23036.js","sourcesContent":["/**\n * App do objeto _23036 - Cadastro de avaliação de desempenho.\n */\n\n'use strict';\n\nangular\n\t.module('app', [\n\t\t'vs-repeat', \n        'gc-find',\n\t\t'gc-ajax',\n\t\t'gc-transform',\n\t\t'gc-form'\n\t])\n;","/**\r\n * Controller do objeto _23036 - Cadastro de avaliação de desempenho.\r\n */\r\n\r\nangular\r\n\t.module('app')\r\n\t.value('gScope', {})\r\n\t.controller('Ctrl', Ctrl);\r\n\r\nCtrl.$inject = [\r\n\t'$scope',\r\n\t'gScope',\r\n\t'Historico',\r\n\t'Index',\r\n\t'Create',\r\n\t'CreateModelo',\r\n\t'CreateCCusto'\r\n];\r\n\r\nfunction Ctrl( \r\n\t$scope,\r\n\tgScope,\r\n\tHistorico,\r\n\tIndex,\r\n\tCreate,\r\n\tCreateModelo,\r\n\tCreateCCusto\r\n) {\r\n\r\n\t// Public instance.\r\n\tgScope.Ctrl = this;\r\n\r\n\t// Local instance.\r\n\tvar $ctrl = this;\r\n\r\n\t// Global variables.\r\n\t$ctrl.tipoTela      = 'listar';\r\n\t$ctrl.permissaoMenu = {};\r\n\t$ctrl.Historico     = new Historico('$ctrl.Historico', $scope);\r\n\r\n\t// Objects.\r\n\t$ctrl.Index  \t\t \t= new Index();\r\n\t$ctrl.Create \t\t \t= new Create();\r\n\t$ctrl.CreateModelo \t \t= new CreateModelo();\r\n\t$ctrl.CreateCCusto \t \t= new CreateCCusto();\r\n}","/**\r\n * Factory index do objeto _23036 - Cadastro de avaliação de desempenho.\r\n */\r\n\r\nangular\r\n\t.module('app')\r\n\t.factory('Index', Index);    \r\n\r\nIndex.$inject = [\r\n\t'$ajax',\r\n\t'gScope'\r\n];\r\n\r\nfunction Index($ajax, gScope) {\r\n\r\n\t// Private variables.\r\n\tvar obj = null;\r\n\r\n\t/**\r\n\t * Constructor, with class name.\r\n\t */\r\n\tfunction Index() {\r\n\r\n\t\tobj = this;\r\n\r\n\t\t// Public variables\r\n\t\tthis.filtro \t\t\t= {};\r\n\t\tthis.listaAvaliacaoBase = [];\r\n\r\n\t\t// Public methods\r\n\t\tthis.init \t\t\t\t= init;\r\n\t\tthis.filtrar \t\t\t= filtrar;\r\n\t\tthis.habilitarIncluir   = habilitarIncluir;\r\n\t\tthis.exibirBase         = exibirBase;\r\n\r\n\t\t// Init methods.\r\n\t\tthis.init();\r\n\t}\r\n\t\r\n\tfunction init() {\r\n\t\t\r\n\t\tthis.filtro.STATUS\t\t\t= '1';\r\n\t\tthis.filtro.DATA_INI_INPUT \t= moment().subtract(1, \"month\").toDate();\r\n\t\tthis.filtro.DATA_FIM_INPUT \t= moment().toDate();\r\n\t}\r\n\r\n\tfunction filtrar() {\r\n\r\n\t\tobj.filtro.DATA_INI = moment(obj.filtro.DATA_INI_INPUT).format('YYYY-MM-DD');\r\n\t\tobj.filtro.DATA_FIM = moment(obj.filtro.DATA_FIM_INPUT).format('YYYY-MM-DD');\r\n\r\n\t\t$ajax\r\n\t\t\t.post('/_23036/consultarBaseAvaliacao', obj.filtro)\r\n\t\t\t.then(function(response) {\r\n\r\n\t\t\t\tobj.listaAvaliacaoBase = response;\r\n\r\n\t\t\t\tformatarCampo();\r\n\t\t\t});\r\n\r\n\t\tfunction formatarCampo() {\r\n\r\n\t\t\tvar base = {};\r\n\r\n\t\t\tfor (var i in obj.listaAvaliacaoBase) {\r\n\r\n\t\t\t\tbase = obj.listaAvaliacaoBase[i];\r\n\r\n\t\t\t\tbase.DATA_AVALIACAO_HUMANIZE = moment(base.DATA_AVALIACAO).format('MMM YYYY');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction habilitarIncluir() {\r\n\r\n\t\tgScope.Ctrl.tipoTela = 'incluir';\r\n\t}\r\n\r\n\tfunction exibirBase(base) {\r\n\r\n\t\tvar create = gScope.Ctrl.Create;\r\n\t\tgScope.Ctrl.tipoTela = 'exibir';\r\n\r\n\t\t$ajax\r\n\t\t\t.post('/_23036/consultarBaseCCustoAvaliacao', base)\r\n\t\t\t.then(function(response) {\r\n\r\n\t\t\t\tcreate.avaliacao.BASE \t\t = base;\r\n\t\t\t\tcreate.avaliacao.BASE.CCUSTO = response;\r\n\t\t\t\t\r\n\t\t\t\tformatarCampo();\r\n\t\t\t\tcarregarModelo();\r\n\r\n\t\t\t\tcreate.exibirModalBase();\t\t\t\t\r\n\t\t\t});\r\n\r\n\t\tfunction formatarCampo() {\r\n\r\n\t\t\tcreate.avaliacao.BASE.DATA_AVALIACAO_INPUT = moment(create.avaliacao.BASE.DATA_AVALIACAO).toDate();\r\n\t\t}\r\n\r\n\t\tfunction carregarModelo() {\r\n\r\n\t\t\tvar modelo = {};\r\n\r\n\t\t\tfor (var i in gScope.Ctrl.CreateModelo.listaModelo) {\r\n\r\n\t\t\t\tmodelo = gScope.Ctrl.CreateModelo.listaModelo[i];\r\n\r\n\t\t\t\tif (modelo.ID == create.avaliacao.BASE.AVALIACAO_DES_MODELO_ID) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tcreate.avaliacao.BASE.MODELO = modelo;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Return the constructor function\r\n\t */\r\n\treturn Index;\r\n};","/**\r\n * Factory create do objeto _23036 - Cadastro de avaliação de desempenho.\r\n */\r\n\r\nangular\r\n\t.module('app')\r\n\t.factory('Create', Create);    \r\n\r\nCreate.$inject = [\r\n\t'$ajax',\r\n\t'gScope'\r\n];\r\n\r\nfunction Create($ajax, gScope) {\r\n\r\n\t// Private variables.\r\n\tvar obj = null;\r\n\r\n\t/**\r\n\t * Constructor, with class name.\r\n\t */\r\n\tfunction Create() {\r\n\r\n\t\tobj = this;\r\n\r\n\t\t// Public variables\r\n\t\tthis.avaliacao \t\t\t= {};\r\n\t\tthis.avaliacao.BASE\t\t= {};\r\n\t\tthis.avaliacao.BASE_BKP = {};\r\n\r\n\t\t// Public methods\r\n\t\tthis.init \t            \t\t = init;\r\n\t\tthis.formatarCampo \t\t\t\t = formatarCampo;\r\n\t\tthis.gravarBase         \t\t = gravarBase;\r\n\t\tthis.excluirBase        \t\t = excluirBase;\r\n\t\tthis.limparCampo        \t\t = limparCampo;\r\n\t\tthis.habilitarAlteracaoBase \t = habilitarAlteracaoBase;\r\n\t\tthis.cancelarAlteracaoBase  \t = cancelarAlteracaoBase;\r\n\t\tthis.exibirModalBase    \t\t = exibirModalBase;\r\n\t\tthis.fecharModalBase    \t\t = fecharModalBase;\r\n\r\n\t\t// Init methods.\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tfunction init() {\r\n\r\n\t\tobj.avaliacao.BASE.STATUS = '1';\r\n\t\tobj.formatarCampo();\r\n\t}\r\n\r\n\tfunction formatarCampo() {\r\n\r\n\t\tobj.avaliacao.BASE.DATA_AVALIACAO_INPUT = moment().toDate();\r\n\t}\r\n\r\n\tfunction gravarBase() {\r\n\r\n\t\tobj.avaliacao.BASE.DATA_AVALIACAO = moment(obj.avaliacao.BASE.DATA_AVALIACAO_INPUT).format('YYYY-MM-DD');\r\n\t\t\r\n\t\t$ajax\r\n\t\t\t.post('/_23036/gravarBase', obj.avaliacao.BASE)\r\n\t\t\t.then(function(response) {\r\n\r\n\t\t\t\tshowSuccess('Gravado com sucesso.');\r\n\t\t\t\tgScope.Ctrl.Index.filtrar();\r\n\t\t\t\tobj.fecharModalBase();\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction excluirBase() {\r\n\r\n\t\tconfirmar();\r\n\r\n\t\tfunction confirmar() {\r\n\r\n\t\t\taddConfirme(\r\n\t\t\t\t'<h4>Confirmação</h4>',\r\n\t\t\t\t'Confirma a exclusão?',\r\n\t\t\t\t[obtn_sim, obtn_nao],\r\n\t\t\t\t[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tret: 1,\r\n\t\t\t\t\t\tfunc: function() {\r\n\r\n\t\t\t\t\t\t\tefetivar();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tret: 2,\r\n\t\t\t\t\t\tfunc: function() {}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction efetivar() {\r\n\r\n\t\t\t$ajax\r\n\t\t\t\t.post('/_23036/excluirBase', obj.avaliacao.BASE)\r\n\t\t\t\t.then(function(response) {\r\n\r\n\t\t\t\t\tshowSuccess('Excluído com sucesso.');\r\n\t\t\t\t\tgScope.Ctrl.Index.filtrar();\r\n\t\t\t\t\tfecharModalBase();\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction limparCampo() {\r\n\r\n\t\tobj.avaliacao.BASE\t\t\t= {};\r\n\t\tobj.avaliacao.BASE.STATUS \t= '1';\r\n\t\tobj.avaliacao.BASE.MODELO\t= {};\r\n\t\tobj.avaliacao.BASE.CCUSTO\t= [];\r\n\r\n\t\tobj.formatarCampo();\r\n\t}\r\n\r\n\tfunction habilitarAlteracaoBase() {\r\n\r\n\t\tangular.copy(obj.avaliacao.BASE, obj.avaliacao.BASE_BKP);\r\n\t\tgScope.Ctrl.tipoTela = 'alterar';\r\n\t}\r\n\r\n\tfunction cancelarAlteracaoBase() {\r\n\r\n\t\tangular.copy(obj.avaliacao.BASE_BKP, obj.avaliacao.BASE);\r\n\t\t\r\n\t\t// Setar o modelo novamente, pois no processo de cópia ele perde o $$hashKey.\r\n\t\tobj.avaliacao.BASE.MODELO = selectById(gScope.Ctrl.CreateModelo.listaModelo, obj.avaliacao.BASE.MODELO.ID);\r\n\r\n\t\tgScope.Ctrl.tipoTela = 'exibir';\r\n\t}\r\n\r\n\tfunction exibirModalBase() {\r\n\r\n\t\t$('#modal-create').modal('show');\r\n\t}\r\n\r\n\tfunction fecharModalBase() {\r\n\r\n\t\t$('#modal-create')\r\n\t\t\t.modal('hide')\r\n\t\t\t.find('.modal-body')\r\n\t\t\t.animate({ scrollTop: 0 }, 'fast');\r\n\r\n\t\tobj.limparCampo();\t\t\r\n\t}\r\n\r\n\t/**\r\n\t * Return the constructor function\r\n\t */\r\n\treturn Create;\r\n};","/**\r\n * Factory create (modelo) do objeto _23036 - Cadastro de avaliação de desempenho.\r\n */\r\n\r\nangular\r\n\t.module('app')\r\n\t.factory('CreateModelo', CreateModelo);    \r\n\r\nCreateModelo.$inject = [\r\n\t'$ajax',\r\n\t'gScope'\r\n];\r\n\r\nfunction CreateModelo($ajax, gScope) {\r\n\r\n\t// Private variables.\r\n\tvar obj = null;\r\n\r\n\t/**\r\n\t * Constructor, with class name.\r\n\t */\r\n\tfunction CreateModelo() {\r\n\r\n\t\tobj = this;\r\n\r\n\t\t// Public variables\r\n\t\tthis.create \t\t\t \t \t  = gScope.Ctrl.Create;\r\n\t\tthis.create.avaliacao.BASE.MODELO = {};\r\n\t\tthis.listaModelo \t\t\t \t  = [];\r\n\r\n\t\t// Public methods\r\n\t\tthis.consultarModelo \t = consultarModelo;\r\n\t\tthis.selecionarModelo \t = selecionarModelo;\r\n\r\n\t\t// Init methods.\r\n\t\tthis.consultarModelo();\r\n\t}\r\n\t\r\n\tfunction consultarModelo() {\r\n\r\n\t\t$ajax\r\n\t\t\t.post('/_23036/consultarModelo')\r\n\t\t\t.then(function(response) {\r\n\r\n\t\t\t\tobj.listaModelo = response;\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction selecionarModelo() {\r\n\r\n\t\tvar base \t= obj.create.avaliacao.BASE,\r\n\t\t\tmodelo \t= obj.create.avaliacao.BASE.MODELO;\r\n\r\n\t\tbase.TITULO \t\t\t= modelo.TITULO;\r\n\t\tbase.INSTRUCAO_INICIAL\t= modelo.INSTRUCAO_INICIAL;\r\n\t\tbase.META_MEDIA_GERAL \t= modelo.META_MEDIA_GERAL;\r\n\t}\r\n\r\n\t/**\r\n\t * Return the constructor function\r\n\t */\r\n\treturn CreateModelo;\r\n};","/**\r\n * Factory create (centro de custo) do objeto _23036 - Cadastro de avaliação de desempenho.\r\n */\r\n\r\nangular\r\n\t.module('app')\r\n\t.factory('CreateCCusto', CreateCCusto);    \r\n\r\nCreateCCusto.$inject = [\r\n\t'$ajax',\r\n\t'gScope',\r\n\t'$timeout'\r\n];\r\n\r\nfunction CreateCCusto($ajax, gScope, $timeout) {\r\n\r\n\t// Private variables.\r\n\tvar obj = null;\r\n\r\n\t/**\r\n\t * Constructor, with class name.\r\n\t */\r\n\tfunction CreateCCusto() {\r\n\r\n\t\tobj = this;\r\n\r\n\t\t// Public variables\r\n\t\tthis.create \t\t\t \t \t\t= gScope.Ctrl.Create;\r\n\t\tthis.create.avaliacao.BASE.CCUSTO \t= [];\r\n\t\tthis.listaCCusto\t\t \t\t\t= [];\r\n\t\tthis.listaCCustoSelecEscolhido \t\t= [];\r\n\t\tthis.listaCCustoExcluir \t\t\t= [];\r\n\r\n\t\t// Public methods\r\n\t\tthis.consultarCCusto \t\t\t= consultarCCusto;\r\n\t\tthis.selecionarCCusto \t\t\t= selecionarCCusto;\r\n\t\tthis.selecionarCCustoEscolhido \t= selecionarCCustoEscolhido;\r\n\t\tthis.excluirCCustoEscolhido \t= excluirCCustoEscolhido;\r\n\t\tthis.fixVsRepeatPesqCCusto \t\t= fixVsRepeatPesqCCusto;\r\n\t\tthis.exibirModal \t\t\t\t= exibirModal;\r\n\t\tthis.fecharModal \t\t\t\t= fecharModal;\r\n\r\n\t\t// Init methods.\r\n\t}\r\n\t\r\n\tfunction consultarCCusto() {\r\n\r\n\t\t$ajax\r\n\t\t\t.post('/_20030/pesquisaCCustoTodos')\r\n\t\t\t.then(function(response) {\r\n\r\n\t\t\t\tfor (var i in response) {\r\n\r\n\t\t\t\t\tresponse[i].CODIGO = response[i].ID;\r\n\t\t\t\t\tdelete response[i].ID;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tobj.listaCCusto = response;\r\n\t\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Selecionar Centro de Custos (modal).\r\n\t */\r\n\tfunction selecionarCCusto(ccusto) {\r\n\r\n\t\tvar baseCCusto\t= obj.create.avaliacao.BASE.CCUSTO,\r\n\t\t\tindexCCusto = baseCCusto.indexOf(ccusto);\r\n\r\n\t\tif (indexCCusto > -1)\r\n\t\t\tbaseCCusto.splice(indexCCusto, 1);\r\n\t\telse\r\n\t\t\tbaseCCusto.push(ccusto);\r\n\t}\r\n\r\n\t/**\r\n\t * Selecionar Centro de Custos escolhidos.\r\n\t */\r\n\tfunction selecionarCCustoEscolhido(ccusto) {\r\n\r\n\t\tvar indexCCusto = obj.listaCCustoSelecEscolhido.indexOf(ccusto);\r\n\r\n\t\tif (indexCCusto > -1)\r\n\t\t\tobj.listaCCustoSelecEscolhido.splice(indexCCusto, 1);\r\n\t\telse\r\n\t\t\tobj.listaCCustoSelecEscolhido.push(ccusto);\r\n\t}\r\n\r\n\t/**\r\n\t * Excluir Centro de Custos escolhidos.\r\n\t */\r\n\tfunction excluirCCustoEscolhido() {\r\n\r\n\t\tvar indexCCusto = -1,\r\n\t\t\tselec \t\t= {},\r\n\t\t\tescolhido \t= {},\r\n\t\t\tbaseCCusto  = obj.create.avaliacao.BASE.CCUSTO;\r\n\r\n\t\tfor (var i in obj.listaCCustoSelecEscolhido) {\r\n\r\n\t\t\tescolhido = obj.listaCCustoSelecEscolhido[i];\r\n\r\n\t\t\tfor (var j in baseCCusto) {\r\n\r\n\t\t\t\tselec = baseCCusto[j];\r\n\r\n\t\t\t\tif (escolhido.ID == null) {\r\n\r\n\t\t\t\t\tindexCCusto = baseCCusto.indexOf(escolhido);\r\n\r\n\t\t\t\t\tif (indexCCusto > -1)\r\n\t\t\t\t\t\tbaseCCusto.splice(indexCCusto, 1);\r\n\t\t\t\t}\r\n\t\t\t\telse if (selec.ID == escolhido.ID) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tselec.STATUSEXCLUSAO = '1';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tobj.listaCCustoSelecEscolhido = [];\r\n\t}\r\n\r\n\t/**\r\n     * Fix para vs-repeat: exibir a tabela completa.\r\n     */\r\n    function fixVsRepeatPesqCCusto() {\r\n\r\n        $timeout(function() {\r\n            $('#modal-pesq-ccusto .table-ccusto').scrollTop(0);\r\n        }, 200);\r\n\r\n    }\r\n\r\n\tfunction exibirModal() {\r\n\r\n\t\tif (obj.listaCCusto.length == 0)\r\n\t\t\tobj.consultarCCusto();\r\n\r\n\t\t$('#modal-pesq-ccusto').modal('show');\r\n\r\n\t\tsetTimeout(function() {\r\n\t\t\t$('.js-input-filtrar-ccusto').focus();\r\n\t\t}, 500);\r\n\r\n\t\tobj.fixVsRepeatPesqCCusto();\r\n\t}\r\n\r\n\tfunction fecharModal() {\r\n\r\n\t\t$('#modal-pesq-ccusto')\r\n\t\t\t.modal('hide')\r\n\t\t\t.find('.modal-body')\r\n\t\t\t.animate({ scrollTop: 0 }, 'fast');\r\n\r\n\t\tobj.filtrarCCusto = \"\";\r\n\t}\r\n\r\n\t/**\r\n\t * Return the constructor function\r\n\t */\r\n\treturn CreateCCusto;\r\n};"]}
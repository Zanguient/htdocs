{"version":3,"sources":["_14020.app.js","_14020.factory.comparar.js","_14020.factory.simulador.js","_14020.factory.cte.js","_14020.factory.frete.js","_14020.controller.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3dA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5pBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5gBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"_14020.js","sourcesContent":["'use strict';\n\nangular\n\t.module('app', [\n\t\t'vs-repeat', \n        'gc-find',\n\t\t'gc-ajax',\n\t\t'gc-transform',\n\t\t'gc-form',\n\t\t'gc-utils',\n        'infinite-scroll',\n        'ngSanitize'\n\t])\n;\n     ","(function(window, angular) {\n    'use strict';\n\n    angular\n        .module('app')\n        .factory('Comparar', Comparar);\n\n\tComparar.$inject = [\n        '$ajax',\n        '$q',\n        '$rootScope',\n        '$compile',\n        '$timeout',\n        '$consulta',\n        'gScope',\n        'gcCollection',\n        'gcObject'\n    ];\n\n\tfunction Comparar($ajax, $q, $rootScope, $compile,$timeout, $consulta, gScope, gcCollection, gcObject) {\n\n        // Private variables.\n        var obj = null;\n        var selected = null;\n        \n        \n\t    /**\n\t     * Constructor, with class name\n\t     */\n\t    function Comparar() {\n            \n            obj = this; \n\n            // Public methods         \n  \n            this.getTransportadoraCidade = getTransportadoraCidade;\n            \n            this.autoComparar = autoComparar;\n            \n            this.calcular       = calcular;\n            this.inserirItem    = inserirItem;\n            this.alterar        = alterar; \n            this.cancelar       = cancelar; \n            this.excluir        = excluir; \n          \n            this.changeRebobinamento = changeRebobinamento;\n            this.changeConformacao   = changeConformacao;\n            \n            this.Modal         = Modal; \n            \n            this.ORDER_BY = '-DATA_ENTRADA_JS';\n            \n            this.FILTRO    = {\n                DATA_1 : moment().subtract(1, \"month\").toDate(),\n                DATA_2 : moment().toDate()                \n            };\n        \n            \n            this.INCLUINDO = false;\n            this.ALTERANDO = false;\n            this.DADOS = [];\n            this.DADOS_RENDER = [];\n\n            this.ITENS          = [];\n            this.DADOS          = [];\n            this.DADOS_DETALHES = [];\n            this.TRANSPORTADORAS     = [];\n            \n            this.TOTAL_GERAL = 0;\n            this.SELECTEDS = [];\n            this.SELECTED = [];\n            this.SELECTED_BACKUP = [];\n            this.DOM_ID = 0;\n            \n\t    }\n        \n        function getTransportadoraCidade(cidade_id) {\n            return $q(function(resolve, reject){\n                $ajax.post('/_14020/api/transportadora/cidade',{CIDADE_ID : cidade_id}).then(function(response){\n                    resolve(response);\n                },function(e){\n                    reject(e);\n                });\n            });\n        }\n        \n        function autoComparar(cidade_id) {\n            \n            getTransportadoraCidade(cidade_id).then(function(response){\n                \n                var transportadoras = response;\n                \n                for ( var i in transportadoras ) {\n                    var transportadora = transportadoras[i];\n                    \n                    inserirItem({\n                        TRANSPORTADORA_ID : transportadora.TRANSPORTADORA_ID,\n                        TRANSPORTADORA_RAZAOSOCIAL : transportadora.RAZAOSOCIAL\n                    },true);\n                }\n                \n                inserirItem();\n            });\n        }\n        \n        function calcular(transportadora_id) {\n            \n            var filtro = {\n                ORIGEM : obj.DADOS.ORIGEM,\n                ORIGEM_ID : obj.DADOS.ORIGEM_ID,\n                TRANSPORTADORA_ID : transportadora_id,\n                ITENS : obj.DADOS.ITENS\n            };\n            \n            return $q(function(resolve, reject){\n                $ajax.post('/_14020/api/frete/calcular',filtro).then(function(response){\n                    resolve(response);\n                },function(e){\n                    reject(e);\n                });\n            });\n        }\n\n        function inserirItem(transportadora,no_auto_insert) {\n   \n            obj.DOM_ID += 1;\n            \n            var item = {DOM_ID:obj.DOM_ID}; \n            \n            var id = item.DOM_ID;\n    \n            item.REQUIRED = obj.TRANSPORTADORAS.length == 0 ? true : false;\n            obj.TRANSPORTADORAS.push(item);\n    \n\n            \n            item.ConsultaTransportadora                        = gScope.Ctrl.Consulta.getNew(true);\n            item.ConsultaTransportadora.componente             = '.consulta-transportadora-'+id;\n            item.ConsultaTransportadora.model                  = 'item.ConsultaTransportadora';\n            item.ConsultaTransportadora.option.label_descricao = 'Transportadora:';\n            item.ConsultaTransportadora.option.obj_consulta    = '/_14020/api/transportadora';\n            item.ConsultaTransportadora.option.tamanho_input   = 'input-maior';\n            item.ConsultaTransportadora.option.tamanho_tabela  = 650;\n            item.ConsultaTransportadora.option.campos_tabela   = [['TRANSPORTADORA_ID', 'Id'],['RAZAOSOCIAL','Razão Social'],['NOMEFANTASIA', 'Nome Fantasia'],['CLASSIFICACAO','Classificação']];\n            item.ConsultaTransportadora.option.obj_ret         = ['TRANSPORTADORA_ID','RAZAOSOCIAL'];\n            item.ConsultaTransportadora.option.required        = true;\n            item.ConsultaTransportadora.autoload               = false;\n\n            item.ConsultaTransportadora.onSelect = function(){\n                \n                \n                obj.calcular(item.ConsultaTransportadora.TRANSPORTADORA_ID).then(function(response){\n                    \n                    angular.extend(item,response);\n                    \n                    item.COMPOSICOES = [\n                        {\n                            DESCRICAO : 'Composição dos Valores',\n                            DADOS : response.DADOS_COMPOSICAO\n                        },\n                        {\n                            DESCRICAO : 'Dados da Carga',\n                            DADOS : response.DADOS_CARGA\n                        }                         \n                    ];                \n\n                    if ( !(no_auto_insert == true) )  {\n                        obj.inserirItem();\n                    }\n                });\n                \n            };\n            \n            item.ConsultaTransportadora.onClear = function() {\n                \n//                item.MODELO_ID = undefined;\n                \n                var idx = obj.TRANSPORTADORAS.indexOf(item);\n                if ( obj.TRANSPORTADORAS.length-1 != idx ) {\n                    obj.TRANSPORTADORAS.splice(idx,1);\n                    \n                    if ( obj.TRANSPORTADORAS.length == 1 ) {\n                        obj.TRANSPORTADORAS[0].REQUIRED = true;\n                        item.ConsultaTransportadora.option.required  = item.REQUIRED;\n                    }\n                }\n                \n            };\n\n\n\n            $timeout(function(){\n                item.ConsultaTransportadora.compile();\n\n                if ( transportadora != undefined ) {\n                    item.ConsultaTransportadora.TRANSPORTADORA_ID          = transportadora.TRANSPORTADORA_ID;\n                    item.ConsultaTransportadora.TRANSPORTADORA_RAZAOSOCIAL = obj.DADOS.TRANSPORTADORA_RAZAOSOCIAL;\n                    item.ConsultaTransportadora.Input.value = transportadora.TRANSPORTADORA_ID + ' - ' + transportadora.TRANSPORTADORA_RAZAOSOCIAL;\n                    item.ConsultaTransportadora.Input.readonly             = true;\n                    item.ConsultaTransportadora.btn_apagar_filtro.visivel  = true;\n                    item.ConsultaTransportadora.btn_apagar_filtro.disabled = false;\n                    item.ConsultaTransportadora.btn_filtro.visivel         = false;            \n                    item.ConsultaTransportadora.item.selected              = true;  \n                    item.ConsultaTransportadora.onSelect();\n                }\n\n            });\n            \n            return item;\n        }\n\n        function alterar() {\n            \n//            gScope.Ctrl.ImobilizadoItem.SELECTEDS = [];\n            \n            \n            gScope.Ctrl.ConsultaFamiliaAgrup.Input.value = obj.SELECTED.FAMILIA_PRODUCAO + ' - ' + obj.SELECTED.FAMILIA_PRODUCAO_DESCRICAO;  \n            gScope.Ctrl.ConsultaFamiliaAgrup.Input.readonly             = true;\n            gScope.Ctrl.ConsultaFamiliaAgrup.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaFamiliaAgrup.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaFamiliaAgrup.btn_filtro.visivel         = false;              \n            gScope.Ctrl.ConsultaFamiliaAgrup.item.selected = true;            \n            \n            \n            gScope.Ctrl.ConsultaFamilia.Input.value = obj.SELECTED.FAMILIA_ID + ' - ' + obj.SELECTED.FAMILIA_DESCRICAO;\n            gScope.Ctrl.ConsultaFamilia.Input.readonly             = true;\n            gScope.Ctrl.ConsultaFamilia.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaFamilia.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaFamilia.btn_filtro.visivel         = false;            \n            gScope.Ctrl.ConsultaFamilia.item.selected = true;            \n            \n            \n            if ( obj.SELECTED.GP_ID > 0 ) {\n                gScope.Ctrl.ConsultaGp.Input.value = obj.SELECTED.GP_ID + ' - ' + obj.SELECTED.GP_DESCRICAO;\n                gScope.Ctrl.ConsultaGp.Input.readonly             = true;\n                gScope.Ctrl.ConsultaGp.btn_apagar_filtro.visivel  = true;\n                gScope.Ctrl.ConsultaGp.btn_apagar_filtro.disabled = false;\n                gScope.Ctrl.ConsultaGp.btn_filtro.visivel         = false;            \n                gScope.Ctrl.ConsultaGp.item.selected = true;            \n            } else {\n                gScope.Ctrl.ConsultaGp.apagar();\n                gScope.Ctrl.ConsultaGp.disable(true);\n            }\n            \n            \n            if ( obj.SELECTED.PERFIL_UP != null && obj.SELECTED.PERFIL_UP != '' ) {\n                gScope.Ctrl.ConsultaPerfil.Input.value = obj.SELECTED.PERFIL_UP + ' - ' + obj.SELECTED.PERFIL_UP_DESCRICAO;\n                gScope.Ctrl.ConsultaPerfil.Input.readonly             = true;\n                gScope.Ctrl.ConsultaPerfil.btn_apagar_filtro.visivel  = true;\n                gScope.Ctrl.ConsultaPerfil.btn_apagar_filtro.disabled = false;\n                gScope.Ctrl.ConsultaPerfil.btn_filtro.visivel         = false;            \n                gScope.Ctrl.ConsultaPerfil.item.selected = true;            \n            } else {\n                gScope.Ctrl.ConsultaPerfil.apagar();\n                gScope.Ctrl.ConsultaPerfil.disable(true);\n            }\n            \n            \n            gScope.Ctrl.ConsultaUp1.Input.value = obj.SELECTED.UP_PADRAO1 + ' - ' + obj.SELECTED.UP_PADRAO1_DESCRICAO;\n            gScope.Ctrl.ConsultaUp1.Input.readonly             = true;\n            gScope.Ctrl.ConsultaUp1.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaUp1.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaUp1.btn_filtro.visivel         = false;\n            gScope.Ctrl.ConsultaUp1.item.selected = true;\n            \n            \n            if ( obj.SELECTED.UP_PADRAO2 > 0 ) {\n                gScope.Ctrl.ConsultaUp2.Input.value = obj.SELECTED.UP_PADRAO2 + ' - ' + obj.SELECTED.UP_PADRAO2_DESCRICAO;\n                gScope.Ctrl.ConsultaUp2.Input.readonly             = true;\n                gScope.Ctrl.ConsultaUp2.btn_apagar_filtro.visivel  = true;\n                gScope.Ctrl.ConsultaUp2.btn_apagar_filtro.disabled = false;\n                gScope.Ctrl.ConsultaUp2.btn_filtro.visivel         = false;\n                gScope.Ctrl.ConsultaUp2.item.selected              = true; \n            } else {\n                gScope.Ctrl.ConsultaUp2.apagar();\n            }\n            \n            \n            gScope.Ctrl.ConsultaCLogistica.Input.value = obj.SELECTED.CLOGISTICA_MASK + ' - ' + obj.SELECTED.CLOGISTICA_DESCRICAO;\n            gScope.Ctrl.ConsultaCLogistica.Input.readonly             = true;\n            gScope.Ctrl.ConsultaCLogistica.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaCLogistica.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaCLogistica.btn_filtro.visivel         = false;\n            gScope.Ctrl.ConsultaCLogistica.item.selected = true;            \n            \n            \n            this.ALTERANDO = true;\n            this.INCLUINDO = false;\n            angular.copy(this.SELECTED, this.SELECTED_BACKUP);\n            \n            obj.Modal.show();\n        };        \n        \n        function cancelar() {\n            \n            addConfirme('<h4>Confirmação</h4>',\n                'Deseja realmente cancelar esta operação?',\n                [obtn_sim,obtn_nao],\n                [{ret:1,func:function(){\n                    $rootScope.$apply(function(){\n                        \n                             \n                        \n                        if ( obj.ALTERANDO && !obj.INCLUINDO ) {\n                            angular.extend(obj.SELECTED, obj.SELECTED_BACKUP);  \n                            \n                            obj.Modal.hide();\n                        }\n                        \n                        obj.ALTERANDO = false;\n                        \n                        if ( obj.INCLUINDO ) {\n                            obj.INCLUINDO = false;\n                            \n                            var idx = obj.DADOS.indexOf(obj.SELECTED);\n                            \n                            obj.DADOS.splice(idx,1);                            \n                                                    \n                            \n//                            obj.selectedReset();\n                            obj.Modal.hide();\n                        }\n                    });\n                }}]     \n            );\n        }\n        \n        function excluir() {\n            addConfirme('<h4>Confirmação</h4>',\n                'Deseja realmente excluir este item?',\n                [obtn_sim,obtn_nao],\n                [{ret:1,func:function(){\n                    $rootScope.$apply(function(){\n                        \n                        obj.SELECTED.EXCLUIDO = true;\n                    });\n                }}]     \n            );\n        }\n        \n        \n        /**\n         * Retorna a view da factory\n         */\n        function renderChart(response) {\n\n\n            var obj = $('#chart_div');\n            var pai = $(obj).closest('#chart-google');\n\n            google.charts.load('current', {packages:[\"orgchart\"]});\n            google.charts.setOnLoadCallback(function() {\n                \n                var data = new google.visualization.DataTable();\n                data.addColumn('string', 'Name');\n                data.addColumn('string', 'Manager');\n                data.addColumn('string', 'ToolTip');\n\n                var dados = response;\n                var item = null;\n                \n                var chart_container = [];\n                var chart_item = [];\n                \n                for ( var i in dados ) {\n                    item = dados[i];\n                    \n                    chart_item = [\n                        {\n                            v:''+item.ID,\n                            f:item.CLOGISTICA_DESCRICAO,\n                            id: ''+item.ORDEM\n                        },\n                        ''+( (item.ORDEM - 1) > 0 ? item.ORDEM - 1 : ''),\n                        ''\n                    ];\n                    \n                    chart_container.push(chart_item);\n                }\n                \n                // For each orgchart box, provide the name, manager, and tooltip to show.\n                data.addRows(chart_container);\n\n                var chart = new google.visualization.OrgChart(document.getElementById('chart_div'));\n                chart.draw(data, {allowHtml:true});\n\n                setTimeout(function(){\n//\n//                    $('.img-loading').css('display','none');\n                    $(obj).replaceWith( $compile($(obj).html())($rootScope) );\n                    $(pai).append('<div style=\"width: 99%; height: 100%;\" id=\"chart_div\"></div>');\n\n                    $rootScope.$apply(function () {\n                        $rootScope.message = \"Timeout called!\";\n                    });\n\n                },400);\n            });\n        }\n        \n        function changeConformacao() {\n            if ( obj.SELECTED.CALCULO_CONFORMACAO_MODEL ) {\n                obj.SELECTED.CALCULO_CONFORMACAO           = 1;\n                obj.SELECTED.CALCULO_CONFORMACAO_DESCRICAO = 'SIM';\n            } else {\n                obj.SELECTED.CALCULO_CONFORMACAO           = 0;\n                obj.SELECTED.CALCULO_CONFORMACAO_DESCRICAO = 'NÃO';\n            }\n        }  \n        \n        function changeRebobinamento(key) {\n            if ( obj.SELECTED.CALCULO_REBOBINAMENTO_MODEL ) {\n                obj.SELECTED.CALCULO_REBOBINAMENTO           = 1;\n                obj.SELECTED.CALCULO_REBOBINAMENTO_DESCRICAO = 'SIM';\n            } else {\n                obj.SELECTED.CALCULO_REBOBINAMENTO           = 0;\n                obj.SELECTED.CALCULO_REBOBINAMENTO_DESCRICAO = 'NÃO';\n            }\n        }  \n        \n        var Modal = {\n            \n            _modal : function(){\n                return $('#modal-regra');\n            },\n            show : function(shown,hidden) {\n\n                this._modal()\n                    .modal('show')\n                ;                         \n\n\n                this._modal()\n                    .one('shown.bs.modal', function(){\n\n                        $(this).find('input:focusable').first().select();\n\n                        if ( shown ) {\n                            shown(); \n                        }\n                    })\n                ;    \n\n                    this._modal()\n                        .one('hidden.bs.modal', function(){\n                            \n                            if ( hidden ) {\n                                hidden();      \n                            }\n                        })\n                    ;        \n            },\n            hide : function(hidden) {\n\n                this._modal()\n                    .modal('hide')\n                ;\n\n                if ( hidden ) {\n                    this._modal()\n                        .one('hidden.bs.modal', function(){\n                            hidden ? hidden() : '';\n                        })\n                    ;                      \n                }\n            }\n        };     \n\n            \n\t    /**\n\t     * Return the constructor function\n\t     */\n\t    return Comparar;\n\t};\n   \n})(window, window.angular);","(function(window, angular) {\n    'use strict';\n\n    angular\n        .module('app')\n        .factory('Simulador', Simulador);\n\n\tSimulador.$inject = [\n        '$ajax',\n        '$q',\n        '$rootScope',\n        '$compile',\n        '$timeout',\n        '$consulta',\n        'gScope',\n        'gcCollection',\n        'gcObject'\n    ];\n\n\tfunction Simulador($ajax, $q, $rootScope, $compile,$timeout, $consulta, gScope, gcCollection, gcObject) {\n\n        // Private variables.\n        var obj = null;\n        var selected = null;\n        \n        \n\t    /**\n\t     * Constructor, with class name\n\t     */\n\t    function Simulador() {\n            \n            obj = this; \n\n            // Public methods         \n            this.consultar        = consultar;\n            this.calcular         = calcular;\n            this.merge            = merge;\n            \n            \n            this.incluir        = incluir; \n            this.inserirItem    = inserirItem;\n            this.alterar        = alterar; \n            this.cancelar       = cancelar; \n            this.excluir        = excluir; \n          \n            this.changeRebobinamento = changeRebobinamento;\n            this.changeConformacao   = changeConformacao;\n            \n            this.Modal         = Modal; \n            \n            this.ORDER_BY = '-DATA_ENTRADA_JS';\n            \n            this.FILTRO    = {\n                DATA_1 : moment().subtract(1, \"month\").toDate(),\n                DATA_2 : moment().toDate()                \n            };\n        \n            \n            this.INCLUINDO = false;\n            this.ALTERANDO = false;\n            this.DADOS = [];\n            this.DADOS_RENDER = [];\n\n            this.ITENS          = [];\n            this.DADOS          = [];\n            this.DADOS_DETALHES = [];\n            \n            this.TOTAL_GERAL = 0;\n            this.SELECTEDS = [];\n            this.SELECTED = [];\n            this.SELECTED_BACKUP = [];\n            this.DOM_ID = 0;\n            \n            obj.inserirItem();\n\t    }\n        \n        \n        \n\n        function consultar() {\n            \n            \n            var filtro = {};\n            angular.copy(obj.FILTRO,filtro);\n            \n            if ( gScope.Ctrl.ConsultaFreteTransportadora.ID > 0 ) {\n                filtro.FRETE_TRANSPORTADORA_ID = \"=\"+gScope.Ctrl.ConsultaFreteTransportadora.ID;\n            } else {\n                delete filtro.FRETE_TRANSPORTADORA_ID;\n            }\n            \n            if ( filtro.DOCUMENTO_TODOS == true ) {\n                delete filtro.DOCUMENTO;\n            } else {\n                filtro.DOCUMENTO = \"LIKE '%' || UPPER('\" + filtro.DOCUMENTO.replace(\" \", \"%\") + \"') || '%'\";\n            }\n            \n            if ( filtro.DATA_TODOS == undefined || filtro.DATA_TODOS == false ) {\n                filtro.DATA_ENTRADA = \"BETWEEN '\" + moment(filtro.DATA_1).format('DD.MM.YYYY') + \"' AND '\" + moment(filtro.DATA_2).format('DD.MM.YYYY') + \"'\";                \n            }\n            \n            delete filtro.DOCUMENTO_TODOS;\n            delete filtro.DATA_TODOS;\n            delete filtro.DATA_1;\n            delete filtro.DATA_2;\n            \n            return $q(function(resolve, reject){\n                $ajax.post('/_14020/api/ctrc',filtro).then(function(response){\n                    \n                    obj.merge(response);\n                    \n                    if ( obj.DADOS.length == 0 ) {\n                        obj.SELECTED = obj.DADOS[0];\n                        $('#tab-cte tbody tr').first().click();\n                    }\n                    \n                    resolve(response);\n                },function(e){\n                    reject(e);\n                });\n            });\n        }      \n        \n        \n\n        function calcular() {\n            try {\n\n\n                var objTransportadora = gScope.Ctrl.ConsultaFreteTransportadoraSimuladorItens;\n                var objCliente = gScope.Ctrl.ConsultaClienteSimuladorItens;\n                var objCidade  = gScope.Ctrl.ConsultaCidadeSimuladorItens;\n\n                var origem = '';\n                var origem_id = '';\n                var itens = [];\n\n                if( objCliente.item.selected == true ) {\n                    origem = 'SIMULADOR';\n                    origem_id = objCliente.ID;\n                } else {\n                    origem    = 'SIMULADOR_CIDADE';\n                    origem_id = objCidade.ID;\n                }\n\n                for ( var i in obj.ITENS ) {\n                    var item = obj.ITENS[i];\n\n                    if ( item.MODELO_ID != undefined ) {\n                        \n                        if ( item.COR_ID == undefined ) {\n                            throw 'Todos os itens deverão ter \"Cor\"';\n                        }\n                        else\n                        if ( item.TAMANHO == undefined ) {\n                            throw 'Todos os itens deverão ter \"Tamanho\"';\n                        }\n                        else\n                        if ( item.TAMANHO == undefined ) {\n                            throw 'Todos os itens deverão ter \"Tamanho\"';\n                        }\n                        else\n                        if ( item.QUANTIDADE == undefined ) {\n                            throw 'Todos os itens deverão ter \"Quantidade\"';\n                        }\n                        else\n                        if ( item.VALOR_UNITARIO == undefined ) {\n                            throw 'Todos os itens deverão ter \"Valor Unitário\"';\n                        }\n                    \n                        itens.push(item);\n                    }\n                }\n\n                if ( itens.length == 0 ) {\n                    throw  'Selecione algum item para realizar a simulação.';\n                }\n                \n                gScope.Ctrl.Frete.calcular(origem,origem_id,objTransportadora.TRANSPORTADORA_ID,null,true,true,itens).then(function(){\n                    gScope.Ctrl.ConsultaFreteTransportadoraSimulador.disable(true);\n                    gScope.Ctrl.Frete.Modal.show();\n\n                });                \n                \n            } catch(err) {\n                showErro(err);\n            }\n        }      \n        \n        \n        \n\n//        function consultarDetalhe() {\n//            \n//            return $q(function(resolve, reject){\n//                $ajax.get('/_14020/api/rateio/tipo/detalhe').then(function(response){\n//                    \n//                    obj.merge(response);\n//                    \n//                    resolve(response);\n//                },function(e){\n//                    reject(e);\n//                });\n//            });\n//        }                \n        \n        /**\n         * Retorna a view da factory\n         */\n        function merge(response, preserve_main) {\n            \n            sanitizeJson(response);\n            \n            gcCollection.merge(obj.DADOS, response,'ID');\n            \n            var item = null;\n            for ( var i in obj.DADOS ) {\n                item = obj.DADOS[i];\n                \n                item.DATA_ENTRADA_JS = moment(item.DATA_ENTRADA).toDate();\n                item.DATA_EMISSAO_JS = moment(item.DATA_EMISSAO).toDate();\n                \n            }\n            \n        }\n        \n        \n        function incluir() {\n            \n            \n            obj.SELECTED = {\n                CALCULO_CONFORMACAO_MODEL       :false ,\n                CALCULO_CONFORMACAO             :0     ,\n                CALCULO_CONFORMACAO_DESCRICAO   :'NÃO' ,\n                CALCULO_REBOBINAMENTO_MODEL     :false ,\n                CALCULO_REBOBINAMENTO           :0     ,\n                CALCULO_REBOBINAMENTO_DESCRICAO :'NÃO' ,\n                CLOGISTICA                          :''    ,\n                CLOGISTICA_DESCRICAO                :''     ,\n                CLOGISTICA_HIERARQUIA               :1      ,\n                CLOGISTICA_MASK                     :''     ,\n                FAMILIA_DESCRICAO               :''     ,\n                FAMILIA_ID                      :''     ,\n                FAMILIA_PRODUCAO                :''     ,\n                FAMILIA_PRODUCAO_DESCRICAO      :''     ,\n                FATOR                           :1      ,\n                GP_DESCRICAO                    :''     ,\n                GP_ID                           :''     ,\n                PERFIL_UP                       :''     ,\n                PERFIL_UP_DESCRICAO             :''     ,\n                REMESSAS_DEFEITO                :0      ,\n                SEQUENCIA                       :1      ,\n                UP_PADRAO1                      :''     ,\n                UP_PADRAO1_DESCRICAO            :''     ,\n                UP_PADRAO2                      :''     ,\n                UP_PADRAO2_DESCRICAO            :''     ,\n                STATUS                          :1      ,\n                EXCLUIDO                        :false\n            };\n            \n            gScope.Ctrl.ConsultaFamiliaAgrup.apagar(true);\n            gScope.Ctrl.ConsultaFamilia.apagar(true);\n            gScope.Ctrl.ConsultaGp.apagar(true);\n            gScope.Ctrl.ConsultaPerfil.apagar(true);\n            gScope.Ctrl.ConsultaUp1.apagar(true);\n            gScope.Ctrl.ConsultaUp2.apagar(true);\n            gScope.Ctrl.ConsultaCLogistica.apagar(true);\n            \n            \n            obj.DADOS.push(obj.SELECTED);\n//            obj.TIPO.CLOGISTICAS.push(obj.SELECTED);\n//            mergeGroup();\n            \n            obj.INCLUINDO = true;\n            obj.ALTERANDO = true;\n            obj.Modal.show();\n\n//            obj.selectedReset();\n        }\n        \n        \n        function inserirItem() {\n   \n            obj.DOM_ID += 1;\n            \n            var item = {DOM_ID:obj.DOM_ID}; \n            \n            var id = item.DOM_ID;\n    \n            item.REQUIRED = obj.ITENS.length == 0 ? true : false;\n            obj.ITENS.push(item);\n    \n\n            item.ConsultaModelo = gScope.Ctrl.Consulta.getNew(true);\n            item.ConsultaModelo.componente                  = '.consulta-modelo-'+id;\n            item.ConsultaModelo.model                       = 'item.ConsultaModelo';\n            item.ConsultaModelo.option.label_descricao      = 'Modelo:';\n            item.ConsultaModelo.option.obj_consulta         = '/_31010/Consultar';\n            item.ConsultaModelo.option.tamanho_input        = 'input-medio';\n            item.ConsultaModelo.option.tamanho_tabela       = 240;\n            item.ConsultaModelo.autoload                    = false;\n            item.ConsultaModelo.option.required                    = item.REQUIRED;\n            item.ConsultaModelo.option.paran                 = {MERCADO: {FAMILIA_ID: 3}}; \n\n            item.ConsultaCor = gScope.Ctrl.Consulta.getNew(true);\n            item.ConsultaCor.componente                      = '.consulta-cor-'+id;\n            item.ConsultaCor.model                           = 'item.ConsultaCor';\n            item.ConsultaCor.option.label_descricao          = 'Cor:';\n            item.ConsultaCor.option.obj_consulta             = '/_31010/ConsultarCor';\n            item.ConsultaCor.option.tamanho_input            = 'input-medio';\n            item.ConsultaCor.option.tamanho_tabela           = 240;\n            item.ConsultaCor.autoload                        = false;\n            item.ConsultaCor.option.required                    = item.REQUIRED;\n            item.ConsultaCor.option.paran = {'PADRAO': 0};\n\n            item.ConsultaTamanho = gScope.Ctrl.Consulta.getNew(true);\n            item.ConsultaTamanho.componente                  = '.consulta-tamanho-'+id;\n            item.ConsultaTamanho.model                       = 'item.ConsultaTamanho';\n            item.ConsultaTamanho.option.label_descricao      = 'Tamanho:';\n            item.ConsultaTamanho.option.obj_consulta         = '/_31010/ConsultarTamanho';\n            item.ConsultaTamanho.option.tamanho_input        = 'input-menor';\n            item.ConsultaTamanho.option.obj_ret              = ['DESCRICAO'];\n            item.ConsultaTamanho.option.tamanho_tabela       = 150;\n            item.ConsultaTamanho.autoload                    = false;\n            item.ConsultaTamanho.option.required                    = item.REQUIRED;\n            item.ConsultaTamanho.option.paran = {'PADRAO': 0};\n\n\n            item.ConsultaModelo.onSelect = function(){\n                \n                item.REQUIRED = true;\n                item.ConsultaModelo.option.required  = item.REQUIRED;\n                item.ConsultaCor.option.required     = item.REQUIRED;\n                item.ConsultaTamanho.option.required = item.REQUIRED;\n\n                item.MODELO_ID = item.ConsultaModelo.ID;\n                \n                obj.inserirItem();\n\n                item.ConsultaCor.option.paran = [];\n                item.ConsultaCor.option.paran = {'PADRAO': 1};\n                item.ConsultaCor.filtrar();   \n\n                item.ConsultaTamanho.option.paran = {'PADRAO': 1};\n                item.ConsultaTamanho.filtrar();\n            };\n            \n            item.ConsultaModelo.onClear = function() {\n                \n                item.MODELO_ID = undefined;\n                \n                var idx = obj.ITENS.indexOf(item);\n                if ( obj.ITENS.length-1 != idx ) {\n                    obj.ITENS.splice(idx,1);\n                    \n                    if ( obj.ITENS.length == 1 ) {\n                        obj.ITENS[0].REQUIRED = true;\n                        item.ConsultaModelo.option.required  = item.REQUIRED;\n                        item.ConsultaCor.option.required     = item.REQUIRED;\n                        item.ConsultaTamanho.option.required = item.REQUIRED;\n                    }\n                }\n                \n            };\n\n            item.ConsultaCor.onSelect = function(){\n\n                item.COR_ID = item.ConsultaCor.ID;\n                \n                item.ConsultaCor.option.paran = {'PADRAO': 0};\n\n            };\n            \n            item.ConsultaCor.onClear = function(){\n                item.COR_ID = undefined;\n            };\n\n            item.ConsultaTamanho.onSelect = function(){\n\n                item.TAMANHO = item.ConsultaTamanho.ID;\n                \n                item.ConsultaTamanho.option.paran = {'PADRAO': 0};\n            };\n\n            item.ConsultaTamanho.onClear = function(){\n                item.TAMANHO = undefined;\n            };\n\n            $timeout(function(){\n                item.ConsultaModelo.compile();\n                item.ConsultaCor.compile();\n                item.ConsultaTamanho.compile();\n\n                item.ConsultaCor.require = item.ConsultaModelo;\n                item.ConsultaCor.vincular();\n\n                item.ConsultaTamanho.require = item.ConsultaModelo;\n                item.ConsultaTamanho.vincular();\n\n            });\n            \n            return item;\n        }\n\n        function alterar() {\n            \n//            gScope.Ctrl.ImobilizadoItem.SELECTEDS = [];\n            \n            \n            gScope.Ctrl.ConsultaFamiliaAgrup.Input.value = obj.SELECTED.FAMILIA_PRODUCAO + ' - ' + obj.SELECTED.FAMILIA_PRODUCAO_DESCRICAO;  \n            gScope.Ctrl.ConsultaFamiliaAgrup.Input.readonly             = true;\n            gScope.Ctrl.ConsultaFamiliaAgrup.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaFamiliaAgrup.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaFamiliaAgrup.btn_filtro.visivel         = false;              \n            gScope.Ctrl.ConsultaFamiliaAgrup.item.selected = true;            \n            \n            \n            gScope.Ctrl.ConsultaFamilia.Input.value = obj.SELECTED.FAMILIA_ID + ' - ' + obj.SELECTED.FAMILIA_DESCRICAO;\n            gScope.Ctrl.ConsultaFamilia.Input.readonly             = true;\n            gScope.Ctrl.ConsultaFamilia.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaFamilia.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaFamilia.btn_filtro.visivel         = false;            \n            gScope.Ctrl.ConsultaFamilia.item.selected = true;            \n            \n            \n            if ( obj.SELECTED.GP_ID > 0 ) {\n                gScope.Ctrl.ConsultaGp.Input.value = obj.SELECTED.GP_ID + ' - ' + obj.SELECTED.GP_DESCRICAO;\n                gScope.Ctrl.ConsultaGp.Input.readonly             = true;\n                gScope.Ctrl.ConsultaGp.btn_apagar_filtro.visivel  = true;\n                gScope.Ctrl.ConsultaGp.btn_apagar_filtro.disabled = false;\n                gScope.Ctrl.ConsultaGp.btn_filtro.visivel         = false;            \n                gScope.Ctrl.ConsultaGp.item.selected = true;            \n            } else {\n                gScope.Ctrl.ConsultaGp.apagar();\n                gScope.Ctrl.ConsultaGp.disable(true);\n            }\n            \n            \n            if ( obj.SELECTED.PERFIL_UP != null && obj.SELECTED.PERFIL_UP != '' ) {\n                gScope.Ctrl.ConsultaPerfil.Input.value = obj.SELECTED.PERFIL_UP + ' - ' + obj.SELECTED.PERFIL_UP_DESCRICAO;\n                gScope.Ctrl.ConsultaPerfil.Input.readonly             = true;\n                gScope.Ctrl.ConsultaPerfil.btn_apagar_filtro.visivel  = true;\n                gScope.Ctrl.ConsultaPerfil.btn_apagar_filtro.disabled = false;\n                gScope.Ctrl.ConsultaPerfil.btn_filtro.visivel         = false;            \n                gScope.Ctrl.ConsultaPerfil.item.selected = true;            \n            } else {\n                gScope.Ctrl.ConsultaPerfil.apagar();\n                gScope.Ctrl.ConsultaPerfil.disable(true);\n            }\n            \n            \n            gScope.Ctrl.ConsultaUp1.Input.value = obj.SELECTED.UP_PADRAO1 + ' - ' + obj.SELECTED.UP_PADRAO1_DESCRICAO;\n            gScope.Ctrl.ConsultaUp1.Input.readonly             = true;\n            gScope.Ctrl.ConsultaUp1.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaUp1.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaUp1.btn_filtro.visivel         = false;\n            gScope.Ctrl.ConsultaUp1.item.selected = true;\n            \n            \n            if ( obj.SELECTED.UP_PADRAO2 > 0 ) {\n                gScope.Ctrl.ConsultaUp2.Input.value = obj.SELECTED.UP_PADRAO2 + ' - ' + obj.SELECTED.UP_PADRAO2_DESCRICAO;\n                gScope.Ctrl.ConsultaUp2.Input.readonly             = true;\n                gScope.Ctrl.ConsultaUp2.btn_apagar_filtro.visivel  = true;\n                gScope.Ctrl.ConsultaUp2.btn_apagar_filtro.disabled = false;\n                gScope.Ctrl.ConsultaUp2.btn_filtro.visivel         = false;\n                gScope.Ctrl.ConsultaUp2.item.selected              = true; \n            } else {\n                gScope.Ctrl.ConsultaUp2.apagar();\n            }\n            \n            \n            gScope.Ctrl.ConsultaCLogistica.Input.value = obj.SELECTED.CLOGISTICA_MASK + ' - ' + obj.SELECTED.CLOGISTICA_DESCRICAO;\n            gScope.Ctrl.ConsultaCLogistica.Input.readonly             = true;\n            gScope.Ctrl.ConsultaCLogistica.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaCLogistica.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaCLogistica.btn_filtro.visivel         = false;\n            gScope.Ctrl.ConsultaCLogistica.item.selected = true;            \n            \n            \n            this.ALTERANDO = true;\n            this.INCLUINDO = false;\n            angular.copy(this.SELECTED, this.SELECTED_BACKUP);\n            \n            obj.Modal.show();\n        };        \n        \n        function cancelar() {\n            \n            addConfirme('<h4>Confirmação</h4>',\n                'Deseja realmente cancelar esta operação?',\n                [obtn_sim,obtn_nao],\n                [{ret:1,func:function(){\n                    $rootScope.$apply(function(){\n                        \n                             \n                        \n                        if ( obj.ALTERANDO && !obj.INCLUINDO ) {\n                            angular.extend(obj.SELECTED, obj.SELECTED_BACKUP);  \n                            \n                            obj.Modal.hide();\n                        }\n                        \n                        obj.ALTERANDO = false;\n                        \n                        if ( obj.INCLUINDO ) {\n                            obj.INCLUINDO = false;\n                            \n                            var idx = obj.DADOS.indexOf(obj.SELECTED);\n                            \n                            obj.DADOS.splice(idx,1);                            \n                                                    \n                            \n//                            obj.selectedReset();\n                            obj.Modal.hide();\n                        }\n                    });\n                }}]     \n            );\n        }\n        \n        function excluir() {\n            addConfirme('<h4>Confirmação</h4>',\n                'Deseja realmente excluir este item?',\n                [obtn_sim,obtn_nao],\n                [{ret:1,func:function(){\n                    $rootScope.$apply(function(){\n                        \n                        obj.SELECTED.EXCLUIDO = true;\n                    });\n                }}]     \n            );\n        }\n        \n        \n        /**\n         * Retorna a view da factory\n         */\n        function renderChart(response) {\n\n\n            var obj = $('#chart_div');\n            var pai = $(obj).closest('#chart-google');\n\n            google.charts.load('current', {packages:[\"orgchart\"]});\n            google.charts.setOnLoadCallback(function() {\n                \n                var data = new google.visualization.DataTable();\n                data.addColumn('string', 'Name');\n                data.addColumn('string', 'Manager');\n                data.addColumn('string', 'ToolTip');\n\n                var dados = response;\n                var item = null;\n                \n                var chart_container = [];\n                var chart_item = [];\n                \n                for ( var i in dados ) {\n                    item = dados[i];\n                    \n                    chart_item = [\n                        {\n                            v:''+item.ID,\n                            f:item.CLOGISTICA_DESCRICAO,\n                            id: ''+item.ORDEM\n                        },\n                        ''+( (item.ORDEM - 1) > 0 ? item.ORDEM - 1 : ''),\n                        ''\n                    ];\n                    \n                    chart_container.push(chart_item);\n                }\n                \n                // For each orgchart box, provide the name, manager, and tooltip to show.\n                data.addRows(chart_container);\n\n                var chart = new google.visualization.OrgChart(document.getElementById('chart_div'));\n                chart.draw(data, {allowHtml:true});\n\n                setTimeout(function(){\n//\n//                    $('.img-loading').css('display','none');\n                    $(obj).replaceWith( $compile($(obj).html())($rootScope) );\n                    $(pai).append('<div style=\"width: 99%; height: 100%;\" id=\"chart_div\"></div>');\n\n                    $rootScope.$apply(function () {\n                        $rootScope.message = \"Timeout called!\";\n                    });\n\n                },400);\n            });\n        }\n        \n        function changeConformacao() {\n            if ( obj.SELECTED.CALCULO_CONFORMACAO_MODEL ) {\n                obj.SELECTED.CALCULO_CONFORMACAO           = 1;\n                obj.SELECTED.CALCULO_CONFORMACAO_DESCRICAO = 'SIM';\n            } else {\n                obj.SELECTED.CALCULO_CONFORMACAO           = 0;\n                obj.SELECTED.CALCULO_CONFORMACAO_DESCRICAO = 'NÃO';\n            }\n        }  \n        \n        function changeRebobinamento(key) {\n            if ( obj.SELECTED.CALCULO_REBOBINAMENTO_MODEL ) {\n                obj.SELECTED.CALCULO_REBOBINAMENTO           = 1;\n                obj.SELECTED.CALCULO_REBOBINAMENTO_DESCRICAO = 'SIM';\n            } else {\n                obj.SELECTED.CALCULO_REBOBINAMENTO           = 0;\n                obj.SELECTED.CALCULO_REBOBINAMENTO_DESCRICAO = 'NÃO';\n            }\n        }  \n        \n        var Modal = {\n            \n            _modal : function(){\n                return $('#modal-regra');\n            },\n            show : function(shown,hidden) {\n\n                this._modal()\n                    .modal('show')\n                ;                         \n\n\n                this._modal()\n                    .one('shown.bs.modal', function(){\n\n                        $(this).find('input:focusable').first().select();\n\n                        if ( shown ) {\n                            shown(); \n                        }\n                    })\n                ;    \n\n                    this._modal()\n                        .one('hidden.bs.modal', function(){\n                            \n                            if ( hidden ) {\n                                hidden();      \n                            }\n                        })\n                    ;        \n            },\n            hide : function(hidden) {\n\n                this._modal()\n                    .modal('hide')\n                ;\n\n                if ( hidden ) {\n                    this._modal()\n                        .one('hidden.bs.modal', function(){\n                            hidden ? hidden() : '';\n                        })\n                    ;                      \n                }\n            }\n        };     \n\n            \n\t    /**\n\t     * Return the constructor function\n\t     */\n\t    return Simulador;\n\t};\n   \n})(window, window.angular);","(function(window, angular) {\n    'use strict';\n\n    angular\n        .module('app')\n        .factory('Cte', Cte);\n\n\tCte.$inject = [\n        '$ajax',\n        '$q',\n        '$rootScope',\n        '$compile',\n        '$timeout',\n        '$consulta',\n        'gScope',\n        'gcCollection',\n        'gcObject'\n    ];\n\n\tfunction Cte($ajax, $q, $rootScope, $compile,$timeout, $consulta, gScope, gcCollection, gcObject) {\n\n        // Private variables.\n        var obj = null;\n        var selected = null;\n        \n        \n\t    /**\n\t     * Constructor, with class name\n\t     */\n\t    function Cte() {\n            \n            obj = this; \n\n            // Public methods         \n            this.consultar        = consultar;\n            this.calcular         = calcular;\n            this.merge            = merge;\n            \n            \n            this.incluir        = incluir; \n            this.confirmar      = confirmar; \n            this.alterar        = alterar; \n            this.cancelar       = cancelar; \n            this.excluir        = excluir; \n          \n            this.changeRebobinamento = changeRebobinamento;\n            this.changeConformacao   = changeConformacao;\n            \n            this.Modal         = Modal; \n            \n            this.ORDER_BY = '-DATA_ENTRADA_JS';\n            \n            this.FILTRO    = {\n                DATA_1 : moment().subtract(1, \"month\").toDate(),\n                DATA_2 : moment().toDate()                \n            };\n        \n            \n            this.INCLUINDO = false;\n            this.ALTERANDO = false;\n            this.DADOS = [];\n            this.DADOS_RENDER = [];\n\n            this.DADOS          = [];\n            this.DADOS_DETALHES = [];\n            \n            this.TOTAL_GERAL = 0;\n            this.SELECTEDS = [];\n            this.SELECTED = [];\n            this.SELECTED_BACKUP = [];\n            \n\t    }\n        \n        \n        \n\n        function consultar() {\n            \n            \n            var filtro = {};\n            angular.copy(obj.FILTRO,filtro);\n            \n            if ( gScope.Ctrl.ConsultaFreteTransportadora.ID > 0 ) {\n                filtro.FRETE_TRANSPORTADORA_ID = \"=\"+gScope.Ctrl.ConsultaFreteTransportadora.ID;\n            } else {\n                delete filtro.FRETE_TRANSPORTADORA_ID;\n            }\n            \n            if ( filtro.DOCUMENTO_TODOS == true ) {\n                delete filtro.DOCUMENTO;\n            } else {\n                filtro.DOCUMENTO = \"LIKE '%' || UPPER('\" + filtro.DOCUMENTO.replace(\" \", \"%\") + \"') || '%'\";\n            }\n            \n            if ( filtro.DATA_TODOS == undefined || filtro.DATA_TODOS == false ) {\n                filtro.DATA_ENTRADA = \"BETWEEN '\" + moment(filtro.DATA_1).format('DD.MM.YYYY') + \"' AND '\" + moment(filtro.DATA_2).format('DD.MM.YYYY') + \"'\";                \n            }\n            \n            delete filtro.DOCUMENTO_TODOS;\n            delete filtro.DATA_TODOS;\n            delete filtro.DATA_1;\n            delete filtro.DATA_2;\n            \n            return $q(function(resolve, reject){\n                $ajax.post('/_14020/api/ctrc',filtro).then(function(response){\n                    \n                    obj.merge(response);\n                    \n                    if ( obj.DADOS.length == 0 ) {\n                        obj.SELECTED = obj.DADOS[0];\n                        $('#tab-cte tbody tr').first().click();\n                    }\n                    \n                    resolve(response);\n                },function(e){\n                    reject(e);\n                });\n            });\n        }      \n        \n        \n\n        function calcular(origem,origem_id,transportadora_id,estabelecimento_id) {\n            \n            gScope.Ctrl.Frete.calcular(origem,origem_id,transportadora_id,estabelecimento_id).then(function(){\n                obj.consultar();\n            });\n        }      \n        \n        \n        \n\n//        function consultarDetalhe() {\n//            \n//            return $q(function(resolve, reject){\n//                $ajax.get('/_14020/api/rateio/tipo/detalhe').then(function(response){\n//                    \n//                    obj.merge(response);\n//                    \n//                    resolve(response);\n//                },function(e){\n//                    reject(e);\n//                });\n//            });\n//        }                \n        \n        /**\n         * Retorna a view da factory\n         */\n        function merge(response, preserve_main) {\n            \n            sanitizeJson(response);\n            \n            gcCollection.merge(obj.DADOS, response,'ID');\n            \n            var item = null;\n            for ( var i in obj.DADOS ) {\n                item = obj.DADOS[i];\n                \n                item.DATA_ENTRADA_JS = moment(item.DATA_ENTRADA).toDate();\n                item.DATA_EMISSAO_JS = moment(item.DATA_EMISSAO).toDate();\n                \n            }\n            \n        }\n        \n        \n        function incluir() {\n            \n            \n            obj.SELECTED = {\n                CALCULO_CONFORMACAO_MODEL       :false ,\n                CALCULO_CONFORMACAO             :0     ,\n                CALCULO_CONFORMACAO_DESCRICAO   :'NÃO' ,\n                CALCULO_REBOBINAMENTO_MODEL     :false ,\n                CALCULO_REBOBINAMENTO           :0     ,\n                CALCULO_REBOBINAMENTO_DESCRICAO :'NÃO' ,\n                CLOGISTICA                          :''    ,\n                CLOGISTICA_DESCRICAO                :''     ,\n                CLOGISTICA_HIERARQUIA               :1      ,\n                CLOGISTICA_MASK                     :''     ,\n                FAMILIA_DESCRICAO               :''     ,\n                FAMILIA_ID                      :''     ,\n                FAMILIA_PRODUCAO                :''     ,\n                FAMILIA_PRODUCAO_DESCRICAO      :''     ,\n                FATOR                           :1      ,\n                GP_DESCRICAO                    :''     ,\n                GP_ID                           :''     ,\n                PERFIL_UP                       :''     ,\n                PERFIL_UP_DESCRICAO             :''     ,\n                REMESSAS_DEFEITO                :0      ,\n                SEQUENCIA                       :1      ,\n                UP_PADRAO1                      :''     ,\n                UP_PADRAO1_DESCRICAO            :''     ,\n                UP_PADRAO2                      :''     ,\n                UP_PADRAO2_DESCRICAO            :''     ,\n                STATUS                          :1      ,\n                EXCLUIDO                        :false\n            };\n            \n            gScope.Ctrl.ConsultaFamiliaAgrup.apagar(true);\n            gScope.Ctrl.ConsultaFamilia.apagar(true);\n            gScope.Ctrl.ConsultaGp.apagar(true);\n            gScope.Ctrl.ConsultaPerfil.apagar(true);\n            gScope.Ctrl.ConsultaUp1.apagar(true);\n            gScope.Ctrl.ConsultaUp2.apagar(true);\n            gScope.Ctrl.ConsultaCLogistica.apagar(true);\n            \n            \n            obj.DADOS.push(obj.SELECTED);\n//            obj.TIPO.CLOGISTICAS.push(obj.SELECTED);\n//            mergeGroup();\n            \n            obj.INCLUINDO = true;\n            obj.ALTERANDO = true;\n            obj.Modal.show();\n\n//            obj.selectedReset();\n        }\n        \n        function confirmar() {\n       \n            \n            var dados = {\n                FILTRO: {},\n                DADOS : obj.DADOS\n            };\n//    \n            $ajax.post('/_14020/api/regra/post',dados).then(function(response){\n\n                obj.merge(response.DATA_RETURN);\n                \n            });\n        }\n\n        function alterar() {\n            \n//            gScope.Ctrl.ImobilizadoItem.SELECTEDS = [];\n            \n            \n            gScope.Ctrl.ConsultaFamiliaAgrup.Input.value = obj.SELECTED.FAMILIA_PRODUCAO + ' - ' + obj.SELECTED.FAMILIA_PRODUCAO_DESCRICAO;  \n            gScope.Ctrl.ConsultaFamiliaAgrup.Input.readonly             = true;\n            gScope.Ctrl.ConsultaFamiliaAgrup.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaFamiliaAgrup.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaFamiliaAgrup.btn_filtro.visivel         = false;              \n            gScope.Ctrl.ConsultaFamiliaAgrup.item.selected = true;            \n            \n            \n            gScope.Ctrl.ConsultaFamilia.Input.value = obj.SELECTED.FAMILIA_ID + ' - ' + obj.SELECTED.FAMILIA_DESCRICAO;\n            gScope.Ctrl.ConsultaFamilia.Input.readonly             = true;\n            gScope.Ctrl.ConsultaFamilia.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaFamilia.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaFamilia.btn_filtro.visivel         = false;            \n            gScope.Ctrl.ConsultaFamilia.item.selected = true;            \n            \n            \n            if ( obj.SELECTED.GP_ID > 0 ) {\n                gScope.Ctrl.ConsultaGp.Input.value = obj.SELECTED.GP_ID + ' - ' + obj.SELECTED.GP_DESCRICAO;\n                gScope.Ctrl.ConsultaGp.Input.readonly             = true;\n                gScope.Ctrl.ConsultaGp.btn_apagar_filtro.visivel  = true;\n                gScope.Ctrl.ConsultaGp.btn_apagar_filtro.disabled = false;\n                gScope.Ctrl.ConsultaGp.btn_filtro.visivel         = false;            \n                gScope.Ctrl.ConsultaGp.item.selected = true;            \n            } else {\n                gScope.Ctrl.ConsultaGp.apagar();\n                gScope.Ctrl.ConsultaGp.disable(true);\n            }\n            \n            \n            if ( obj.SELECTED.PERFIL_UP != null && obj.SELECTED.PERFIL_UP != '' ) {\n                gScope.Ctrl.ConsultaPerfil.Input.value = obj.SELECTED.PERFIL_UP + ' - ' + obj.SELECTED.PERFIL_UP_DESCRICAO;\n                gScope.Ctrl.ConsultaPerfil.Input.readonly             = true;\n                gScope.Ctrl.ConsultaPerfil.btn_apagar_filtro.visivel  = true;\n                gScope.Ctrl.ConsultaPerfil.btn_apagar_filtro.disabled = false;\n                gScope.Ctrl.ConsultaPerfil.btn_filtro.visivel         = false;            \n                gScope.Ctrl.ConsultaPerfil.item.selected = true;            \n            } else {\n                gScope.Ctrl.ConsultaPerfil.apagar();\n                gScope.Ctrl.ConsultaPerfil.disable(true);\n            }\n            \n            \n            gScope.Ctrl.ConsultaUp1.Input.value = obj.SELECTED.UP_PADRAO1 + ' - ' + obj.SELECTED.UP_PADRAO1_DESCRICAO;\n            gScope.Ctrl.ConsultaUp1.Input.readonly             = true;\n            gScope.Ctrl.ConsultaUp1.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaUp1.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaUp1.btn_filtro.visivel         = false;\n            gScope.Ctrl.ConsultaUp1.item.selected = true;\n            \n            \n            if ( obj.SELECTED.UP_PADRAO2 > 0 ) {\n                gScope.Ctrl.ConsultaUp2.Input.value = obj.SELECTED.UP_PADRAO2 + ' - ' + obj.SELECTED.UP_PADRAO2_DESCRICAO;\n                gScope.Ctrl.ConsultaUp2.Input.readonly             = true;\n                gScope.Ctrl.ConsultaUp2.btn_apagar_filtro.visivel  = true;\n                gScope.Ctrl.ConsultaUp2.btn_apagar_filtro.disabled = false;\n                gScope.Ctrl.ConsultaUp2.btn_filtro.visivel         = false;\n                gScope.Ctrl.ConsultaUp2.item.selected              = true; \n            } else {\n                gScope.Ctrl.ConsultaUp2.apagar();\n            }\n            \n            \n            gScope.Ctrl.ConsultaCLogistica.Input.value = obj.SELECTED.CLOGISTICA_MASK + ' - ' + obj.SELECTED.CLOGISTICA_DESCRICAO;\n            gScope.Ctrl.ConsultaCLogistica.Input.readonly             = true;\n            gScope.Ctrl.ConsultaCLogistica.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaCLogistica.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaCLogistica.btn_filtro.visivel         = false;\n            gScope.Ctrl.ConsultaCLogistica.item.selected = true;            \n            \n            \n            this.ALTERANDO = true;\n            this.INCLUINDO = false;\n            angular.copy(this.SELECTED, this.SELECTED_BACKUP);\n            \n            obj.Modal.show();\n        };        \n        \n        function cancelar() {\n            \n            addConfirme('<h4>Confirmação</h4>',\n                'Deseja realmente cancelar esta operação?',\n                [obtn_sim,obtn_nao],\n                [{ret:1,func:function(){\n                    $rootScope.$apply(function(){\n                        \n                             \n                        \n                        if ( obj.ALTERANDO && !obj.INCLUINDO ) {\n                            angular.extend(obj.SELECTED, obj.SELECTED_BACKUP);  \n                            \n                            obj.Modal.hide();\n                        }\n                        \n                        obj.ALTERANDO = false;\n                        \n                        if ( obj.INCLUINDO ) {\n                            obj.INCLUINDO = false;\n                            \n                            var idx = obj.DADOS.indexOf(obj.SELECTED);\n                            \n                            obj.DADOS.splice(idx,1);                            \n                                                    \n                            \n//                            obj.selectedReset();\n                            obj.Modal.hide();\n                        }\n                    });\n                }}]     \n            );\n        }\n        \n        function excluir() {\n            addConfirme('<h4>Confirmação</h4>',\n                'Deseja realmente excluir este item?',\n                [obtn_sim,obtn_nao],\n                [{ret:1,func:function(){\n                    $rootScope.$apply(function(){\n                        \n                        obj.SELECTED.EXCLUIDO = true;\n                    });\n                }}]     \n            );\n        }\n        \n        \n        /**\n         * Retorna a view da factory\n         */\n        function renderChart(response) {\n\n\n            var obj = $('#chart_div');\n            var pai = $(obj).closest('#chart-google');\n\n            google.charts.load('current', {packages:[\"orgchart\"]});\n            google.charts.setOnLoadCallback(function() {\n                \n                var data = new google.visualization.DataTable();\n                data.addColumn('string', 'Name');\n                data.addColumn('string', 'Manager');\n                data.addColumn('string', 'ToolTip');\n\n                var dados = response;\n                var item = null;\n                \n                var chart_container = [];\n                var chart_item = [];\n                \n                for ( var i in dados ) {\n                    item = dados[i];\n                    \n                    chart_item = [\n                        {\n                            v:''+item.ID,\n                            f:item.CLOGISTICA_DESCRICAO,\n                            id: ''+item.ORDEM\n                        },\n                        ''+( (item.ORDEM - 1) > 0 ? item.ORDEM - 1 : ''),\n                        ''\n                    ];\n                    \n                    chart_container.push(chart_item);\n                }\n                \n                // For each orgchart box, provide the name, manager, and tooltip to show.\n                data.addRows(chart_container);\n\n                var chart = new google.visualization.OrgChart(document.getElementById('chart_div'));\n                chart.draw(data, {allowHtml:true});\n\n                setTimeout(function(){\n//\n//                    $('.img-loading').css('display','none');\n                    $(obj).replaceWith( $compile($(obj).html())($rootScope) );\n                    $(pai).append('<div style=\"width: 99%; height: 100%;\" id=\"chart_div\"></div>');\n\n                    $rootScope.$apply(function () {\n                        $rootScope.message = \"Timeout called!\";\n                    });\n\n                },400);\n            });\n        }\n        \n        function changeConformacao() {\n            if ( obj.SELECTED.CALCULO_CONFORMACAO_MODEL ) {\n                obj.SELECTED.CALCULO_CONFORMACAO           = 1;\n                obj.SELECTED.CALCULO_CONFORMACAO_DESCRICAO = 'SIM';\n            } else {\n                obj.SELECTED.CALCULO_CONFORMACAO           = 0;\n                obj.SELECTED.CALCULO_CONFORMACAO_DESCRICAO = 'NÃO';\n            }\n        }  \n        \n        function changeRebobinamento(key) {\n            if ( obj.SELECTED.CALCULO_REBOBINAMENTO_MODEL ) {\n                obj.SELECTED.CALCULO_REBOBINAMENTO           = 1;\n                obj.SELECTED.CALCULO_REBOBINAMENTO_DESCRICAO = 'SIM';\n            } else {\n                obj.SELECTED.CALCULO_REBOBINAMENTO           = 0;\n                obj.SELECTED.CALCULO_REBOBINAMENTO_DESCRICAO = 'NÃO';\n            }\n        }  \n        \n        var Modal = {\n            \n            _modal : function(){\n                return $('#modal-regra');\n            },\n            show : function(shown,hidden) {\n\n                this._modal()\n                    .modal('show')\n                ;                         \n\n\n                this._modal()\n                    .one('shown.bs.modal', function(){\n\n                        $(this).find('input:focusable').first().select();\n\n                        if ( shown ) {\n                            shown(); \n                        }\n                    })\n                ;    \n\n                    this._modal()\n                        .one('hidden.bs.modal', function(){\n                            \n                            if ( hidden ) {\n                                hidden();      \n                            }\n                        })\n                    ;        \n            },\n            hide : function(hidden) {\n\n                this._modal()\n                    .modal('hide')\n                ;\n\n                if ( hidden ) {\n                    this._modal()\n                        .one('hidden.bs.modal', function(){\n                            hidden ? hidden() : '';\n                        })\n                    ;                      \n                }\n            }\n        };     \n\n            \n\t    /**\n\t     * Return the constructor function\n\t     */\n\t    return Cte;\n\t};\n   \n})(window, window.angular);","(function(window, angular) {\n    'use strict';\n\n    angular\n        .module('app')\n        .factory('Frete', Frete);\n\n\tFrete.$inject = [\n        '$ajax',\n        '$q',\n        '$rootScope',\n        '$compile',\n        '$timeout',\n        '$consulta',\n        'gScope',\n        'gcCollection',\n        'gcObject'\n    ];\n\n\tfunction Frete($ajax, $q, $rootScope, $compile,$timeout, $consulta, gScope, gcCollection, gcObject) {\n\n        // Private variables.\n        var obj = null;\n        var selected = null;\n        \n        \n\t    /**\n\t     * Constructor, with class name\n\t     */\n\t    function Frete() {\n            \n            obj = this; \n\n            // Public methods         \n            this.consultar = consultar;\n            this.calcular        = calcular;\n            this.merge            = merge;\n            \n            this.keydown          = keydown;\n       \n            \n            this.incluir        = incluir; \n            this.confirmar      = confirmar; \n            this.alterar        = alterar; \n            this.cancelar       = cancelar; \n            this.excluir        = excluir; \n          \n            this.changeRebobinamento = changeRebobinamento;\n            this.changeConformacao   = changeConformacao;\n            \n            this.Modal         = Modal; \n            \n            this.ORDER_BY = '-DATA_ENTRADA_JS';\n            \n            this.FILTRO    = {\n                DATA_1 : moment().subtract(1, \"year\").toDate(),\n                DATA_2 : moment().toDate()                \n            };\n        \n            \n            this.INCLUINDO = false;\n            this.ALTERANDO = false;\n            this.DADOS = [];\n            this.DADOS_RENDER = [];\n\n            this.DADOS          = {};\n            this.DADOS_DETALHES = [];\n            \n            this.TOTAL_GERAL = 0;\n            this.SELECTEDS = [];\n            this.SELECTED = [];\n            this.SELECTED_BACKUP = [];\n            \n\t    }\n        \n        \n        \n\n        function consultar(frete_id) {\n        \n            return $q(function(resolve, reject){\n                $ajax.get('/_14020/api/frete/'+frete_id).then(function(response){\n                    \n                    obj.merge(response);\n                    \n                    obj.Modal.show();\n                    \n                    resolve(response);\n                },function(e){\n                    reject(e);\n                });\n            });\n        }                \n\n        function calcular(origem,origem_id,transportadora_id,estabelecimento_id,retorno,rollback,itens) {\n            \n            var filtro = {\n                ORIGEM : origem,\n                ORIGEM_ID : origem_id,\n                TRANSPORTADORA_ID : transportadora_id,\n                ESTABELECIMENTO_ID : estabelecimento_id,\n                FRETE_ID : obj.SELECTED.FRETE_ID,\n                ITENS : itens\n            };\n            \n            if ( retorno != undefined ) {\n                filtro.RETURN = true;\n            }\n            \n            if ( rollback != undefined ) {\n                filtro.ROLLBACK = true;\n            }\n            \n            return $q(function(resolve, reject){\n                $ajax.post('/_14020/api/frete/calcular',filtro).then(function(response){\n                    \n                    if ( retorno != undefined ) {\n                        obj.merge(response);\n                    }\n                    \n                    resolve(response);\n                },function(e){\n                    reject(e);\n                });\n            });\n        }                \n        \n\n//        function consultarDetalhe() {\n//            \n//            return $q(function(resolve, reject){\n//                $ajax.get('/_14020/api/rateio/tipo/detalhe').then(function(response){\n//                    \n//                    obj.merge(response);\n//                    \n//                    resolve(response);\n//                },function(e){\n//                    reject(e);\n//                });\n//            });\n//        }                \n        \n        /**\n         * Retorna a view da factory\n         */\n        function merge(response, preserve_main) {\n\n            sanitizeJson(response);\n\n            obj.DADOS = response;\n\n            obj.ORIGEM    = obj.DADOS.ORIGEM;\n            obj.ORIGEM_ID = obj.DADOS.ORIGEM_ID;\n\n            obj.DADOS.COMPOSICOES = [\n                {\n                    DESCRICAO : 'Dados da Carga',\n                    DADOS : response.DADOS_CARGA\n                },\n                {\n                    DESCRICAO : 'Composição dos Valores',\n                    DADOS : response.DADOS_COMPOSICAO\n                }                            \n            ];\n\n            gScope.Ctrl.ConsultaFreteTransportadoraSimulador.Input.value = obj.DADOS.TRANSPORTADORA_ID + ' - ' + obj.DADOS.TRANSPORTADORA_RAZAOSOCIAL;\n            gScope.Ctrl.ConsultaFreteTransportadoraSimulador.Input.readonly             = true;\n            gScope.Ctrl.ConsultaFreteTransportadoraSimulador.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaFreteTransportadoraSimulador.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaFreteTransportadoraSimulador.btn_filtro.visivel         = false;            \n            gScope.Ctrl.ConsultaFreteTransportadoraSimulador.item.selected              = true;  \n            \n        }\n\n        function keydown(item,$event) {\n           var that = this;\n               /* Verifica se existe um evento */\n               if ( !($event === undefined) ) {\n\n                   if ( $event.key == 'Enter' ) {\n                       \n                       if ( item.FRETE_ID > 0 ) {\n                           obj.consultar(item.FRETE_ID);\n                       }\n                   }\n                   if ( $event.key == 'Escape' ) {\n//                       that.cancelarQuantidade(item);\n                   }\n               }            \n        }\n        \n        function incluir() {\n            \n            \n            obj.SELECTED = {\n                CALCULO_CONFORMACAO_MODEL       :false ,\n                CALCULO_CONFORMACAO             :0     ,\n                CALCULO_CONFORMACAO_DESCRICAO   :'NÃO' ,\n                CALCULO_REBOBINAMENTO_MODEL     :false ,\n                CALCULO_REBOBINAMENTO           :0     ,\n                CALCULO_REBOBINAMENTO_DESCRICAO :'NÃO' ,\n                CLOGISTICA                          :''    ,\n                CLOGISTICA_DESCRICAO                :''     ,\n                CLOGISTICA_HIERARQUIA               :1      ,\n                CLOGISTICA_MASK                     :''     ,\n                FAMILIA_DESCRICAO               :''     ,\n                FAMILIA_ID                      :''     ,\n                FAMILIA_PRODUCAO                :''     ,\n                FAMILIA_PRODUCAO_DESCRICAO      :''     ,\n                FATOR                           :1      ,\n                GP_DESCRICAO                    :''     ,\n                GP_ID                           :''     ,\n                PERFIL_UP                       :''     ,\n                PERFIL_UP_DESCRICAO             :''     ,\n                REMESSAS_DEFEITO                :0      ,\n                SEQUENCIA                       :1      ,\n                UP_PADRAO1                      :''     ,\n                UP_PADRAO1_DESCRICAO            :''     ,\n                UP_PADRAO2                      :''     ,\n                UP_PADRAO2_DESCRICAO            :''     ,\n                STATUS                          :1      ,\n                EXCLUIDO                        :false\n            };\n            \n            gScope.Ctrl.ConsultaFamiliaAgrup.apagar(true);\n            gScope.Ctrl.ConsultaFamilia.apagar(true);\n            gScope.Ctrl.ConsultaGp.apagar(true);\n            gScope.Ctrl.ConsultaPerfil.apagar(true);\n            gScope.Ctrl.ConsultaUp1.apagar(true);\n            gScope.Ctrl.ConsultaUp2.apagar(true);\n            gScope.Ctrl.ConsultaCLogistica.apagar(true);\n            \n            \n            obj.DADOS.push(obj.SELECTED);\n//            obj.TIPO.CLOGISTICAS.push(obj.SELECTED);\n//            mergeGroup();\n            \n            obj.INCLUINDO = true;\n            obj.ALTERANDO = true;\n            obj.Modal.show();\n\n//            obj.selectedReset();\n        }\n        \n        function confirmar() {\n       \n            \n            var dados = {\n                FILTRO: {},\n                DADOS : obj.DADOS\n            };\n//    \n            $ajax.post('/_14020/api/frete/post',dados).then(function(response){\n\n                obj.merge(response.DATA_RETURN);\n                \n            });\n        }\n\n        function alterar() {\n            \n//            gScope.Ctrl.ImobilizadoItem.SELECTEDS = [];\n            \n            \n            gScope.Ctrl.ConsultaFamiliaAgrup.Input.value = obj.SELECTED.FAMILIA_PRODUCAO + ' - ' + obj.SELECTED.FAMILIA_PRODUCAO_DESCRICAO;  \n            gScope.Ctrl.ConsultaFamiliaAgrup.Input.readonly             = true;\n            gScope.Ctrl.ConsultaFamiliaAgrup.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaFamiliaAgrup.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaFamiliaAgrup.btn_filtro.visivel         = false;              \n            gScope.Ctrl.ConsultaFamiliaAgrup.item.selected = true;            \n            \n            \n            gScope.Ctrl.ConsultaFamilia.Input.value = obj.SELECTED.FAMILIA_ID + ' - ' + obj.SELECTED.FAMILIA_DESCRICAO;\n            gScope.Ctrl.ConsultaFamilia.Input.readonly             = true;\n            gScope.Ctrl.ConsultaFamilia.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaFamilia.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaFamilia.btn_filtro.visivel         = false;            \n            gScope.Ctrl.ConsultaFamilia.item.selected = true;            \n            \n            \n            if ( obj.SELECTED.GP_ID > 0 ) {\n                gScope.Ctrl.ConsultaGp.Input.value = obj.SELECTED.GP_ID + ' - ' + obj.SELECTED.GP_DESCRICAO;\n                gScope.Ctrl.ConsultaGp.Input.readonly             = true;\n                gScope.Ctrl.ConsultaGp.btn_apagar_filtro.visivel  = true;\n                gScope.Ctrl.ConsultaGp.btn_apagar_filtro.disabled = false;\n                gScope.Ctrl.ConsultaGp.btn_filtro.visivel         = false;            \n                gScope.Ctrl.ConsultaGp.item.selected = true;            \n            } else {\n                gScope.Ctrl.ConsultaGp.apagar();\n                gScope.Ctrl.ConsultaGp.disable(true);\n            }\n            \n            \n            if ( obj.SELECTED.PERFIL_UP != null && obj.SELECTED.PERFIL_UP != '' ) {\n                gScope.Ctrl.ConsultaPerfil.Input.value = obj.SELECTED.PERFIL_UP + ' - ' + obj.SELECTED.PERFIL_UP_DESCRICAO;\n                gScope.Ctrl.ConsultaPerfil.Input.readonly             = true;\n                gScope.Ctrl.ConsultaPerfil.btn_apagar_filtro.visivel  = true;\n                gScope.Ctrl.ConsultaPerfil.btn_apagar_filtro.disabled = false;\n                gScope.Ctrl.ConsultaPerfil.btn_filtro.visivel         = false;            \n                gScope.Ctrl.ConsultaPerfil.item.selected = true;            \n            } else {\n                gScope.Ctrl.ConsultaPerfil.apagar();\n                gScope.Ctrl.ConsultaPerfil.disable(true);\n            }\n            \n            \n            gScope.Ctrl.ConsultaUp1.Input.value = obj.SELECTED.UP_PADRAO1 + ' - ' + obj.SELECTED.UP_PADRAO1_DESCRICAO;\n            gScope.Ctrl.ConsultaUp1.Input.readonly             = true;\n            gScope.Ctrl.ConsultaUp1.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaUp1.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaUp1.btn_filtro.visivel         = false;\n            gScope.Ctrl.ConsultaUp1.item.selected = true;\n            \n            \n            if ( obj.SELECTED.UP_PADRAO2 > 0 ) {\n                gScope.Ctrl.ConsultaUp2.Input.value = obj.SELECTED.UP_PADRAO2 + ' - ' + obj.SELECTED.UP_PADRAO2_DESCRICAO;\n                gScope.Ctrl.ConsultaUp2.Input.readonly             = true;\n                gScope.Ctrl.ConsultaUp2.btn_apagar_filtro.visivel  = true;\n                gScope.Ctrl.ConsultaUp2.btn_apagar_filtro.disabled = false;\n                gScope.Ctrl.ConsultaUp2.btn_filtro.visivel         = false;\n                gScope.Ctrl.ConsultaUp2.item.selected              = true; \n            } else {\n                gScope.Ctrl.ConsultaUp2.apagar();\n            }\n            \n            \n            gScope.Ctrl.ConsultaCLogistica.Input.value = obj.SELECTED.CLOGISTICA_MASK + ' - ' + obj.SELECTED.CLOGISTICA_DESCRICAO;\n            gScope.Ctrl.ConsultaCLogistica.Input.readonly             = true;\n            gScope.Ctrl.ConsultaCLogistica.btn_apagar_filtro.visivel  = true;\n            gScope.Ctrl.ConsultaCLogistica.btn_apagar_filtro.disabled = false;\n            gScope.Ctrl.ConsultaCLogistica.btn_filtro.visivel         = false;\n            gScope.Ctrl.ConsultaCLogistica.item.selected = true;            \n            \n            \n            this.ALTERANDO = true;\n            this.INCLUINDO = false;\n            angular.copy(this.SELECTED, this.SELECTED_BACKUP);\n            \n            obj.Modal.show();\n        };        \n        \n        function cancelar() {\n            \n            addConfirme('<h4>Confirmação</h4>',\n                'Deseja realmente cancelar esta operação?',\n                [obtn_sim,obtn_nao],\n                [{ret:1,func:function(){\n                    $rootScope.$apply(function(){\n                        \n                             \n                        \n                        if ( obj.ALTERANDO && !obj.INCLUINDO ) {\n                            angular.extend(obj.SELECTED, obj.SELECTED_BACKUP);  \n                            \n                            obj.Modal.hide();\n                        }\n                        \n                        obj.ALTERANDO = false;\n                        \n                        if ( obj.INCLUINDO ) {\n                            obj.INCLUINDO = false;\n                            \n                            var idx = obj.DADOS.indexOf(obj.SELECTED);\n                            \n                            obj.DADOS.splice(idx,1);                            \n                                                    \n                            \n//                            obj.selectedReset();\n                            obj.Modal.hide();\n                        }\n                    });\n                }}]     \n            );\n        }\n        \n        function excluir() {\n            addConfirme('<h4>Confirmação</h4>',\n                'Deseja realmente excluir este item?',\n                [obtn_sim,obtn_nao],\n                [{ret:1,func:function(){\n                    $rootScope.$apply(function(){\n                        \n                        obj.SELECTED.EXCLUIDO = true;\n                    });\n                }}]     \n            );\n        }\n        \n        \n        /**\n         * Retorna a view da factory\n         */\n        function renderChart(response) {\n\n\n            var obj = $('#chart_div');\n            var pai = $(obj).closest('#chart-google');\n\n            google.charts.load('current', {packages:[\"orgchart\"]});\n            google.charts.setOnLoadCallback(function() {\n                \n                var data = new google.visualization.DataTable();\n                data.addColumn('string', 'Name');\n                data.addColumn('string', 'Manager');\n                data.addColumn('string', 'ToolTip');\n\n                var dados = response;\n                var item = null;\n                \n                var chart_container = [];\n                var chart_item = [];\n                \n                for ( var i in dados ) {\n                    item = dados[i];\n                    \n                    chart_item = [\n                        {\n                            v:''+item.ID,\n                            f:item.CLOGISTICA_DESCRICAO,\n                            id: ''+item.ORDEM\n                        },\n                        ''+( (item.ORDEM - 1) > 0 ? item.ORDEM - 1 : ''),\n                        ''\n                    ];\n                    \n                    chart_container.push(chart_item);\n                }\n                \n                // For each orgchart box, provide the name, manager, and tooltip to show.\n                data.addRows(chart_container);\n\n                var chart = new google.visualization.OrgChart(document.getElementById('chart_div'));\n                chart.draw(data, {allowHtml:true});\n\n                setTimeout(function(){\n//\n//                    $('.img-loading').css('display','none');\n                    $(obj).replaceWith( $compile($(obj).html())($rootScope) );\n                    $(pai).append('<div style=\"width: 99%; height: 100%;\" id=\"chart_div\"></div>');\n\n                    $rootScope.$apply(function () {\n                        $rootScope.message = \"Timeout called!\";\n                    });\n\n                },400);\n            });\n        }\n        \n        function changeConformacao() {\n            if ( obj.SELECTED.CALCULO_CONFORMACAO_MODEL ) {\n                obj.SELECTED.CALCULO_CONFORMACAO           = 1;\n                obj.SELECTED.CALCULO_CONFORMACAO_DESCRICAO = 'SIM';\n            } else {\n                obj.SELECTED.CALCULO_CONFORMACAO           = 0;\n                obj.SELECTED.CALCULO_CONFORMACAO_DESCRICAO = 'NÃO';\n            }\n        }  \n        \n        function changeRebobinamento(key) {\n            if ( obj.SELECTED.CALCULO_REBOBINAMENTO_MODEL ) {\n                obj.SELECTED.CALCULO_REBOBINAMENTO           = 1;\n                obj.SELECTED.CALCULO_REBOBINAMENTO_DESCRICAO = 'SIM';\n            } else {\n                obj.SELECTED.CALCULO_REBOBINAMENTO           = 0;\n                obj.SELECTED.CALCULO_REBOBINAMENTO_DESCRICAO = 'NÃO';\n            }\n        }  \n        \n        var Modal = {\n            \n            _modal : function(){\n                return $('#modal-frete');\n            },\n            show : function(shown,hidden) {\n\n                this._modal()\n                    .modal('show')\n                ;                         \n\n\n                this._modal()\n                    .one('shown.bs.modal', function(){\n\n//                        $(this).find('input:focusable').first().select();\n\n                        if ( shown ) {\n                            shown(); \n                        }\n                    })\n                ;    \n\n                    this._modal()\n                        .one('hidden.bs.modal', function(){\n                            \n                            if ( hidden ) {\n                                hidden();      \n                            }\n                        })\n                    ;        \n            },\n            hide : function(hidden) {\n\n                this._modal()\n                    .modal('hide')\n                ;\n\n                if ( hidden ) {\n                    this._modal()\n                        .one('hidden.bs.modal', function(){\n                            gScope.Ctrl.ConsultaFreteTransportadoraSimulador.disable(true);\n                            hidden ? hidden() : '';\n                        })\n                    ;                      \n                }\n            }\n        };     \n\n            \n\t    /**\n\t     * Return the constructor function\n\t     */\n\t    return Frete;\n\t};\n   \n})(window, window.angular);","if(window.name.length > 0) {\n\n    $('.navbar-toggle').remove();\n//    $('.navbar-left').text('Geração de Remessa de Componente');\n    $('.navbar-right').remove();\n    $('.navbar-brand' ).attr('href','javascript:void(0);');\n    $('.duplicar-tela-mobile').remove();\n    $('.go-fullscreen-mobile').remove();\n        \n}\n\nangular\n    .module('app')\n    .value('gScope', {})\n    .controller('Ctrl', Ctrl);\n    \n    \n\tCtrl.$inject = [\n        '$scope',\n        '$timeout',\n        '$sce',\n        'gScope',\n        '$consulta',\n        'Historico',\n        'Cte',\n        'Comparar',\n        'Simulador',\n        'Frete'\n    ];\n\n\tfunction Ctrl( \n        $scope, \n        $timeout, \n        $sce,\n        gScope, \n        $consulta,\n        Historico,\n        Cte,\n        Comparar,\n        Simulador,\n        Frete\n    ) {\n\n\t\tvar vm          = this;\n        gScope.Ctrl     = this;\n        \n        vm.Consulta     = new $consulta();\n        vm.Cte          = new Cte();\n        vm.Comparar     = new Comparar();\n        vm.Simulador    = new Simulador();\n        vm.Frete        = new Frete();\n        vm.Historico    = new Historico();\n        \n        vm.trustedHtml = function (plainText) {\n            return $sce.trustAsHtml(plainText);\n        };        \n        \n        \n        var ConsultaFreteTransportadora = function(componente,model) {\n            if ( $(\".consulta-frete-transportadora\" + (componente != undefined ? '-'+componente : '')).length ) {\n                var trans_model = 'ConsultaFreteTransportadora'+ (model != undefined ? model : '');\n                \n                vm[trans_model]                        = vm.Consulta.getNew(true);\n                vm[trans_model].componente             = '.consulta-frete-transportadora'+ (componente != undefined ? '-'+componente : '');\n                vm[trans_model].model                  = 'vm.'+trans_model;\n                vm[trans_model].option.label_descricao = 'Transportadora:';\n                vm[trans_model].option.obj_consulta    = '/_14020/api/transportadora';\n                vm[trans_model].option.tamanho_input   = 'input-maior';\n                vm[trans_model].option.tamanho_tabela  = 650;\n                vm[trans_model].option.campos_tabela   = [['TRANSPORTADORA_ID', 'Id'],['RAZAOSOCIAL','Razão Social'],['NOMEFANTASIA', 'Nome Fantasia'],['CLASSIFICACAO','Classificação']];\n                vm[trans_model].option.obj_ret         = ['TRANSPORTADORA_ID','RAZAOSOCIAL'];\n                vm[trans_model].option.required        = false;\n                vm[trans_model].compile();\n                \n                return vm[trans_model];\n            }\n        };\n        \n        ConsultaFreteTransportadora();\n        \n        var ConsultaFreteTransportadoraSimuladorItens = ConsultaFreteTransportadora('simulador-itens','SimuladorItens');\n            \n            if ( $(\".consulta-frete-transportadora-simulador-itens\").length > 0) {\n                ConsultaFreteTransportadoraSimuladorItens.option.required = true;\n            }\n        \n        var ConsultaFreteTransportadoraSimulador = ConsultaFreteTransportadora('simulador','Simulador');\n        if ( $(\".consulta-frete-transportadora-simulador\").length > 0) {\n            ConsultaFreteTransportadoraSimulador.onSelect = function() {\n                vm.Frete.DADOS.TRANSPORTADORA_ID          = ConsultaFreteTransportadoraSimulador.TRANSPORTADORA_ID;\n                vm.Frete.DADOS.TRANSPORTADORA_RAZAOSOCIAL = ConsultaFreteTransportadoraSimulador.RAZAOSOCIAL;\n                vm.Frete.calcular(vm.Frete.ORIGEM,vm.Frete.ORIGEM_ID,vm.Frete.DADOS.TRANSPORTADORA_ID,null,true,true);\n            };\n            ConsultaFreteTransportadoraSimulador.onClear = function() {\n                vm.Frete.DADOS = {};\n                vm.Frete.DADOS.TRANSPORTADORA_ID          = '';\n                vm.Frete.DADOS.TRANSPORTADORA_RAZAOSOCIAL = '';\n            };               \n        }\n        \n        \n        var componente = '.consulta-cliente-simulador-itens';\n        if ( $(componente).length ) {\n            var trans_model = 'ConsultaClienteSimuladorItens';\n\n            vm[trans_model]                        = vm.Consulta.getNew(true);\n            vm[trans_model].componente             = componente;\n            vm[trans_model].model                  = 'vm.'+trans_model;\n            vm[trans_model].option.label_descricao = 'Cliente:';\n            vm[trans_model].option.obj_consulta    = '/_14020/api/cliente';\n            vm[trans_model].option.tamanho_input   = 'input-maior';\n            vm[trans_model].option.tamanho_tabela  = 780;\n            vm[trans_model].option.campos_tabela   = [['ID', 'Id'],['RAZAOSOCIAL','Razão Social'],['NOMEFANTASIA', 'Nome Fantasia'],['UF','UF'],['CIDADE','Cidade']];\n            vm[trans_model].option.obj_ret         = ['ID','RAZAOSOCIAL'];\n            vm[trans_model].option.required        = false;\n            vm[trans_model].compile();\n\n            vm[trans_model].onSelect = function() {\n\n\n                vm.ConsultaCidadeSimuladorItens.Input.value = vm.ConsultaClienteSimuladorItens.UF + ' - ' + vm.ConsultaClienteSimuladorItens.CIDADE;\n                vm.ConsultaCidadeSimuladorItens.Input.readonly             = true;\n                vm.ConsultaCidadeSimuladorItens.btn_apagar_filtro.visivel  = true;\n                vm.ConsultaCidadeSimuladorItens.btn_apagar_filtro.disabled = false;\n                vm.ConsultaCidadeSimuladorItens.btn_filtro.visivel         = false;            \n                vm.ConsultaCidadeSimuladorItens.item.selected              = true;  \n\n            };\n\n            vm[trans_model].onClear = function() {\n                vm.ConsultaCidadeSimuladorItens.apagar(true);\n            };  \n\n        }\n        \n        var componente = '.consulta-cidade-simulador-itens';\n        if ( $(componente).length ) {\n            var trans_model = 'ConsultaCidadeSimuladorItens';\n\n            vm[trans_model]                        = vm.Consulta.getNew(true);\n            vm[trans_model].componente             = componente;\n            vm[trans_model].model                  = 'vm.'+trans_model;\n            vm[trans_model].option.label_descricao = 'Cidade:';\n            vm[trans_model].option.obj_consulta    = '/_14020/api/cidade';\n//            vm[trans_model].option.tamanho_input   = 'input-maior';\n//            vm[trans_model].option.tamanho_tabela  = 780;\n            vm[trans_model].option.campos_tabela   = [['UF', 'UF'],['DESCRICAO','Cidade']];\n            vm[trans_model].option.obj_ret         = ['UF','DESCRICAO'];\n            vm[trans_model].option.required        = true;\n            vm[trans_model].compile();\n\n            vm[trans_model].onSelect = function() {\n\n            };\n\n            vm[trans_model].onClear = function() {\n\n                vm.ConsultaClienteSimuladorItens.Input.value = '';\n                vm.ConsultaClienteSimuladorItens.Input.readonly             = false;\n                vm.ConsultaClienteSimuladorItens.btn_apagar_filtro.visivel  = false;\n                vm.ConsultaClienteSimuladorItens.btn_apagar_filtro.disabled = true;\n                vm.ConsultaClienteSimuladorItens.btn_filtro.visivel         = true;   \n                vm.ConsultaClienteSimuladorItens.btn_filtro.disabled        = false;         \n                vm.ConsultaClienteSimuladorItens.item.selected              = false;              \n            }; \n        }        \n\n        \n\n         \n\n        \n        $scope.$watch('vm.FRETE_ID', function (newValue, oldValue, scope) {\n            \n            if ( newValue > 0 ) {\n                    vm.Frete.consultar(newValue);\n            } \n        });\n        \n        $scope.$watch('vm.Frete.CALCULAR', function (newValue, oldValue, scope) {\n            \n            if ( newValue == 1 ) {\n                vm.Frete.calcular(vm.Frete.ORIGEM,vm.Frete.ORIGEM_ID,null,null,true,true);\n            } \n        });\n\t}   \n  "]}
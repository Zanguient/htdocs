{"version":3,"sources":["_12030.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"_12030.js","sourcesContent":["\r\n(function ($) {\r\n    \r\n    function getModelosValor(modelos,valorres){\r\n            \r\n            var vetor = new Array ();\r\n            var cont = $(modelos).length;\r\n            \r\n            for (i = 0; i < cont; i++) {\r\n               var obj1 = $(modelos)[i];\r\n               var obj2 = $(valorres)[i];\r\n               var campo1 = $(obj1).val();\r\n               var campo2 = $(obj2).val();\r\n               vetor[i] = [campo1,campo2];           \r\n            }\r\n         \r\n            return vetor;\r\n    }\r\n    \r\n    function excluir(e){\r\n        var ID = $('.itemexcluir').attr('id');\r\n        \r\n        var dadosEnvio = {\r\n            ID : ID\r\n        };\r\n        \r\n        var url_action = \"delete\";\r\n        var dados = dadosEnvio;\r\n        var type = \"POST\";\r\n                    \r\n        function success(data){\r\n            showSuccess('Excluido com sucesso');\r\n            window.location.href = urlhost+'/_12030';\r\n        }\r\n\r\n        function erro(xhr){\r\n            showErro(xhr);\r\n        }\r\n        console.log(dadosEnvio);\r\n        execAjax1(type,url_action,dados,success,erro,false);\r\n    }\r\n    \r\n    function gravar(e){\r\n        var modelos = $('.vmodelo');\r\n        var valores = $('.vvalor');\r\n        var cliente = $('.icliente').val();\r\n        var observa = $('.iobservacao').val();\r\n        var email   = $('.email');\r\n        var chec = 0;\r\n\r\n        if(cliente.length > 0){\r\n            if(modelos.length > 0){\r\n                \r\n             var ModelosValor = getModelosValor(modelos,valores);\r\n             var obj1 = $(email)[0];\r\n             var obj2 = $(email)[1];\r\n             var obj3 = $(email)[2];\r\n             \r\n             if($(obj1).is(':checked')){chec = $(obj1).val();}\r\n             if($(obj2).is(':checked')){chec = $(obj2).val();}\r\n             if($(obj3).is(':checked')){chec = $(obj3).val();}\r\n             \r\n                var dadosEnvio = {\r\n                    modelos : ModelosValor, \r\n                    cliente : cliente, \r\n                    observa : observa,\r\n                    email   : chec\r\n                };\r\n                \r\n                if(chec > 0){\r\n                    var url_action = \"store\";\r\n                    var dados = dadosEnvio;\r\n                    var type = \"POST\";\r\n                    \r\n                    function success(data){\r\n                        showSuccess('Gravado com sucesso');\r\n                        window.location.href = urlhost+'/_12030';\r\n                    }\r\n                    \r\n                    function erro(xhr){\r\n                        showErro(xhr);\r\n                    }\r\n                    \r\n                    execAjax1(type,url_action,dados,success,erro,false);\r\n\r\n                }else{\r\n                   showAlert('Selecione um destinatário de email!');\r\n                }\r\n            \r\n            }else{\r\n                showAlert('Não foram definidos Modelos!');\r\n                $('.imodelo').focus();\r\n            }\r\n        }else{\r\n            showAlert('Cliente obrigatório!');\r\n            $('.icliente').focus();\r\n        }\r\n        \r\n    }\r\n    \r\n    \r\n    function additem(){\r\n        var modelo = $('.imodelo').val();\r\n        var valor  = $('.ivalor').val();\r\n        \r\n        if(modelo.length > 0){\r\n            if(valor.length > 0){\r\n                var btn = '<button type=\"button\" class=\"btn btn-danger item-excluir\" title=\"Excluir\" style=\"display: block;\"><i class=\"glyphicon glyphicon-trash\"></i></button>';\r\n                var imput1 = '<input type=\"hidden\" id=\"ivalor\" class=\"vvalor\" value=\"'+valor+'\">';\r\n                var imput2 = '<input type=\"hidden\" id=\"imodelo\" class=\"vmodelo\" value=\"'+modelo+'\">';\r\n                var item = '<div class=\"item\"><div class=\"valor\">'+valor+'</div>|<div class=\"modelo\">'+modelo+'</div>'+btn+imput1+imput2+'</div>';\r\n                \r\n                $('.area-item').append(item);\r\n\r\n                $('.imodelo').val('');\r\n                $('.ivalor').val('');\r\n            }else{\r\n                showAlert('Valor obrigatório!');\r\n                $('.ivalor').focus();\r\n            }\r\n            \r\n        }else{\r\n            showAlert('Modelo obrigatório!');\r\n            $('.imodelo').focus();\r\n        }\r\n    }\r\n    \r\n    function removeitem(e){\r\n        $(e).parent().remove();\r\n    }\r\n    \r\n    $(document).on('click','.add-item-dinamico', function(e) {\r\n        additem();\r\n    });\r\n    \r\n    $(document).on('click','.item-excluir', function(e) {\r\n        removeitem(this);\r\n    });\r\n    \r\n    $(document).on('click','.gravar', function(e) {\r\n        gravar(this);\r\n    });\r\n    \r\n    $(document).on('click','.itemexcluir', function(e) {\r\n\r\n        addConfirme('Excluir registro','Deseja realmente excluir este item?',[obtn_sim,obtn_nao],\r\n            function(){excluir(this);}\r\n        ); \r\n    });\r\n    \r\n    $(document).on('blur','.mask-numero', function(e) {\r\n        var valor1 = parseFloat($(this).val());\r\n        var valor2 = $(this).val();\r\n        var n = valor2.indexOf(\",\");\r\n        \r\n        if(n < 0){\r\n            \r\n            var v = String(valor1.toFixed(2)).replace(\".\", \",\");\r\n\r\n\r\n            $(this).val(v);\r\n        }else{\r\n            var virgula = valor2.indexOf(\",\");\r\n            var tamanho = valor2.length;\r\n            \r\n            if((tamanho - virgula) === 2){\r\n                var v = valor2+'0';\r\n                $(this).val(v);\r\n            }else{\r\n                if((tamanho - virgula) === 1){\r\n                    var v = valor2+'00';\r\n                    $(this).val(v);\r\n                }else{\r\n                    if((tamanho - virgula) === 0){\r\n                        var v = valor2+'00';\r\n                        $(this).val(v);\r\n                    }else{\r\n                        \r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    \r\n    \r\n    \r\n    \r\n\r\n})(jQuery);"]}
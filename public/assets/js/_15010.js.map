{"version":3,"sources":["jquery.alterclass.js","_15010.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"_15010.js","sourcesContent":["/**\n * jQuery alterClass plugin\n *\n * Remove element classes with wildcard matching. Optionally add classes:\n *   $( '#foo' ).alterClass( 'foo-* bar-*', 'foobar' )\n *\n * Copyright (c) 2011 Pete Boere (the-echoplex.net)\n * Free under terms of the MIT license: http://www.opensource.org/licenses/mit-license.php\n *\n */\n(function ( $ ) {\n\t\n$.fn.alterClass = function ( removals, additions ) {\n\t\n\tvar self = this;\n\t\n\tif ( removals.indexOf( '*' ) === -1 ) {\n\t\t// Use native jQuery methods if there is no wildcard matching\n\t\tself.removeClass( removals );\n\t\treturn !additions ? self : self.addClass( additions );\n\t}\n\n\tvar patt = new RegExp( '\\\\s' + \n\t\t\tremovals.\n\t\t\t\treplace( /\\*/g, '[A-Za-z0-9-_]+' ).\n\t\t\t\tsplit( ' ' ).\n\t\t\t\tjoin( '\\\\s|\\\\s' ) + \n\t\t\t'\\\\s', 'g' );\n\n\tself.each( function ( i, it ) {\n\t\tvar cn = ' ' + it.className + ' ';\n\t\twhile ( patt.test( cn ) ) {\n\t\t\tcn = cn.replace( patt, ' ' );\n\t\t}\n\t\tit.className = $.trim( cn );\n\t});\n\n\treturn !additions ? self : self.addClass( additions );\n};\n\n})( jQuery );","/**\n * Verificar se o Estabelecimento foi selecionado antes de filtrar Produto.\n * @returns {Boolean}\n */\nfunction verifEstab() {\n\t\n\tvar ret = true;\n\t\n\tif( $(\"._consulta_filtro[objcampo='estab']\").val() === '' ) {\n\t\tshowAlert('Selecione um Estabelecimento.');\n\t\tret = false;\n\t}\n\t\n\treturn ret;\n\t\t\t\t\n}\n\t\n(function($){\n\t\n\tvar final_pag\t = false;\t//variável para verificar se chegou na última página\n\tvar pagina_atual = 1;\n\tvar pagina_inc   = 0;\n\tvar qtd_por_pag  = 30;\n\tvar filtro_ativ\t = false;\t//verificar se o filtro está ativo\n\t\n\t\n\t/**\n\t * Paginação.\n\t */\n\tfunction paginacaoScroll() {\n\t\t\n\t\t/**\n\t\t * Carregar páginas\n\t\t */\n\t\tfunction carregarPagina() {\n\n\t\t\tvar filtro\t = '';\n\t\t\tvar status\t = '';\n\t\t\tvar estab\t = '';\n\t\t\tvar data_ini = '';\n\t\t\tvar data_fim = '';\n\t\t\t\n\t\t\t//Verifica se o filtro está ativo. Se sim, a paginação será filtrada também.\n\t\t\tif ( filtro_ativ ) {\n\t\t\t\tfiltro\t = $('.filtro-obj').val();\n\t\t\t\tstatus\t = $('#filter-status').val();\n\t\t\t\testab\t = $('.estab').val();\n\t\t\t\tdata_ini = $('#data-ini').val();\n\t\t\t\tdata_fim = $('#data-fim').val();\n\t\t\t}\n\n\t\t\tif ( final_pag || ($('.filtro-obj').val() !== '') ) {\n\t\t\t\tpagina_atual = 1;\n\t\t\t\tpagina_inc = 0;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tpagina_atual += 1;\n\t\t\tpagina_inc = pagina_atual * qtd_por_pag - qtd_por_pag;\n\n\t\t\t//ajax\n\t\t\tdata = {\n\t\t\t\t'qtd_por_pagina'\t: qtd_por_pag, \n\t\t\t\t'pagina'\t\t\t: pagina_inc,\n\t\t\t\t'filtro'\t\t\t: filtro,\n\t\t\t\t'status'\t\t\t: status,\n\t\t\t\t'estab'\t\t\t\t: estab,\n\t\t\t\t'data_ini'\t\t\t: data_ini,\n\t\t\t\t'data_fim'\t\t\t: data_fim\n\t\t\t};\n\t\t\t\n\t\t\tsuccess = function(resposta) {\n\n\t\t\t\tif(resposta) {\t\t\t\t\t\t\n\n\t\t\t\t\t$('table.lista-obj-15010 tbody')\n\t\t\t\t\t\t.append(resposta);\n\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfinal_pag = true;\n\t\t\t\t}\n\n\t\t\t};\n\t\t\t\n\t\t\terror = function(xhr) {\n\t\t\t\tfinal_pag = true;\n\t\t\t\tshowErro(xhr);\n\t\t\t};\n\t\t\t\n\t\t\texecAjax1(\n\t\t\t\t'POST', \n\t\t\t\t'/_15010/paginacaoScroll',\n\t\t\t\tdata,\n\t\t\t\tsuccess,\n\t\t\t\terror\n\t\t\t);\n\t\t\t//\n\n\t\t}\n\t\t\n\t\t/**\n\t\t * Eventos do scroll.\n\t\t */\n\t\tfunction eventoScroll() {\n\n\t\t\tsetTimeout(function() {\t\t//espera necessária devido ao plugin dataTable\n\n\t\t\t\tvar scroll_timer = 0;\t//verificar timeout\n\n\t\t\t\t//carregar página com scroll\n\t\t\t\t$('.dataTables_scrollBody').scroll(function() {\n\n\t\t\t\t\tvar div = $(this);\n\n\t\t\t\t\tclearTimeout(scroll_timer);\n\n\t\t\t\t\tscroll_timer = setTimeout(function() {\n\t\t\t\t\t\tif( ( div.scrollTop() + div.height() ) >= div.children('table').height() )\n\t\t\t\t\t\t\tcarregarPagina();\n\t\t\t\t\t}, 200);\n\n\t\t\t\t});\n\n\t\t\t}, 1000);\n\t\t\t\n\t\t}\n\t\t\n\t\teventoScroll();\n\t}\n\n\t/**\n\t * Filtrar tabela de acordo com as opções escolhidas.\n\t */\n\tfunction filtrarRefinado() {\n\t\t\n\t\t/**\n\t\t * Verificar se um dos períodos está vazio.\n\t\t * @param {string} data_ini\n\t\t * @param {string} data_fim\n\t\t * @returns {Boolean}\n\t\t */\n\t\tfunction verifPeriodo(data_ini, data_fim) {\n\t\t\t\n\t\t\tvar ret = false;\n\t\t\t\n\t\t\tif ( data_ini === '' && data_fim !== '' ) {\n\t\t\t\t\n\t\t\t\t$('#data-ini')\n\t\t\t\t\t.addClass('invalid');\n\t\t\t\n\t\t\t\tret = false;\n\t\t\t\t\n\t\t\t}\n\t\t\telse if ( data_ini !== '' && data_fim === '' ) {\t\t\t\t\t\n\t\t\t\n\t\t\t\t$('#data-fim')\n\t\t\t\t\t.addClass('invalid');\n\t\t\t\n\t\t\t\tret = false;\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\t\n\t\t\t\t$('#data-ini, #data-fim')\n\t\t\t\t\t.removeClass('invalid');\n\t\t\t\n\t\t\t\tret = true;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\treturn ret;\n\t\t}\n\t\n\t\t/**\n\t\t * Evento do botão filtrar.\n\t\t */\n\t\tfunction eventoBtnFiltrar() {\n\t\t\t\n\t\t\t$('#table-filter')\n\t\t\t\t.on('click', '#btn-table-filter', function() {\n\n\t\t\t\t\tvar data_ini = $('#data-ini').val();\n\t\t\t\t\tvar data_fim = $('#data-fim').val();\n\n\t\t\t\t\tif ( !verifPeriodo(data_ini, data_fim) ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t//se o filtro for alterado, a paginação deve reiniciar\n\t\t\t\t\tfinal_pag\t\t= false;\n\t\t\t\t\tpagina_atual\t= 1;\n\t\t\t\t\tpagina_inc\t\t= 0;\n\t\t\t\t\tfiltro_ativ\t\t= true;\n\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\t'filtro'\t: $('.filtro-obj').val(),\n\t\t\t\t\t\t'status'\t: $('#filter-status').val(),\n\t\t\t\t\t\t'estab'\t\t: $('.estab').val(),\n\t\t\t\t\t\t'data_ini'\t: data_ini, \n\t\t\t\t\t\t'data_fim'\t: data_fim\n\t\t\t\t\t};\n\n\t\t\t\t\t//ajax\n\t\t\t\t\texecAjax1(\n\t\t\t\t\t\t'POST',\n\t\t\t\t\t\t'/_15010/filtrar',\n\t\t\t\t\t\tdata,\n\n\t\t\t\t\t\tfunction(data) {\n\n\t\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t$('.dataTables_scrollBody')\n\t\t\t\t\t\t\t\t\t.scrollTop(0);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t$('table.lista-obj-15010 tbody')\n\t\t\t\t\t\t\t\t\t.empty()\n\t\t\t\t\t\t\t\t\t.append(data);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\turiHistory(data);\n\t\t\t\t});\t\n\t\t}\n\t\t\n\t\teventoBtnFiltrar();\n\t}\n\t\n\t/** \n\t * Filtrar tabela a partir do valor digitado no campo.\n\t */\n\tfunction filtrar() {\n\n\t\t/**\n\t\t * Filtro.\n\t\t */\n\t\tfunction iniciarFiltrar() {\n\n\t\t\tvar status\t = '';\n\t\t\tvar estab\t = '';\n\t\t\tvar data_ini = '';\n\t\t\tvar data_fim = '';\n\t\t\t\n\t\t\t//Verifica se o filtro está ativo. Se sim, a paginação será filtrada também.\n\t\t\tif ( filtro_ativ ) {\n\t\t\t\tstatus\t = $('#filter-status').val();\n\t\t\t\testab\t = $('.estab').val();\n\t\t\t\tdata_ini = $('#data-ini').val();\n\t\t\t\tdata_fim = $('#data-fim').val();\n\t\t\t}\n\t\t\t\n\t\t\t//se o filtro for alterado, a paginação deve reiniciar\n\t\t\tfinal_pag\t\t= false;\n\t\t\tpagina_atual\t= 1;\n\t\t\tpagina_inc\t\t= 0;\n\t\t\tfiltro_ativ\t\t= true;\n\n\t\t\tvar dado = {\n\t\t\t\t'filtro'\t: $('.filtro-obj').val(),\n\t\t\t\t'status'\t: status,\n\t\t\t\t'estab'\t\t: estab,\n\t\t\t\t'data_ini'\t: data_ini,\n\t\t\t\t'data_fim'\t: data_fim\n\t\t\t};\n\t\t\t\n\t\t\texecAjax1(\n\t\t\t\t'POST',\n\t\t\t\t'/_15010/filtrar',\n\t\t\t\tdado,\n\t\t\t\tfunction(data) {\n\t\t\t\t\t\n\t\t\t\t\tif ( data ) {\n\n\t\t\t\t\t\t$('table.lista-obj-15010 tbody')\n\t\t\t\t\t\t\t.empty()\n\t\t\t\t\t\t\t.append(data);\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\turiHistory(dado);\n\t\t}\n\n\t    /**\n\t\t * Eventos da filtragem.\n\t\t */\n\t\tfunction eventoFiltrar() {\n\n\t\t\t$('.btn-filtro-obj').click(function() {\n\t\t\t\tiniciarFiltrar();\n\t\t\t});\t\t\t\t\n\n\t\t\t$('.filtro-obj').keydown(function(e) {\n\t\t\t\tif (e.keyCode === 13) \n\t\t\t\t\tiniciarFiltrar();\n\t\t\t});\n\t\t}\n\n\t\teventoFiltrar();\n\t}\n\n\t/**\n\t * Filtrar tabela ao carregar página se algum filtro tiver sido feito antes.\n\t */\n\tfunction filtrarAoCarregar() {\n\n\t\t// Se houver parâmetros na url, o que significa que um filtro já foi feito antes.\n\t\tif ( location.href.indexOf('?') > -1 ) {\n\t\t\t\n\t\t\tsetTimeout(function() { \n\t\t\t\t$('#btn-table-filter').click(); \n\t\t\t}, 1000);\n\t\t}\n\t}\n\t\n\t/**\n\t * Definir valor do estabelecimento no parâmetro do produto.\n\t */\n\tfunction selecEstab() {\n\t\t\n\t\tsetTimeout(function() {\n\t\t\t\n\t\t\t$(\"._consulta_filtro[objcampo='estab']\")\n\t\t\t\t.val( $('select.estab').val() );\n\t\t\n\t\t}, 500);\n\t\t\n\t\t$('select.estab').change(function() {\n\t\t\t\n\t\t\t$(\"._consulta_filtro[objcampo='estab']\")\n\t\t\t\t.val( $(this).val() );\n\t\t\t\n\t\t});\n\t\t\n\t}\n\t\n\t\n\tfunction aposClonar() {\n\t\t\n\t\t$('.add-item-dinamico')\n\t\t\t.click(function() {\n\t\t\t\t\n\t\t\t\tvar itens_dinamicos = $(this).prev('.item-dinamico-container').children('.item-dinamico'),\n\t\t\t\t\tcount_itens\t\t= $(itens_dinamicos).length,\n\t\t\t\t\tlast_item\t\t= $(itens_dinamicos).last()\n\t\t\t\t;\n\t\t\n\t\t\t\t$(last_item)\n\t\t\t\t\t.find('.qtd')\n\t\t\t\t\t.alterClass('qtd', 'qtd-'+count_itens)\n\t\t\t\t;\n\t\t\t\t$(last_item)\n\t\t\t\t\t.find('.tamanho-produto')\n\t\t\t\t\t.addClass('tamanho-produto-'+count_itens)\n\t\t\t\t\t//.alterClass('tamanho-produto', 'tamanho-produto-'+count_itens)\n\t\t\t\t;\n\t\t\t\t$(last_item)\n\t\t\t\t\t.find('.tamanho-posicao')\n\t\t\t\t\t.addClass('tamanho-posicao-'+count_itens)\n\t\t\t\t\t// .alterClass('tamanho-posicao', 'tamanho-posicao-'+count_itens)\n\t\t\t\t;\n\t\t\t\t$(last_item)\n\t\t\t\t\t.find('.medida-prod')\n\t\t\t\t\t.alterClass('medida-prod', 'medida-prod-'+count_itens)\n\t\t\t\t;\n\t\t\t\t\n\t\t\t\t$(last_item)\n\t\t\t\t\t.find('.consulta-descricao')\n\t\t\t\t\t.removeAttr('readonly')\n\t\t\t\t\t.focus()\n\t\t\t\t\t.next('.btn-filtro-consulta')\n\t\t\t\t\t.show()\n\t\t\t\t\t.next('.btn-apagar-filtro-consulta')\n\t\t\t\t\t.hide()\n\t\t\t\t;\n\t\t\t\t\n\t\t\t\t$(last_item)\n\t\t\t\t\t.find('._consulta_recebevalor')\n\t\t\t\t\t.each(function() {\n\t\t\t\t\t\t\n\t\t\t\t\t\t$(this).attr('objclass', $(this).attr('objclass')+'-'+count_itens);\n\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t;\n\t\t\t\t\n\t\t\t\tlimiteTextarea( $(last_item).find('textarea.obs'), 200, $('span.contador span') ); //função em input.js\n\t\t\t\t\n\t\t\t})\n\t\t;\n\t\t\n\t}\n\t\n\t\t\n\t/**\n\t * Encerrar/desencerrar requisição.\n\t */\n\tfunction encerrar() {\n\t\t\n\t\tfunction acao(btn_encerrar) {\n\t\t\t\n\t\t\tvar status\t\t = '',\n\t\t\t\tmsg_sucesso\t = ''\n\t\t\t;\n\t\t\t\n\t\t\tif ( $(btn_encerrar).attr('aria-pressed') === 'false' ) {\n\t\t\t\tstatus\t\t = '2';\n\t\t\t\tmsg_sucesso\t = 'Requisição encerrada com sucesso.';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstatus\t\t = '1';\n\t\t\t\tmsg_sucesso\t = 'Requisição desencerrada com sucesso.';\n\t\t\t}\n\n\t\t\t//ajax\n\t\t\tvar type\t= 'POST',\n\t\t\t\turl\t\t= '/_15010/encerrar',\n\t\t\t\tdata\t= {\n\t\t\t\t\t'requisicao_id'\t: $(btn_encerrar).data('requisicao-id'),\n\t\t\t\t\t'status'\t\t: status\n\t\t\t\t},\n\t\t\t\tsuccess\t= function(resposta) {\n\t\t\t\t\tshowSuccess(msg_sucesso);\n\n\t\t\t\t\tif ( status == '1' ) {\n\t\t\t\t\t\t\n\t\t\t\t\t\t$(btn_encerrar).find('.texto').text( \n\t\t\t\t\t\t\t$(btn_encerrar).data('text-active')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t\n\t\t\t\t\t\t$(btn_encerrar).find('.texto').text( \n\t\t\t\t\t\t\t$(btn_encerrar).data('text-inactive')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t;\n\t\t\t\n\t\t\texecAjax1(type, url, data, success);\n\t\t\t\n\t\t}\n\t\t\n\t\t$('button.encerrar')\n\t\t\t.off('click')\n\t\t\t.click(function() {\n\t\t\t\tacao( $(this) );\n\t\t\t})\n\t\t;\n\t\t\n\t}\n\t\n\t/**\n\t * Ativar Datatable.\n     * @param {element} table\n     * @returns {void}\n     */\n\tfunction ativarDatatable(table) {\n\t\t\n\t\tif (table.length == 0) \n\t\t\treturn false;\n\n\t\tvar table = table || $('.table');\n        \n\t\tvar data_table = $.extend({}, table_default);\n\t\t\tdata_table.scrollY = '65vh';\n\n\t\t$(table).DataTable(data_table);\n\t\t\n\t}\n\n\tfunction verificarAoGravar() {\n\n\t\t$('button.js-gravar').click(function(e) {\n\n\t\t\tif ( !($('._input_estab').val() > 0 )) {\n\n\t\t\t\te.preventDefault();\n\t\t\t\tshowAlert('Escolha um Estabelecimento.');\n\t\t\t\treturn false;\n\n\t\t\t}\n\t\t\telse if ( $('._ccusto_id').val() == '' ) {\n\n\t\t\t\te.preventDefault();\n\t\t\t\tshowAlert('Escolha um Centro de Custo.');\n\t\t\t\treturn false;\n\n\t\t\t}\t\t\t\n\n\t\t});\n\n\t}\n\n\n\t/**\n\t * Definir URL com parâmetro do filtro e guardar em localStorage.\n\t * @param json dado\n\t */\n\tfunction uriHistory(dado) {\n\n\t\twindow.history.replaceState('', '', encodeURI(urlhost + '/_15010?'+ $.param(dado)));\n\n\t\tlocalStorage.setItem('15010FiltroUrl', location.href);\n\t}\n\n\t\n\t$(function() {\n\t\t\n\t\tlimiteTextarea( $('textarea.obs'), 200, $('span.contador span') ); //função em input.js\n\t\tpaginacaoScroll();\n\t\tfiltrarRefinado();\n\t\tfiltrar();\n\t\tfiltrarAoCarregar();\n\t\tselecEstab();\n\t\taposClonar();\n\t\tencerrar();\n\t\tverificarAoGravar();\n\t\tativarDatatable( $('table.lista-obj-15010') );\n\t\t\n\t});\n})(jQuery);"]}
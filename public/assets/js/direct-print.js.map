{"version":3,"sources":["direct-print.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"direct-print.js","sourcesContent":["\r\n    function addProgresPrint(){\r\n        addConfirme('Impress√£o',''\r\n            +'<div id=\"printer_data_loading\"><span id=\"loading_message\">Carregando Detalhes da impressora...</span><br/>'\r\n            +'  <div class=\"progress\" style=\"width:100%\">'\r\n            +'    <div class=\"progress-bar progress-bar-striped active\"  role=\"progressbar\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 100%\">'\r\n            +'    </div>'\r\n            +'  </div>'\r\n            +'</div>'\r\n            +'',\r\n            [obtn_cancelar],function(){}    \r\n            );\r\n    }\r\n\r\n   function postprint(codigo){\r\n       \r\n        addProgresPrint();\r\n        \r\n        if(true){\r\n            \r\n            function success(data) {\r\n            \r\n                if(data) {\r\n\r\n                    $('.retcod').val(data);\r\n\r\n                    var init_app = $('.iniciado-pelo-app').val();\r\n                    if(init_app == 0){\r\n                        document.location.href = \"clientprint:\"+urlhost+\"/assets/temp/print/\"+data+\".txt\";\r\n                    }else{\r\n                        $('.ativar-post-print').attr('cod',data);\r\n                        $('.ativar-post-print').attr('url',urlhost).trigger('click');\r\n                    }\r\n\r\n                    setTimeout(function(){\r\n                        $('.btn-voltar.btn-confirm-action').trigger( \"click\" );\r\n                    },2000);\r\n                } \r\n            }\r\n\r\n            function erro(xhr){\r\n                showErro(xhr);  \r\n            }\r\n\r\n            var dados = {\r\n                'codigo'  : codigo\r\n            };\r\n\r\n            execAjax1('POST','/print/postprint',dados,success,erro);\r\n        }else{\r\n            \r\n            $('.retcod').val(data);\r\n\r\n            var init_app = $('.iniciado-pelo-app').val();\r\n\r\n            $('.ativar-post-print').attr('cod',codigo);\r\n            $('.ativar-post-print').attr('url',urlhost).trigger('click');\r\n\r\n            setTimeout(function(){\r\n                $('.btn-voltar.btn-confirm-action').trigger( \"click\" );\r\n            },2000);\r\n \r\n        }\r\n        \r\n    }\r\n    \r\n    function prepareprint(){\r\n        var code = '';\r\n            code = code + '<div style=\"display: none\">';\r\n            code = code + '        <button class=\"gc-print-open-app\" >Open APP</button></p>';\r\n            code = code + '        <button class=\"gc-print-abrir-log\" >Console Log</button></p>';\r\n            code = code + '        <button class=\"gc-print-open-com\" >Conectar</button> <button class=\"gc-print-close-com\" >Desconectar</button></p>';\r\n            code = code + '       <button class=\"gc-print-set-config\" porta=\"COM3\" drive=\"Alfa1\" parit=\"2\">SetConfig</button></p>';\r\n            code = code + '        <div class=\"gc-print-log-tela\">';\r\n            code = code + '           <div class=\"gc-print-log-topo\">';\r\n            code = code + '              <div class=\"gc-print-fechar-log\">x</div>';\r\n            code = code + '               <div class=\"gc-print-clear-log\">Clear</div>';\r\n            code = code + '            </div>';\r\n            code = code + '            <div class=\"gc-print-log\"></div>';\r\n            code = code + '         </div>';\r\n            code = code + '    </div>';\r\n            \r\n            $('body').append(code);\r\n            \r\n            $( \".gc-print-close-com\" ).trigger( \"click\" );\r\n    }\r\n    \r\n(function ($) {\r\n    \r\n    var time;\r\n    var iniciado = 0;\r\n    \r\n    $( \".postprint\" ).on( \"click\", function(e) {\r\n    \r\n        var codigo = $('.codigo').val();\r\n        postprint(codigo);\r\n        \r\n    });\r\n \r\n    $( \".gc-print-get-peso\" ).on( \"click\", function(e) {\r\n        \r\n        if(iniciado === 0){\r\n            iniciado = 1;\r\n            \r\n            $( \".gc-print-close-com\" ).trigger( \"click\" );\r\n            $( \".gc-print-open-com\" ).trigger( \"click\" );\r\n            \r\n            time = setInterval(function(){ \r\n                $( \".gc-print-set-config\" ).trigger( \"click\" );\r\n            },3000);\r\n              \r\n        }else{\r\n            $( \".gc-print-close-com\" ).trigger( \"click\" );\r\n            iniciado = 0;\r\n            clearInterval(time);\r\n        }\r\n        \r\n    });\r\n    \r\n    $(document).ready(function(){\r\n        prepareprint();\r\n    });\r\n    \r\n})(jQuery);"]}
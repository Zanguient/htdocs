{"version":3,"sources":["_25600.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"_25600.js","sourcesContent":["    {\r\n\t\t\r\n      var validar = 0;  \r\n      var keyb;\r\n      \r\n        {\r\n            var filtrado = 0;\r\n\r\n            function limpaListaIndicador(e){\r\n                if ($(e).hasClass('btn-filtro')){\r\n                    filtrado = 0;\r\n                    $('.corpo-tabela-3').html('<tr><td cellspacing=\"4\" colspan=\"5\"> <div class=\"tabela-vazia\"> Sem registros </div> </td></tr>');\r\n                }\r\n            }\r\n\r\n            function consultaListaIndicador(e){\r\n\r\n                var _ccusto_id = $('._ccustoindicador_id').val();\r\n                var _indicadores_id = $('._indicadores_id').val();\r\n                var _turno_id = $('._turno_id').val();\r\n\r\n                if ((_ccusto_id > 0) & (_indicadores_id > 0) & (_turno_id > 0)) {\r\n                    filtrado = 1;\r\n                    var id = _indicadores_id;  \r\n                    var url_action = '/_25600/listaFaixas';\r\n                    var dados = {'id': id};\r\n                    var type = \"POST\";\r\n\r\n                    if (id > 0){\r\n\r\n                        function success(retorno){\r\n                          $('.corpo-tabela-3').html(retorno);\r\n                          abilitarTeclado();\r\n                        }\r\n\r\n                        execAjax1(type,url_action,dados,success);\r\n                    }\r\n\r\n                    $('.corpo-tabela-3').html('<tr><td cellspacing=\"4\" colspan=\"5\"> <div class=\"tabela-vazia\"> Lista de indicadores </div> </td></tr>');\r\n                }\r\n            }\r\n        }\r\n\r\n        {\r\n            var itemEmValidacao;\r\n            var proximoEmValidacao;\r\n\r\n            function mediaValores(e){\r\n\r\n               var tabela = $.find('.media-valor');\r\n               var cont = 0;\r\n               var soma = 0;\r\n               var item;\r\n\r\n               for (i = 0; i < $(tabela).length; i++) {\r\n                   item = $(tabela)[i];\r\n                   cont++;\r\n                   soma = (Number(soma) + Number($(item).val()));\r\n               }\r\n               \r\n               var media = soma/cont;\r\n               $('.edit-media').val(media.toPrecision(2));\r\n\r\n            }\r\n\r\n            function cancelarValidacao(e){\r\n               validar = 0; \r\n               $(e).parent().parent().find('.Square-Color').removeClass('verde');\r\n               $(e).parent().parent().find('.Square-Color').removeClass('vermelho');\r\n\r\n               $(itemEmValidacao).attr('addplano','0');\r\n               $(itemEmValidacao).attr('plano','');\r\n\r\n               $(itemEmValidacao).val('').focus();\r\n               $( \".close\" ).trigger( \"click\" );\r\n               $(e).focus();\r\n            }\r\n\r\n            function adicionarPlano(e){\r\n              \r\n             $(itemEmValidacao).attr('addplano','1');\r\n              \r\n              if ($('.adicionar-desc-plano').hasClass('valor-na-tabela')){\r\n                validarValor(itemEmValidacao);\r\n              }\r\n              \r\n              validar = 0;\r\n                var plano = $('.area-ob-indicador').val();  \r\n                \r\n                $(itemEmValidacao).attr('plano',plano);\r\n                $( \".close\" ).trigger( \"click\" );\r\n                proximoEmValidacao.focus();\r\n                \r\n                $(e).removeClass('valor-na-tabela');\r\n            }\r\n\r\n            function gravarNotaIndicador(){\r\n                var Tabela = $('.corpo-tabela-3');\r\n                var campos = $(Tabela).find('tr');\r\n                var item = $(campos)[0];\r\n\r\n                var id          = '';\r\n                var valor       = '';\r\n                var indicadorid = '';\r\n                var addPlano    = '';\r\n                var plano       = '';\r\n                var detalhe     = '';\r\n                var data        = '';\r\n                var ccusto      = '';\r\n                var turno       = '';\r\n                var peso        = '';\r\n                var items = {};\r\n                var notas =[];\r\n\r\n                data        = $('.data-indicador').val();\r\n                ccusto      = $('._ccustoindicador_id').val();\r\n                turno       = $('._turno_id').val();\r\n                indicadorid = $('._indicadores_id').val();\r\n\r\n                for (i = 0; i < $(campos).length; i++) {\r\n\r\n                    item = $(campos)[i];\r\n\r\n                    if ($(item).hasClass('valor')){\r\n\r\n                        items = {};\r\n\r\n                        id          = $(item).find('._id_item').val();\r\n                        valor       = $(item).find('.validar-valor').val();\r\n                        peso        = $(item).find('._peso_indicador').val();\r\n                        addPlano    = $(item).find('.validar-valor').attr('addplano');\r\n                        plano       = $(item).find('.validar-valor').attr('plano');\r\n                        detalhe     = $(item).find('._id_detalhe_item').val();\r\n\r\n                        items['valor'] = valor;\r\n                        items['addPlano'] = addPlano;\r\n                        items['plano'] = plano;\r\n                        items['detalhe'] = detalhe;\r\n                        items['turno'] = turno;\r\n                        items['id'] = id;\r\n                        items['peso'] = peso;\r\n                        \r\n                        notas.push(items);\r\n                    }\r\n                }\r\n\r\n                var url_action = '/_25600/store';\r\n                var dados = {'DADOS':notas,'BSC':indicadorid,'DATA':data,'CCUSTO':ccusto};\r\n                var type = \"POST\";\r\n\r\n                function success(dado){\r\n                    console.log(dado);\r\n                    window.location = \"/sucessoGravar/_25600\";\r\n                }\r\n\r\n                execAjax1(type,url_action,dados,success);\r\n\r\n            }\r\n\r\n            function consultaDescFaixas(e){\r\n\r\n                var indicador = $('.modal-corpo').find('._id_indicador_edit').val();\r\n                var detalhe = $('.modal-corpo').find('._id_detalhe_item').val();\r\n\r\n                var url_action = '/_25600/descfaixas';\r\n                var dados = { 'INDICADOR':indicador,'IDDETALHE':detalhe, 'CLASS':'adiciona-valor'};\r\n                var type = \"POST\";\r\n\r\n                function success(dado){\r\n                    $('.tabela-4').remove();\r\n                    $('.modal-corpo').append(dado);\r\n\r\n                }\r\n\r\n                execAjax1(type,url_action,dados,success);\r\n            }\r\n\r\n            function consultaDescFaixas2(e){\r\n                    \r\n                var indicador = $(e).parent().parent().find('._id_indicador').val();\r\n                var detalhe = $(e).parent().parent().find('._id_detalhe_item').val();\r\n\r\n                var url_action = '/_25600/descfaixas';\r\n                var dados = { 'INDICADOR':indicador,'IDDETALHE':detalhe, 'CLASS':'selecionar-valor'};\r\n                var type = \"POST\";\r\n\r\n                function success(dado){\r\n                    $('.ui-keyboard.ui-widget-content.ui-widget.ui-corner-all.ui-helper-clearfix.ui-keyboard-has-focus').css('display','none');\r\n                    \r\n                    $('.tabela-4').remove();\r\n                    $('.area-texto-plano').remove();\r\n                    $('.textArea-plano-acao').empty();\r\n                    $('.textArea-plano-acao').html('<div class=\"panel-heading area-texto-plano\"><h3 class=\"panel-title\">O QUE?</h3></div><textarea rows=\"7\" class=\"area-ob-indicador\"></textarea>');\r\n                    $('.textArea-plano-acao').append(dado);\r\n                    \r\n                    $('#modal-editar').on('shown.bs.modal', function () {\r\n                        $('.area-ob-indicador').focus();\r\n                    });\r\n                    \r\n                    $( \".ativar-modal\" ).trigger( \"click\" );\r\n                }\r\n\r\n                execAjax1(type,url_action,dados,success);\r\n            }\r\n\r\n            function consultaDescFaixa(e){\r\n                var valor = $(e).find('.imput-editar-valor').val();\r\n                var indicador = $(e).find('._id_indicador').val();\r\n                var detalhe = $(e).find('._id_detalhe_item').val();\r\n\r\n                var url_action = '/_25600/descfaixa';\r\n                var dados = {'VALOR':valor,'INDICADOR':indicador,'IDDETALHE':detalhe};\r\n                var type = \"POST\";\r\n\r\n                function success(dado){\r\n\r\n                    $('.tabela-4').remove();\r\n\r\n                     $('#modal-editar').on('shown.bs.modal', function () {\r\n                         if(validar === 0){\r\n\r\n                            if ( dado.length > 5){\r\n                                $('.textArea-plano-acao').empty();\r\n                                $('.textArea-plano-acao').html('<div class=\"panel-heading area-texto-plano\"><h3 class=\"panel-title\">O QUE?</h3></div><textarea rows=\"7\" class=\"area-ob-indicador  area-texto-plano\"></textarea>');\r\n                                $('.area-ob-indicador').focus();\r\n                                $('.area-ob-indicador').val(dado);\r\n\r\n                            }else{\r\n                                $('.textArea-plano-acao').html('<div class=\"panel-heading area-texto-plano\"><h3 class=\"panel-title\">O QUE?</h3></div><textarea rows=\"7\" class=\"area-ob-indicador\"></textarea>');\r\n                                $('.area-ob-indicador').focus();\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                }\r\n\r\n                execAjax1(type,url_action,dados,success);\r\n            }\r\n            \r\n\r\n            function validarValor(e){\r\n                itemEmValidacao = e;\r\n                proximoEmValidacao = $(e).parent().parent().next().find('.validar-valor');\r\n                if (itemEmValidacao === proximoEmValidacao){proximoEmValidacao = $('.js-gravar');};\r\n\r\n                var valor = Number($(e).val());\r\n                var max = Number($(e).attr('max'));\r\n                var min = Number($(e).attr('min'));\r\n\r\n                var Faixa1_a = Number($(e).attr('A1'));\r\n                var Faixa1_b = Number($(e).attr('A2'));\r\n\r\n                var statusErro = 0;\r\n\r\n                if (valor > max){\r\n                    if(validar === 0){showAlert('O VALOR MÁXIMO PERMITIDO É '+max);}\r\n                    $(itemEmValidacao).val('');\r\n                    $(itemEmValidacao).focus();\r\n                    statusErro=1;\r\n                };\r\n\r\n                if (valor < min){\r\n                    if(validar === 0){showAlert('O VALOR MÍNIMO PERMITIDO É '+min);}\r\n                    $(itemEmValidacao).val('');\r\n                    $(itemEmValidacao).focus();\r\n                    statusErro=1;\r\n                };\r\n\r\n                if(statusErro === 0){\r\n\r\n                    if ((valor <= Faixa1_a) & (valor >= Faixa1_b)){\r\n\r\n                        $(itemEmValidacao).attr('addplano','0');\r\n                        $(itemEmValidacao).attr('plano','');\r\n\r\n                        $(e).parent().parent().find('.Square-Color').addClass('verde').removeClass('vermelho');\r\n                        $( \".close\" ).trigger( \"click\" );\r\n\r\n                        proximoEmValidacao.focus();\r\n\r\n                    }else{\r\n                        \r\n                        if(validar === 0){\r\n                            $(e).parent().parent().find('.Square-Color').addClass('vermelho').removeClass('verde'); \r\n                            if(validar === 0){showAlert('Este item recebeu uma pontuação baixa e deverá ter uma descrição no campo \"O QUE?\".');}\r\n                            $( \".ativar-modal\" ).trigger( \"click\" );\r\n\r\n                            $('.textArea-plano-acao').html('');\r\n                            var obj = $(e).parent().parent();\r\n                            consultaDescFaixa(obj);\r\n                        }\r\n                    }\r\n\r\n                }else{\r\n                    $(itemEmValidacao).val('').focus();\r\n                }\r\n            }\r\n        }\r\n\r\n        function AtualizarTela(e) {\r\n                $('.corpo-tabela-1').html('<tr><td cellspacing=\"4\" colspan=\"4\"> <div class=\"tabela-vazia\"> Sem registros </div> </td></tr>');\r\n                $('.corpo-tabela-2').html('<tr><td cellspacing=\"4\" colspan=\"5\"> <div class=\"tabela-vazia\"> Sem registros </div> </td></tr>');\r\n        }\r\n\r\n        function showNotaModal(e) {\r\n\r\n          var id = $(e).attr('indid');\r\n          var item = $(e).parent().parent().find('td');\r\n          var id = $(e).parent().parent().find('._id_item').val();\r\n          var detalhe = $(e).parent().parent().find('._id_detalhe').val();\r\n          var itemText = '';\r\n          var IDINDICADOR = $(e).parent().parent().find('._id_indicador_').val();\r\n\r\n          $('.item-em-edicao').removeClass('item-em-edicao');\r\n          $('.item-em-edicao-cor').removeClass('item-em-edicao-cor');\r\n\r\n          $(item[3]).addClass('item-em-edicao');\r\n\r\n          $(item[0]).find('.Square-Color').addClass('item-em-edicao-cor');  \r\n          var va = $(item[3]).find('input').val(); \r\n\r\n          itemText = itemText+'<td>'+$(item[0]).html()+'</td>';\r\n          itemText = itemText+'<td>'+$(item[1]).html()+'</td>';\r\n          itemText = itemText+'<td class=\"limit-width linha-pontilhada\">'+$(item[2]).html()+'</td>';\r\n          itemText = itemText+'<td>'+va+'</td>';\r\n          itemText = itemText+'<td class=\"linha-editar\"><input type=\"text\" size=\"7\" class=\"form-control imput-editar qtd mask-numero\" type=\"number\" min=\"1\" decimal=\"4\" autofocus> </td> ';\r\n          itemText = itemText+' <input type=\"hidden\" class=\"_id_item_indicador\" name=\"_id_item_indicador\" value='+id+'>';\r\n          itemText = itemText+' <input type=\"hidden\" class=\"_exec_plano\" name=\"_exec_plano\" value=0 >';\r\n          itemText = itemText+' <input type=\"hidden\" class=\"_valor_anteior\" name=\"_valor_anteior\" value='+va+'>';\r\n          itemText = itemText+' <input type=\"hidden\" class=\"_id_detalhe_item\" name=\"_id_detalhe_item\" value='+detalhe+'>';\r\n          itemText = itemText+' <input type=\"hidden\" class=\"_id_indicador_edit\" name=\"_id_indicador_edit\" value='+IDINDICADOR+'>';\r\n\r\n          var html1 = '';\r\n          var html2 = '';\r\n            html1 = html1+'<table class=\"table table-bordered table-striped table-hover tabulado1 table-selectable\">';\r\n            html1 = html1+'    <thead>';\r\n            html1 = html1+'        <tr>';\r\n            html1 = html1+'           <th class=\"coll-flag\"></th>';\r\n            html1 = html1+'           <th class=\"coll-sequncia\">Seq.</th>';\r\n            html1 = html1+'           <th class=\"coll-descricao\">Descrição</th>';\r\n            html1 = html1+'           <th class=\"coll-valor\">Valor</th>';\r\n            html1 = html1+'           <th class=\"coll-editar\"></th>';\r\n            html1 = html1+'        </tr>';\r\n            html1 = html1+'    </thead>';\r\n            html1 = html1+'    <tbody>';\r\n            html2 = '</tbody></table>';\r\n\r\n          $('.modal-corpo').html(html1+itemText+html2);\r\n\r\n          $('#modal-editar').on('shown.bs.modal', function () {\r\n            abilitarTeclado();\r\n            $('.imput-editar').focus();\r\n          });\r\n\r\n        }\r\n\r\n        function consultarNotas(obj){\r\n\r\n            var id = $(obj).attr('indid');  \r\n            var url_action = '/_25600/consultarRegistro';\r\n            var dados = {'id': id};\r\n            var type = \"POST\";\r\n\r\n            if (id > 0){\r\n\r\n                function success(retorno){\r\n                  $('.corpo-tabela-2').html(retorno);\r\n                }\r\n\r\n                execAjax1(type,url_action,dados,success);\r\n            } \r\n\r\n        }\r\n\r\n        function filtrarIndicador() {\r\n\r\n            var CCUSTO = $('._ccustoindicador_id').val();\r\n            var DATAS = $('.data-filtro').val();\r\n            var url_action = '/_25600/filtrar';\r\n            var dados = {'CCUSTO': CCUSTO, 'DATA': DATAS};\r\n            var type = \"POST\";\r\n\r\n            function success(retorno){\r\n              $('.corpo-tabela-1').html(retorno);\r\n              $('.corpo-tabela-2').html('<tr><td cellspacing=\"4\" colspan=\"5\"> <div class=\"tabela-vazia\"> Sem registros </div> </td></tr>');\r\n            }\r\n\r\n            execAjax1(type,url_action,dados,success);\r\n\r\n        }\r\n\r\n        function alterarNota(e) {\r\n            var id = $('._id_item_indicador').val();\r\n            var valor = $('.imput-editar').val();\r\n            var indicador = $('._id_indicador').val();\r\n            var plano = $('._exec_plano').val();\r\n            var valorAnterior = $('._valor_anteior').val();\r\n            var detalhe = $('._id_detalhe_item').val();\r\n            var descPlano = $('.textArea-plano-acao').val();\r\n            var idIndicador = $('._id_indicador_').val();\r\n\r\n            if ( valorAnterior != valor ){\r\n\r\n                var url_action = '/_25600/alterarNota';\r\n                var dados = {'ID': id, 'VALOR':valor, 'INDICADOR':indicador, 'PLANO':plano,'IDDETALHE':detalhe,'DESCPLANO':descPlano, 'IDINDICADOR':idIndicador};\r\n                var type = \"POST\";\r\n\r\n                function success(retorno){\r\n\r\n                  if(retorno['PLANO'] == 0){\r\n\r\n                    $( \".fechar-modal\" ).trigger( \"click\" );  \r\n                    showSuccess('GRAVADO COM SUCESSO!');  \r\n                    $('.item-em-edicao').find('input').val(valor);\r\n                    $('.item-em-edicao').removeClass('item-em-edicao');\r\n\r\n                    $('.item-em-edicao-cor').removeClass('verde');\r\n                    $('.item-em-edicao-cor').removeClass('vermelho');\r\n                    $('.item-em-edicao-cor').addClass(retorno['DESC']);\r\n                    $('.item-em-edicao-cor').removeClass('item-em-edicao-cor');\r\n\r\n                    mediaValores(e);\r\n                  }else{\r\n                    $('.tabela-4').remove();\r\n                    $('.area-plano-acao').remove();\r\n\r\n                    //$('.imput-editar').attr('readonly', true);\r\n                    $('.imput-editar').attr('disabled', true);\r\n\r\n                    if (retorno['PLANO'] == 1){  \r\n                       showAlert('Este item recebeu uma pontuação baixa e deverá ter uma descrição no campo \"O QUE?\".');\r\n                    }else{\r\n                       showAlert('Este item está na faixa \"NÃO APLICÁVEL\", e recebeu uma descrição no campo \"O QUE?\".'); \r\n                    }\r\n                    var textoPlanoDeAcao = '';\r\n\r\n                    textoPlanoDeAcao = textoPlanoDeAcao+'<div class=\"panel panel-primary orcamento area-plano-acao\">';\r\n                    textoPlanoDeAcao = textoPlanoDeAcao+'  <div class=\"panel-heading\">';\r\n                    textoPlanoDeAcao = textoPlanoDeAcao+'      <h3 class=\"panel-title\">Registrar plano de ação</h3>';\r\n                    textoPlanoDeAcao = textoPlanoDeAcao+('  </div>');\r\n                    textoPlanoDeAcao = textoPlanoDeAcao+'  <textarea class=\"textArea-plano-acao\" rows=\"4\">';\r\n                    textoPlanoDeAcao = textoPlanoDeAcao+'</textarea>';\r\n                    textoPlanoDeAcao = textoPlanoDeAcao+'</div>';\r\n\r\n                    $('.modal-corpo').append(textoPlanoDeAcao);\r\n\r\n\r\n                    $('._exec_plano').val(1);\r\n                    $('.textArea-plano-acao').focus();\r\n                    $('.textArea-plano-acao').html(retorno['DESC']);\r\n\r\n                  }\r\n\r\n                }\r\n\r\n                function error(xhr){\r\n                  $('.item-em-edicao').removeClass('item-em-edicao');\r\n                  $('.item-em-edicao-cor').removeClass('item-em-edicao-cor');\r\n                }\r\n\r\n                execAjax1(type,url_action,dados,success,error);\r\n            }else{ \r\n               showAlert('Valor igual ao anterior');\r\n               $('.imput-editar').focus();\r\n            }\r\n\r\n        }\r\n\r\n        {\r\n            var editAtivo;\r\n\r\n            function isMobile()\r\n            {\r\n                var userAgent = navigator.userAgent.toLowerCase();\r\n                if( userAgent.search(/(android|avantgo|blackberry|bolt|boost|cricket|docomo|fone|hiptop|mini|mobi|palm|phone|pie|tablet|up\\.browser|up\\.link|webos|wos)/i)!= -1 )\r\n                    return true;\r\n            }\r\n\r\n            $.keyboard.keyaction.panic = function(base) {\r\n               validar = 1;     \r\n              \r\n                base.reveal();\r\n\r\n               consultaDescFaixas2(editAtivo);\r\n               \r\n            };\r\n            \r\n            $.keyboard.keyaction.pani = function(base) {\r\n               $( \".btn-more-info\" ).trigger( \"click\" );\r\n               $('.ui-keyboard.ui-widget-content.ui-widget.ui-corner-all.ui-helper-clearfix.ui-keyboard-has-focus').css('display','none');\r\n                    \r\n            };\r\n\r\n\r\n            function abilitarTeclado(){\r\n\r\n                if(isMobile()){\r\n                //if(true){    \r\n\r\n                    jQuery('.keyboard-numeric').keyboard({\r\n                        lockInput: true,\r\n                        layout: 'num',\r\n                        restrictInput : true,\r\n                        preventPaste : true,\r\n                        autoAccept : true\r\n                    });\r\n\r\n                    jQuery('.keyboard-numeric2').keyboard({\r\n                        lockInput: true,\r\n                        layout: 'custom',\r\n                        customLayout: {\r\n                            'default' : [\r\n                                '9 . -',\r\n                                '6 7 8',\r\n                                '3 4 5',\r\n                                '0 1 2',\r\n                                '{b} {a} {clear}',\r\n                                '{panic!!}'\r\n                            ]\r\n                        },\r\n                        restrictInput : true,\r\n                        preventPaste : true,\r\n                        autoAccept : true,\r\n                        display: {\r\n                            'panic' : 'Descrição'\r\n                        },\r\n                        beforeVisible : function(event, keyboard, el){\r\n                            editAtivo = this;\r\n                        }\r\n                    });\r\n                    \r\n                    jQuery('.keyboard-numeric3').keyboard({\r\n                        lockInput: true,\r\n                        layout: 'custom',\r\n                        customLayout: {\r\n                            'default' : [\r\n                                '9 . -',\r\n                                '6 7 8',\r\n                                '3 4 5',\r\n                                '0 1 2',\r\n                                '{b} {a} {clear}',\r\n                                '{pani!!}'\r\n                            ]\r\n                        },\r\n                        restrictInput : true,\r\n                        preventPaste : true,\r\n                        autoAccept : true,\r\n                        display: {\r\n                            'pani' : 'Descrição'\r\n                        },\r\n                        beforeVisible : function(event, keyboard, el){\r\n                            editAtivo = this;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        function adicionaValor(e){\r\n           var nota = $(e).attr('valor');\r\n           $('.imput-editar').val(nota);\r\n           $( \".imput-editar\" ).trigger( \"change\" );\r\n        }\r\n\r\n        function revalidarNota(){\r\n          $('._exec_plano').val(0);\r\n          $('.area-plano-acao').remove();\r\n        }\r\n        \r\n        function selecionarValor(e){\r\n            var desc = $(e).attr('desc');\r\n            var nota = $(e).attr('valor');\r\n            \r\n            $('.area-ob-indicador').val('');\r\n            $('.area-ob-indicador').focus();\r\n            $('.area-ob-indicador').val(desc);\r\n            \r\n            $(editAtivo).val(nota);\r\n            \r\n           $('.adicionar-desc-plano').addClass('valor-na-tabela');\r\n        }\r\n    }\r\n    \r\n(function ($) {\r\n\r\n    $('.filtrar-indicador').click(function () {\r\n        filtrarIndicador();\r\n    });\r\n    \r\n    $('.Atualizar-Tela').click(function () {\r\n        AtualizarTela();\r\n    });\r\n    \r\n    $('.Atualizar-Tela').change(function () {\r\n        AtualizarTela();\r\n    });\r\n    \r\n    $(document).on('click','.editar-nota', function(e) {\r\n       showNotaModal(this);\r\n    });\r\n    \r\n    $(document).on('click','.corpo-tabela-1 tr', function(e) {\r\n       consultarNotas(this);   \r\n    });\r\n    \r\n    $(document).on('click','.alterar-nota', function(e) {\r\n       alterarNota(e);   \r\n    });\r\n    \r\n    $('.atualiza-lista').click(function () {\r\n        limpaListaIndicador(this);\r\n    });\r\n    \r\n    $('.indicadores-descricao').change(function () {\r\n        consultaListaIndicador(this);\r\n    });\r\n    \r\n    $(document).on('change','input', function(e) {\r\n        if ($(this).hasClass('no-atualiza-lista')){}else{\r\n           consultaListaIndicador(this); \r\n        }\r\n    });\r\n    \r\n    $(document).on('change','.validar-valor', function(e) {\r\n        validarValor(this);\r\n    });\r\n    \r\n    $(document).on('change','.media-valor', function(e) {\r\n        mediaValores(this);\r\n    });\r\n   \r\n    $(document).on('click','.cancelar-validacao', function(e) {\r\n        cancelarValidacao(this);\r\n    });\r\n    \r\n    $(document).on('click','.adicionar-desc-plano', function(e) {\r\n       adicionarPlano(this);\r\n    });\r\n    \r\n    $(document).on('click','.gravar-notas-indicador', function(e) {\r\n       gravarNotaIndicador();\r\n    });\r\n    \r\n    $(document).on('click','.btn-more-info', function(e) {\r\n       consultaDescFaixas(this);\r\n    });\r\n    \r\n    $(document).on('focus','input', function(e) {\r\n        var obj = $(this).parent().parent();\r\n                \r\n        if($(obj).hasClass('linha-selecionavel')){\r\n            SelecionarLinha(obj);\r\n        }\r\n    });\r\n    \r\n    $(document).on('click','.adiciona-valor', function(e) {\r\n       adicionaValor(this);\r\n    });\r\n    \r\n    $(document).on('click','.selecionar-valor', function(e) {\r\n       selecionarValor(this);\r\n    });\r\n\r\n    $(document).on('change','.imput-editar', function(e) {\r\n       revalidarNota(this);\r\n    });\r\n\t\r\n\t\r\n\t/**\r\n\t * Passar entre itens com as teclas up/down.\r\n\t */\r\n\tfunction ativarTabSeta() {\r\n\r\n\t\t$(document)\r\n\t\t\t.on('keydown', '.pesquisa-res ul li a', 'down', function() {\r\n\t\t\t\t\r\n\t\t\t\t$.tabNext();\r\n\t\t\t\treturn false;\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t.on('keydown', '.pesquisa-res ul li a', 'up', function() {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t$.tabPrev();\r\n\t\t\t\treturn false;\r\n\t\t\t\r\n\t\t\t})\r\n\t\t\t.on('keydown', '.ccustoindicador input, .indicadores input, .turno input', 'down', function() {\r\n\t\t\t\t\r\n\t\t\t\t$.tabNext();\r\n\t\t\t\treturn false;\r\n\t\t\t\t\r\n\t\t\t});\r\n\t}\r\n\t\r\n\t$(function() {\r\n\t\t\r\n\t\tativarTabSeta();\r\n\t\t\r\n\t});    \r\n    \r\n            \r\n})(jQuery);    "]}
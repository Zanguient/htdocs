{"version":3,"sources":["_31080.app.js","_31080.controller.js","_31080.factory.mercado.js","_31080.factory.mercado_itens.js","_31080.factory.mercado_itens_conta.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"_31080.js","sourcesContent":["/**\n * App do objeto _31080 - Cadastro de Mercados\n */\n\n'use strict';\n\nangular\n\t.module('app', [\n\t\t'vs-repeat', \n        'gc-find',\n\t\t'gc-ajax',\n\t\t'gc-transform',\n\t\t'gc-form'\n\t])\n;","/**\r\n * Controller do objeto _31070 - Cadastro de Incentivos\r\n */\r\n\r\nangular\r\n\t.module('app')\r\n\t.value('gScope', {})\r\n\t.controller('Ctrl', Ctrl);\r\n\r\nCtrl.$inject = [\r\n\t'$scope',\r\n\t'gScope',\r\n\t'Historico',\r\n\t'Mercado',\r\n\t'MercadoItens',\r\n\t'MercadoItensConta',\r\n\t'$compile',\r\n\t'$consulta'\r\n];\r\n\r\nfunction Ctrl( \r\n\t$scope,\r\n\tgScope,\r\n\tHistorico,\r\n\tMercado,\r\n\tMercadoItens,\r\n\tMercadoItensConta,\r\n\t$compile,\r\n\t$consulta\r\n) {\r\n\r\n\t// Local instance.\r\n\tvar vm = this;\r\n\r\n\tvm.FAMILIA_ID = 3;\r\n\tvm.Consulta   = new $consulta();\r\n\r\n\t// Global variables.\r\n\tvm.tipoTela      = 'listar';\r\n\tvm.permissaoMenu = {};\r\n\tvm.Historico     = new Historico('vm.Historico', $scope);\r\n\r\n\tvm.Mercado = new Mercado();\r\n\tvm.MercadoItens = new MercadoItens();\r\n\tvm.MercadoItensConta = new MercadoItensConta();\r\n\r\n\tvm.ConsultaFamilia = vm.Consulta.getNew();\r\n    vm.ConsultaFamilia.componente              = '.consulta-familia';\r\n    vm.ConsultaFamilia.model                   = 'vm.ConsultaFamilia';\r\n    vm.ConsultaFamilia.option.label_descricao  = 'Família:';\r\n    vm.ConsultaFamilia.option.obj_consulta     = '/_31080/consultarFamilia';\r\n    vm.ConsultaFamilia.option.tamanho_input    = 'input-medio';\r\n    vm.ConsultaFamilia.option.tamanho_tabela   = 260;\r\n    vm.ConsultaFamilia.autoload                = false;\r\n\r\n    vm.ConsultaFamilia.compile();\r\n\r\n    vm.ConsultaConta = vm.Consulta.getNew();\r\n    vm.ConsultaConta.componente              = '.consulta-conta';\r\n    vm.ConsultaConta.model                   = 'vm.ConsultaConta';\r\n    vm.ConsultaConta.option.label_descricao  = 'Conta:';\r\n    vm.ConsultaConta.option.obj_consulta     = '/_31080/consultarConta';\r\n    vm.ConsultaConta.option.tamanho_input    = 'input-medio';\r\n    vm.ConsultaConta.option.campos_tabela    = [['ID','ID'],['CONTA','CONTA'],['DESCRICAO','DESCRIÇÃO']],\r\n    vm.ConsultaConta.option.tamanho_tabela   = 500;\r\n    vm.ConsultaConta.autoload                = false;\r\n\r\n    vm.ConsultaConta.compile();\r\n\r\n\r\n    vm.ConsultaFamilia.onSelect = function(){\r\n    \tif(vm.ConsultaFamilia.item.selected == true){\r\n            vm.FAMILIA_ID = vm.ConsultaFamilia.item.dados.ID;\r\n\r\n            vm.Mercado.consultar();\r\n        }\r\n    };\r\n\r\n    vm.ConsultaFamilia.onClear = function(){\r\n        vm.Mercado.DADOS     = []\r\n        vm.Mercado.DADOS.push({ID:'', DESCRICAO:'', PERCENTUAL: '',PERCENTUAL_IR:''});\r\n    };\r\n\r\n\tvm.ConsultaFamilia.filtrar();\r\n\r\n\r\n\t// Public instance.\r\n\tgScope.vm = vm;\r\n\t\r\n}","/**\r\n * Factory index do objeto _31080 - Cadastro de Mercados\r\n */\r\n\r\n\r\nangular\r\n    .module('app')\r\n    .factory('Mercado', Mercado);    \r\n\r\nMercado.$inject = [\r\n    '$ajax',\r\n    'gScope'\r\n];\r\n\r\nfunction Mercado($ajax, gScope) {\r\n\r\n    // Private variables.\r\n    var obj = null;\r\n\r\n    /**\r\n     * Constructor, with class name.\r\n     */\r\n    function Mercado() {\r\n\r\n        obj = this;\r\n\r\n        // Public variables\r\n        this.filtro = {\r\n            DATA_INI_INPUT: moment().subtract(3, 'month').toDate(),\r\n            DATA_FIM_INPUT: moment().toDate()\r\n        };\r\n        this.dado = {};\r\n\r\n        obj.ALTERANDO = false;\r\n        obj.SELECTED  = null;\r\n        obj.DADOS     = []\r\n        obj.DADOS.push({ID:'', DESCRICAO:'', PERCENTUAL: '',PERCENTUAL_IR:''});\r\n        obj.ORDER_BY  = 'ID';\r\n\r\n        obj.consultar = function(){\r\n            var ds = {\r\n                    FLAG : 0,\r\n                    FAMILIA_ID : gScope.vm.FAMILIA_ID\r\n                };\r\n\r\n            $ajax.post('/_31080/consultar',ds,{contentType: 'application/json'})\r\n                .then(function(response) {\r\n                    obj.DADOS = response;     \r\n                }\r\n            );\r\n        };\r\n\r\n        obj.cancelar = function(){\r\n            obj.ALTERANDO = false;\r\n        }\r\n\r\n        obj.modalIncluir = function(){\r\n            obj.ALTERANDO = false;\r\n\r\n            obj.NOVO = {\r\n                ID             : 0,\r\n                DESCRICAO      : '',\r\n                PERC_INCENTIVO : 0,\r\n                INCENTIVO      : '0',\r\n                FAMILIA_ID     : gScope.vm.FAMILIA_ID\r\n            };\r\n\r\n            $('#modal-incluir').modal();  \r\n        };\r\n\r\n        obj.modalAlterar = function(){\r\n            obj.ALTERANDO = true;\r\n\r\n            gScope.vm.MercadoItens.consultar();\r\n\r\n            obj.NOVO = {\r\n                ID             : obj.SELECTED.ID,\r\n                DESCRICAO      : obj.SELECTED.DESCRICAO,\r\n                PERC_INCENTIVO : Number(obj.SELECTED.PERC_INCENTIVO),\r\n                INCENTIVO      : '' + Number(obj.SELECTED.INCENTIVO) + '',\r\n                FAMILIA_ID     : gScope.vm.FAMILIA_ID\r\n            };\r\n\r\n            $('#modal-incluir').modal();  \r\n        };\r\n\r\n        obj.incluir = function(){\r\n            addConfirme('<h4>Confirmação</h4>',\r\n                'Deseja realmente gravar?',\r\n                [obtn_sim,obtn_nao],\r\n                [{ret:1,func:function(){\r\n                    var ds = {\r\n                        ITEM : obj.NOVO\r\n                    };\r\n\r\n                    $ajax.post('/_31080/incluir',ds,{contentType: 'application/json'})\r\n                        .then(function(response) {\r\n                            obj.consultar();\r\n                            $('#modal-incluir').modal('hide'); \r\n                            showSuccess('Gravado com sucesso!'); \r\n                            obj.ALTERANDO = false;   \r\n                        }\r\n                    );\r\n                }}]     \r\n            );\r\n\r\n            \r\n        };\r\n\r\n        obj.alterar = function(){\r\n            addConfirme('<h4>Confirmação</h4>',\r\n                'Deseja realmente gravar?',\r\n                [obtn_sim,obtn_nao],\r\n                [{ret:1,func:function(){\r\n                    var ds = {\r\n                        ITEM : obj.NOVO\r\n                    };\r\n\r\n                    $ajax.post('/_31080/alterar',ds,{contentType: 'application/json'})\r\n                        .then(function(response) {\r\n                            obj.consultar();\r\n                            $('#modal-incluir').modal('hide'); \r\n                            showSuccess('Alterado com sucesso!');\r\n                            obj.ALTERANDO = false;  \r\n                        }\r\n                    );\r\n                }}]     \r\n            );\r\n        };\r\n\r\n        obj.excluir = function(){\r\n            addConfirme('<h4>Confirmação</h4>',\r\n                'Deseja realmente excluir o Mercado ('+obj.SELECTED.DESCRICAO+')?',\r\n                [obtn_sim,obtn_nao],\r\n                [{ret:1,func:function(){\r\n                    var ds = {\r\n                            ITEM : obj.SELECTED\r\n                        };\r\n\r\n                    $ajax.post('/_31080/excluir',ds,{contentType: 'application/json'})\r\n                        .then(function(response) {\r\n                            obj.consultar();\r\n                            showSuccess('Excluido com sucesso!'); \r\n                            obj.ALTERANDO = false;   \r\n                        }\r\n                    ); \r\n                }}]     \r\n            );\r\n        };\r\n    }\r\n\r\n\r\n    /**\r\n     * Return the constructor function\r\n     */\r\n    return Mercado;\r\n};","/**\r\n * Factory index do objeto _31080 - Cadastro de Mercados\r\n */\r\n\r\n\r\nangular\r\n    .module('app')\r\n    .factory('MercadoItens', MercadoItens);    \r\n\r\nMercadoItens.$inject = [\r\n    '$ajax',\r\n    'gScope'\r\n];\r\n\r\nfunction MercadoItens($ajax, gScope) {\r\n\r\n    // Private variables.\r\n    var obj = null;\r\n\r\n    /**\r\n     * Constructor, with class name.\r\n     */\r\n    function MercadoItens() {\r\n\r\n        obj = this;\r\n\r\n        // Public variables\r\n        this.filtro = {\r\n            DATA_INI_INPUT: moment().subtract(3, 'month').toDate(),\r\n            DATA_FIM_INPUT: moment().toDate()\r\n        };\r\n        this.dado = {};\r\n\r\n        obj.ALTERANDO = false;\r\n        obj.SELECTED  = null;\r\n        obj.DADOS     = []\r\n        obj.DADOS.push({ID:'', DESCRICAO:'', PERCENTUAL: '',PERCENTUAL_IR:''});\r\n        obj.ORDER_BY  = 'ID';\r\n\r\n        obj.consultar = function(){\r\n            var ds = {\r\n                    PADRAO_ID : gScope.vm.Mercado.SELECTED.ID\r\n                };\r\n\r\n            $ajax.post('/_31080/consultar_itens',ds,{contentType: 'application/json'})\r\n                .then(function(response) {\r\n                    obj.DADOS = response;     \r\n                }\r\n            );\r\n        };\r\n\r\n        obj.cancelar = function(){\r\n            obj.ALTERANDO = false;\r\n        }\r\n\r\n        obj.modalIncluir = function(){\r\n            obj.ALTERANDO = false;\r\n\r\n            obj.NOVO = {\r\n                ID         : 0,\r\n                DESCRICAO  : '',\r\n                PERCENTUAL : 0,\r\n                FATOR      : 0,\r\n                AVOS       : 0,\r\n                USAR_FATOR : '0',\r\n                EDITAVEL   : '0',\r\n                PADRAO_ID  : gScope.vm.Mercado.NOVO.ID,\r\n                INCENTIVO  : '0',\r\n                FRETE      : '0',\r\n                MARGEM     : '0'\r\n            };\r\n\r\n            $('#modal-incluir-itens').modal();  \r\n        };\r\n\r\n        obj.modalAlterar = function(){\r\n            obj.ALTERANDO = true;\r\n\r\n            gScope.vm.MercadoItensConta.consultar();\r\n\r\n            obj.NOVO = {\r\n                ID         : obj.SELECTED.ID,\r\n                DESCRICAO  : obj.SELECTED.DESCRICAO,\r\n                PERCENTUAL : Number(obj.SELECTED.PERCENTUAL),\r\n                FATOR      : Number(obj.SELECTED.FATOR),\r\n                AVOS       : Number(obj.SELECTED.AVOS),\r\n                USAR_FATOR : obj.SELECTED.USAR_FATOR,\r\n                EDITAVEL   : obj.SELECTED.EDITAVEL,\r\n                PADRAO_ID  : gScope.vm.Mercado.NOVO.ID,\r\n                INCENTIVO  : obj.SELECTED.INCENTIVO,\r\n                FRETE      : obj.SELECTED.FRETE,\r\n                MARGEM     : obj.SELECTED.MARGEM\r\n            };\r\n\r\n            $('#modal-incluir-itens').modal();  \r\n        };\r\n\r\n        obj.incluir = function(){\r\n            addConfirme('<h4>Confirmação</h4>',\r\n                'Deseja realmente gravar?',\r\n                [obtn_sim,obtn_nao],\r\n                [{ret:1,func:function(){\r\n                    var ds = {\r\n                        ITEM : obj.NOVO\r\n                    };\r\n\r\n                    $ajax.post('/_31080/incluir_itens',ds,{contentType: 'application/json'})\r\n                        .then(function(response) {\r\n                            obj.consultar();\r\n                            $('#modal-incluir-itens').modal('hide'); \r\n                            showSuccess('Gravado com sucesso!'); \r\n                            obj.ALTERANDO = false;   \r\n                        }\r\n                    );\r\n                }}]     \r\n            );\r\n\r\n            \r\n        };\r\n\r\n        obj.alterar = function(){\r\n            addConfirme('<h4>Confirmação</h4>',\r\n                'Deseja realmente gravar?',\r\n                [obtn_sim,obtn_nao],\r\n                [{ret:1,func:function(){\r\n                    var ds = {\r\n                        ITEM : obj.NOVO\r\n                    };\r\n\r\n                    $ajax.post('/_31080/alterar_itens',ds,{contentType: 'application/json'})\r\n                        .then(function(response) {\r\n                            obj.consultar();\r\n                            $('#modal-incluir-itens').modal('hide'); \r\n                            showSuccess('Alterado com sucesso!');\r\n                            obj.ALTERANDO = false;  \r\n                        }\r\n                    );\r\n                }}]     \r\n            );\r\n        };\r\n\r\n        obj.excluir = function(){\r\n            addConfirme('<h4>Confirmação</h4>',\r\n                'Deseja realmente excluir o Item ('+obj.SELECTED.DESCRICAO+')?',\r\n                [obtn_sim,obtn_nao],\r\n                [{ret:1,func:function(){\r\n                    var ds = {\r\n                            ITEM : obj.SELECTED\r\n                        };\r\n\r\n                    $ajax.post('/_31080/excluir_itens',ds,{contentType: 'application/json'})\r\n                        .then(function(response) {\r\n                            obj.consultar();\r\n                            showSuccess('Excluido com sucesso!'); \r\n                            obj.ALTERANDO = false;   \r\n                        }\r\n                    ); \r\n                }}]     \r\n            );\r\n        };\r\n    }\r\n\r\n\r\n    /**\r\n     * Return the constructor function\r\n     */\r\n    return MercadoItens;\r\n};","/**\r\n * Factory index do objeto _31080 - Cadastro de MercadoItensContas\r\n */\r\n\r\n\r\nangular\r\n    .module('app')\r\n    .factory('MercadoItensConta', MercadoItensConta);    \r\n\r\nMercadoItensConta.$inject = [\r\n    '$ajax',\r\n    'gScope'\r\n];\r\n\r\nfunction MercadoItensConta($ajax, gScope) {\r\n\r\n    // Private variables.\r\n    var obj = null;\r\n\r\n    /**\r\n     * Constructor, with class name.\r\n     */\r\n    function MercadoItensConta() {\r\n\r\n        obj = this;\r\n\r\n        // Public variables\r\n        this.filtro = {\r\n            DATA_INI_INPUT: moment().subtract(3, 'month').toDate(),\r\n            DATA_FIM_INPUT: moment().toDate()\r\n        };\r\n        this.dado = {};\r\n\r\n        obj.ALTERANDO = false;\r\n        obj.SELECTED  = null;\r\n        obj.DADOS     = []\r\n        obj.DADOS.push({ID:'', DESCRICAO:'', PERCENTUAL: '',PERCENTUAL_IR:''});\r\n        obj.ORDER_BY  = 'ID';\r\n\r\n        obj.consultar = function(){\r\n            var ds = {\r\n                    FLAG    : 0,\r\n                    ITEM_ID : gScope.vm.MercadoItens.SELECTED.ID\r\n                };\r\n\r\n            $ajax.post('/_31080/consultar_itens_conta',ds,{contentType: 'application/json'})\r\n                .then(function(response) {\r\n                    obj.DADOS = response;     \r\n                }\r\n            );\r\n        };\r\n\r\n        obj.cancelar = function(){\r\n            obj.ALTERANDO = false;\r\n            gScope.vm.ConsultaConta.apagar();\r\n        }\r\n\r\n        obj.modalIncluir = function(){\r\n            obj.ALTERANDO = false;\r\n\r\n            obj.NOVO = {\r\n                ID        : 0,\r\n                DESCRICAO : '',\r\n                CONTA     : 0,\r\n                ITEM_ID   : gScope.vm.MercadoItens.SELECTED.ID\r\n            };\r\n\r\n            gScope.vm.ConsultaConta.filtrar();\r\n\r\n            $('#modal-incluir-conta').modal();  \r\n        };\r\n\r\n        obj.modalAlterar = function(){\r\n            obj.ALTERANDO = true;\r\n\r\n            obj.NOVO = {\r\n                ID        : obj.SELECTED.ID,\r\n                DESCRICAO : obj.SELECTED.DESCRICAO,\r\n                CONTA     : obj.SELECTED.CONTA,\r\n                ITEM_ID   : gScope.vm.MercadoItens.SELECTED.ID\r\n            };\r\n\r\n            gScope.vm.ConsultaConta.filtrar();\r\n\r\n            $('#modal-incluir-conta').modal();  \r\n        };\r\n\r\n        obj.incluir = function(){\r\n            if(gScope.vm.ConsultaConta.item.selected == true){\r\n                addConfirme('<h4>Confirmação</h4>',\r\n                    'Deseja realmente gravar?',\r\n                    [obtn_sim,obtn_nao],\r\n                    [{ret:1,func:function(){\r\n\r\n                        obj.NOVO.CONTA = gScope.vm.ConsultaConta.item.dados.CONTA\r\n                        gScope.vm.ConsultaConta.apagar();\r\n\r\n                        var ds = {\r\n                            ITEM : obj.NOVO\r\n                        };\r\n\r\n                        $ajax.post('/_31080/incluir_itens_conta',ds,{contentType: 'application/json'})\r\n                            .then(function(response) {\r\n                                obj.consultar();\r\n                                $('#modal-incluir-conta').modal('hide'); \r\n                                showSuccess('Gravado com sucesso!'); \r\n                                obj.ALTERANDO = false;   \r\n                            }\r\n                        );\r\n                    }}]     \r\n                );\r\n            }else{\r\n                showErro('Selecione uma Conta');\r\n            }            \r\n        };\r\n\r\n        obj.alterar = function(){\r\n            if(gScope.vm.ConsultaConta.item.selected == true){\r\n                addConfirme('<h4>Confirmação</h4>',\r\n                    'Deseja realmente gravar?',\r\n                    [obtn_sim,obtn_nao],\r\n                    [{ret:1,func:function(){\r\n\r\n                        obj.NOVO.CONTA = gScope.vm.ConsultaConta.item.dados.CONTA\r\n                        gScope.vm.ConsultaConta.apagar();\r\n\r\n                        var ds = {\r\n                            ITEM : obj.NOVO\r\n                        };\r\n\r\n                        $ajax.post('/_31080/alterar_itens_conta',ds,{contentType: 'application/json'})\r\n                            .then(function(response) {\r\n                                obj.consultar();\r\n                                $('#modal-incluir-conta').modal('hide'); \r\n                                showSuccess('Alterado com sucesso!');\r\n                                obj.ALTERANDO = false;  \r\n                            }\r\n                        );\r\n                    }}]     \r\n                );\r\n            }else{\r\n                showErro('Selecione uma Conta');\r\n            } \r\n        };\r\n\r\n        obj.excluir = function(){\r\n            addConfirme('<h4>Confirmação</h4>',\r\n                'Deseja realmente excluir Conta ('+obj.SELECTED.DESCRICAO+')?',\r\n                [obtn_sim,obtn_nao],\r\n                [{ret:1,func:function(){\r\n                    var ds = {\r\n                            ITEM : obj.SELECTED\r\n                        };\r\n\r\n                    $ajax.post('/_31080/excluir_itens_conta',ds,{contentType: 'application/json'})\r\n                        .then(function(response) {\r\n                            obj.consultar();\r\n                            showSuccess('Excluido com sucesso!'); \r\n                            obj.ALTERANDO = false;   \r\n                        }\r\n                    ); \r\n                }}]     \r\n            );\r\n        };\r\n    }\r\n\r\n\r\n    /**\r\n     * Return the constructor function\r\n     */\r\n    return MercadoItensConta;\r\n};"]}
{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"_15100.js","sourcesContent":["/**\n * _15100 - Abastecer estoque\n */\n\n;(function(angular) {\n\n    var Ctrl = function($scope,$ajax,$timeout) {\n\n        var vm   = this;\n\t\tvm.DADOS = [];\n\n\n        function init(){\n        \t/*\n\t\t\tvar ds = {\n\t\t\t\t\tID : 0\n\t\t\t\t};\n\n\t\t\t$ajax.post('/_15100/Consultar',ds,{contentType: 'application/json'})\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tvm.DADOS.CONSULTA = response[0];                   \n\t\t\t\t}\n\t\t\t);\n\t\t\t*/\n        }\n\n        vm.gp = {\n        \tID        : 0,\n        \tPERFIL    : '',\n        \tDESCRICAO : '',\n        \tCODBARRAS : ''\n        };\n\n        vm.operador = {\n        \tID        : 0,\n        \tDESCRICAO : '',\n        \tCODBARRAS : ''\n        };\n\n        vm.peca = {\n        \tCODBARRAS : '',\n        \tABASTECER : 0\n        };\n\n        vm.logado = false;\n\n        vm.regra = {};\n\n        vm.Acoes = {\n        \tlogin: function(){\n        \t\t$('#modal-up').modal();\n        \t\tsetTimeout(function(){\n        \t\t\t$('#modal-up').find('input').focus();\n        \t\t},300);\n        \t},\n        \tUpKeydown: function($event){\n        \t\tif($event.key == 'Enter'){\n\n        \t\t\tvar ds = {\n\t\t\t\t\t\tCODBARRAS : vm.gp.CODBARRAS\n\t\t\t\t\t};\n\n\t            \t$ajax.post('/_15100/ConsultarUP',ds)\n\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\tif(response.ID == 'ERRO'){\n\t\t\t\t\t\t\t\tshowErro('UP n達o foi encontrada.<br>COD. BARRAS:'+vm.gp.CODBARRAS);\n\t\t\t\t\t\t\t\tvm.gp.CODBARRAS = '';\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t$('#modal-up').modal('hide');\n        \t\t\t\t\t\t$('#modal-operador').modal();\n\n        \t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t        \t\t\t$('#modal-operador').find('input').focus();\n\t\t\t\t        \t\t},300);\n\n\t\t\t\t\t\t        vm.gp.ID        = response.ID;\n\t\t\t\t\t\t        vm.gp.PERFIL    = response.PERFIL;\n\t\t\t\t\t\t        vm.gp.DESCRICAO = response.DESCRICAO;\n\t\t\t\t\t\t\t}                 \n\t\t\t\t\t\t}\n\t\t\t\t\t);     \n\t            }\n        \t},\n        \tOperadorKeydown: function($event){\n        \t\tif($event.key == 'Enter'){\n\n        \t\t\tvar ds = {\n\t\t\t\t\t\tCODBARRAS : vm.operador.CODBARRAS\n\t\t\t\t\t};\n\n\t            \t$ajax.post('/_15100/ConsultarOperador',ds)\n\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\tif(response.ID == 'ERRO' || response.VALOR != 1){\n\t\t\t\t\t\t\t\tshowErro('Operador n達o foi encontrado ou n達o tem permiss達o.<br>26-PERMITE ABASTECER WIP.<br>COD. BARRAS:'+vm.gp.CODBARRAS);\n\t\t\t\t\t\t\t\tvm.operador.CODBARRAS = '';\n\t\t\t\t\t\t\t}else{\n\n    \t\t\t\t\t\t\t$('#modal-operador').modal('hide');\n\n        \t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t        \t\t\t$('.input-peca').focus();\n\t\t\t\t        \t\t},300);\n\t\t\t\t\t\t        vm.operador.ID        = response.ID;\n\t\t\t\t\t\t        vm.operador.DESCRICAO = response.DESCRICAO;\n\t\t\t\t\t\t    \t\n\t\t\t\t\t\t\t}                 \n\t\t\t\t\t\t}\n\t\t\t\t\t);     \n\t            }\n        \t},\n        \tPecaKeydown: function($event){\n\n        \t\tvm.peca.ABASTECER = 0;\n\n        \t\tif($event.key == 'Enter'){\n        \t\t\t\n        \t\t\tvar ds = {\n\t\t\t\t\t\tCOD_BARRAS   :vm.peca.CODBARRAS,\n            \t\t\tOPERADOR_ID  :vm.operador.ID,\n            \t\t\tCOD_UP       :vm.gp.CODBARRAS\n\t\t\t\t\t};\n\n\t            \t$ajax.post('/_15100/ConsultarPeca',ds)\n\t\t\t\t\t\t.then(function(response) {\n\n    \t\t\t\t\t\tvm.regra = response;\n\t\t\t\t\t\t    vm.peca.ABASTECER = 1;\t                 \n\t\t\t\t\t\t}\n\t\t\t\t\t);     \n\t            }\n        \t},\n        \tAbastercer: function($event){\n    \t\t\tvar ds = {\n\t\t\t\t\tCOD_BARRAS   :vm.peca.CODBARRAS,\n        \t\t\tOPERADOR_ID  :vm.operador.ID,\n        \t\t\tCOD_UP       :vm.gp.CODBARRAS\n\t\t\t\t};\n\n            \t$ajax.post('/_15100/Abastercer',ds)\n\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\tif(vm.regra.DESFAZER == 0){\n\t\t\t\t\t\t\tshowSuccess('Abastecido.');\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tshowSuccess('Desabastecido.');\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvm.peca.CODBARRAS = '';\n\t\t\t\t\t\tvm.peca.ABASTECER = 0;\t\t\t\t    \t                 \n\t\t\t\t\t}\n\t\t\t\t);     \n        \t},\n        \tlogOff: function(){\n\n        \t\t$('#modal-up').modal('hide');\n        \t\t$('#modal-operador').modal('hide');\n        \t\tvm.peca.CODBARRAS = '';\n        \t\tvm.peca.ABASTECER = 0;\n\n        \t\tvm.gp = {\n\t\t        \tID        : 0,\n\t\t        \tPERFIL    : '',\n\t\t        \tDESCRICAO : '',\n\t\t        \tCODBARRAS : ''\n\t\t        };\n\n\t\t        vm.operador = {\n\t\t        \tID        : 0,\n\t\t        \tDESCRICAO : '',\n\t\t        \tCODBARRAS : ''\n\t\t        };\n        \t}\n        }\n        \n        $scope.$watch('vm.DADOS', function (newValue, oldValue, scope) {\n            if(newValue != oldValue){\n\t\t\t\t\n            }\n        }, true);\n\n\t\t\n        init();        \n    };\n\n    Ctrl.$inject = [\n\t\t'$scope',\n\t\t'$ajax',\n\t\t'$timeout'\n\t];\n \n    angular\n    .module    ('app' , ['angular.filter','vs-repeat','gc-ajax','gc-form','gc-find','gc-transform'])\n    .controller('Ctrl', Ctrl);\n        \n})(angular);\n\n ;(function($){\n\n\n})(jQuery);"]}
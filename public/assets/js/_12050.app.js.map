{"version":3,"sources":["_12050.app.js","_12050.controller.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"_12050.app.js","sourcesContent":["/**\n * _12050\n */\n'use strict';\n\nangular\n\t.module('app', [\n\t\t'vs-repeat', \n\t\t'gc-ajax',\n\t\t'gc-transform',\n\t\t'gc-form',\n\t\t'gc-utils',\n\t\t'gc-find'\n\t])\n;","angular\n    .module('app')\n    .value('gScope', {\n        indexOfAttr : function(array,attr, value) {\n            for(var i in array) {\n                if(array[i][attr] === value) {\n                    return i;\n                }\n            }\n            return -1;\n        }\n    })\n    .controller('Ctrl', Ctrl);\n\n\tCtrl.$inject = [\n        '$ajax',\n        '$scope',\n        '$window',\n        '$timeout',\n        'gScope',\n        '$httpParamSerializer',\n        '$rootScope',\n        '$compile'\n    ];\n\n\tfunction Ctrl($ajax, $scope, $window, $timeout, gScope,$httpParamSerializer,$rootScope,$compile) {\n\n\t\tvar vm = this;\n\t\tvm.DADOS = {};\n\n        vm.DADOS_DEFEITO = [];\n\n        vm.DADOS.DEFEITO = {\n            DADOS    : [],\n            MODELO   : [],\n            LINHA    : [],\n            PERFIL   : [],\n            DEFEITO  : [],\n            COR      : [],\n            GP       : [],\n            DENSIDADE: [],\n            ESPESSURA: [],\n            TAMANHO  : [],\n            DEFEITO_SETOR: [],\n            TOTAL    : {\n                DESCRICAO  : 'TOTAL',\n                QTD_TURNO1 : 0,\n                QTD_TURNO2 : 0,\n                QUANTIDADE : 0,\n                PRODUCAO   : 0,\n                PQTD_TURNO1: 0,\n                PQTD_TURNO2: 0\n            },\n            FILTRO   :[]\n        };\n\n        vm.Acao = {\n            AddFilter : function(v_tipo,v_valor,v_descricao){\n                var validar = true;\n                angular.forEach(vm.DADOS.DEFEITO.FILTRO,function(i, v){\n                    if(i.TIPO == v_tipo && i.DESC == v_descricao && i.VAL == v_valor){\n                        validar = false;  \n                    }\n                }); \n\n                if(validar){\n                    var item = {\n                        TIPO : v_tipo,\n                        DESC : v_descricao,\n                        VAL  : v_valor\n                    };\n\n                    vm.DADOS.DEFEITO.FILTRO.push(item);\n\n                    console.log(vm.DADOS.DEFEITO.FILTRO);\n                }\n\n                $('.js-filter-btn').removeClass('btn-success');\n                $('.js-filter-btn').addClass('btn-primary');\n            },\n            validarFiltro:function(iten,flag){\n                var validar_linha     = 0, contador_linha     = 0;\n                var validar_modelo    = 0, contador_modelo    = 0;\n                var validar_perfil    = 0, contador_perfil    = 0;\n                var validar_defeito   = 0, contador_defeito   = 0;\n                var validar_cor       = 0, contador_cor       = 0;\n                var validar_gp        = 0, contador_gp        = 0;\n                var validar_densidade = 0, contador_densidade = 0;\n                var validar_tamanho   = 0, contador_tamanho   = 0;\n                var validar_espessura = 0, contador_espessura = 0;\n                var validar_defeito_setor = 0, contador_defeito_setor = 0;\n\n                var ret = false;\n\n                if(vm.DADOS.DEFEITO.FILTRO.length > 0){\n\n                    angular.forEach(vm.DADOS.DEFEITO.FILTRO,function(i, v){\n                        if(i.TIPO == 'MODELO'){\n                            contador_modelo++;\n                            if(iten.MODELO_ID == i.VAL){\n                                validar_modelo++;     \n                            }\n                        }\n\n                        if(i.TIPO == 'LINHA'){\n                            contador_linha++;\n                            if(iten.LINHA_ID == i.VAL){\n                                validar_linha++;     \n                            }\n                        }\n\n                        if(i.TIPO == 'PERFIL'){\n                            contador_perfil++;\n                            var a = iten.PERFIL_ID.trim();\n                            var b = i.VAL.trim();\n                            if( a == b){\n                                validar_perfil++;     \n                            }\n                        }\n\n                        if(i.TIPO == 'DEFEITO'){\n                            contador_defeito++;\n                            if(iten.DEFEITO_ID == i.VAL){\n                                validar_defeito++;     \n                            }\n                        }\n\n                        if(i.TIPO == 'COR'){\n                            contador_cor++;\n                            if(iten.COR_ID == i.VAL){\n                                validar_cor++;     \n                            }\n                        }\n\n                        if(i.TIPO == 'GP'){\n                            contador_gp++;\n                            if(iten.GP_ID == i.VAL){\n                                validar_gp++;     \n                            }\n                        }\n\n                        if(i.TIPO == 'DENSIDADE'){\n                            contador_densidade++;\n                            if(iten.DENSIDADE == i.VAL){\n                                validar_densidade++;     \n                            }\n                        }\n\n                        if(i.TIPO == 'TAMANHO'){\n                            contador_tamanho++;\n                            if(iten.TAMANHO == i.VAL){\n                                validar_tamanho++;     \n                            }\n                        }\n\n                        if(i.TIPO == 'ESPESSURA'){\n                            contador_espessura++;\n                            if(iten.ESPESSURA == i.VAL){\n                                validar_espessura++;     \n                            }\n                        }\n\n                        if(i.TIPO == 'DEFEITO_SETOR'){\n                            contador_defeito_setor++;\n                            if(iten.DEFEITO_SETOR == i.VAL){\n                                validar_defeito_setor++;     \n                            }\n                        }\n                    });\n\n                    if(contador_defeito > 0){\n                        if(validar_defeito > 0){\n                            validar_defeito = 1;\n                        }else{\n                            validar_defeito = 0;\n                        }\n                    }else{\n                        validar_defeito = 1;\n                    }\n\n                    if(contador_modelo > 0){\n                        if(validar_modelo > 0){\n                            validar_modelo = 1;\n                        }else{\n                            validar_modelo = 0;\n                        }\n                    }else{\n                        validar_modelo = 1;\n                    }\n\n                    if(contador_linha > 0){\n                        if(validar_linha > 0){\n                            validar_linha = 1;\n                        }else{\n                            validar_linha = 0;\n                        }\n                    }else{\n                        validar_linha = 1;\n                    }\n\n                    if(contador_perfil > 0){\n                        if(validar_perfil > 0){\n                            validar_perfil = 1;\n                        }else{\n                            validar_perfil = 0;\n                        }\n                    }else{\n                        validar_perfil = 1;\n                    }\n\n                    if(contador_cor > 0){\n                        if(validar_cor > 0){\n                            validar_cor = 1;\n                        }else{\n                            validar_cor = 0;\n                        }\n                    }else{\n                        validar_cor = 1;\n                    }\n\n                    if(contador_gp > 0){\n                        if(validar_gp > 0){\n                            validar_gp = 1;\n                        }else{\n                            validar_gp = 0;\n                        }\n                    }else{\n                        validar_gp = 1;\n                    }\n\n                    if(contador_densidade > 0){\n                        if(validar_densidade > 0){\n                            validar_densidade = 1;\n                        }else{\n                            validar_densidade = 0;\n                        }\n                    }else{\n                        validar_densidade = 1;\n                    }\n\n                    if(contador_tamanho > 0){\n                        if(validar_tamanho > 0){\n                            validar_tamanho = 1;\n                        }else{\n                            validar_tamanho = 0;\n                        }\n                    }else{\n                        validar_tamanho = 1;\n                    }\n\n                    if(contador_espessura > 0){\n                        if(validar_espessura > 0){\n                            validar_espessura = 1;\n                        }else{\n                            validar_espessura = 0;\n                        }\n                    }else{\n                        validar_espessura= 1;\n                    }\n\n                    if(contador_defeito_setor > 0){\n                        if(validar_defeito_setor > 0){\n                            validar_defeito_setor = 1;\n                        }else{\n                            validar_defeito_setor = 0;\n                        }\n                    }else{\n                        validar_defeito_setor= 1;\n                    }\n\n                    if(flag == 0){\n                        if(\n                            validar_linha     == 1 &&\n                            validar_modelo    == 1 &&\n                            validar_perfil    == 1 &&\n                            validar_defeito   == 1 &&\n                            validar_cor       == 1 &&\n                            validar_gp        == 1 &&\n                            validar_densidade == 1 &&\n                            validar_tamanho   == 1 &&\n                            validar_espessura == 1 &&\n                            validar_defeito_setor == 1\n                        ){\n                            ret = true;\n                        }\n                    }else{\n                        if(\n                            validar_linha     == 1 &&\n                            validar_modelo    == 1 &&\n                            validar_perfil    == 1 &&\n                            validar_cor       == 1 &&\n                            validar_gp        == 1 &&\n                            validar_densidade == 1 &&\n                            validar_tamanho   == 1 &&\n                            validar_espessura == 1 &&\n                            validar_defeito_setor == 1\n                        ){\n                            ret = true;\n                        }   \n                    }\n\n                    \n\n                } else {\n                    ret = true;\n                }\n\n                return ret;\n                \n            },\n            DeletarFiltro : function(iten){\n\n                $('.js-filter-btn').removeClass('btn-success');\n                $('.js-filter-btn').addClass('btn-primary');\n\n                angular.forEach(vm.DADOS.DEFEITO.FILTRO,function(i, v){\n                    if(i.TIPO == iten.TIPO && i.DESC == iten.DESC && i.VAL == iten.VAL){\n                        vm.DADOS.DEFEITO.FILTRO.splice( v, 1);   \n                    }\n                });\n\n                if(vm.DADOS.DEFEITO.FILTRO.length == 0){\n                    this.tratar(vm.DADOS_DEFEITO);    \n                } \n\n            },\n            filtrar:function(){\n                this.tratar(vm.DADOS_DEFEITO);\n            },\n            tratar : function(dados){\n\n                that = this;\n\n                vm.DADOS_DEFEITO = dados;\n\n                vm.DADOS.DEFEITO.MODELO   = [{KEY : -1}];\n                vm.DADOS.DEFEITO.LINHA    = [{KEY : -1}];\n                vm.DADOS.DEFEITO.PERFIL   = [{KEY : -1}];\n                vm.DADOS.DEFEITO.DEFEITO  = [{KEY : -1}];\n                vm.DADOS.DEFEITO.COR      = [{KEY : -1}];\n                vm.DADOS.DEFEITO.GP       = [{KEY : -1}];\n                vm.DADOS.DEFEITO.DENSIDADE= [{KEY : -1}];\n                vm.DADOS.DEFEITO.TAMANHO  = [{KEY : -1}];\n                vm.DADOS.DEFEITO.ESPESSURA= [{KEY : -1}];\n                vm.DADOS.DEFEITO.DEFEITO_SETOR= [{KEY : -1}];\n                vm.DADOS.DEFEITO.TOTAL    = {\n                        DESCRICAO  : 'TOTAL',\n                        QTD_TURNO1 : 0,\n                        QTD_TURNO2 : 0,\n                        QUANTIDADE : 0,\n                        PRODUCAO   : 0,\n                        PQTD_TURNO1: 0,\n                        PQTD_TURNO2: 0\n                    };\n\n                angular.forEach(dados.defeito,function(iten, key) {\n\n                    var validar = that.validarFiltro(iten,0);\n\n                    if(validar){\n                        var index_linha     = 0;\n                        var index_modelo    = 0;\n                        var index_cor       = 0;\n                        var index_defeito   = 0;\n                        var index_gp        = 0;\n                        var index_perfil    = 0;\n                        var index_densidade = 0;\n                        var index_tamanho   = 0;\n                        var index_espessura = 0;\n                        var index_defeito_setor = 0;\n\n                        angular.forEach(vm.DADOS.DEFEITO.LINHA,function(i, v){\n                            var id1 = (i.KEY + '').trim();\n                            var id2 = (iten.LINHA_ID + '').trim();\n\n                            if(id1 == id2){\n                                index_linha = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.MODELO,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.MODELO_ID + '').trim()\n\n                            if(id1 == id2){\n                                index_modelo = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.COR,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.COR_ID + '').trim()\n\n                            if(id1 == id2){\n                                index_cor = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.DEFEITO,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.DEFEITO_ID + '').trim()\n\n                            if(id1 == id2){\n                                index_defeito = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.GP,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.GP_ID + '').trim()\n\n                            if(id1 == id2){\n                                index_gp = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.PERFIL,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.PERFIL_ID + '').trim()\n\n                            if(id1 == id2){\n                                index_perfil = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.DENSIDADE,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.DENSIDADE + '').trim()\n\n                            if(id1 == id2){\n                                index_densidade = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.TAMANHO,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.TAMANHO + '').trim()\n\n                            if(id1 == id2){\n                                index_tamanho = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.ESPESSURA,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.ESPESSURA + '').trim()\n\n                            if(id1 == id2){\n                                index_espessura = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.DEFEITO_SETOR,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.DEFEITO_SETOR + '').trim()\n\n                            if(id1 == id2){\n                                index_defeito_setor = v;    \n                            }\n                        });\n\n                        if(index_linha == 0){\n                            vm.DADOS.DEFEITO.LINHA.push({\n                                DESCRICAO  : iten.LINHA,\n                                KEY        : (iten.LINHA_ID + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_modelo == 0){\n                            vm.DADOS.DEFEITO.MODELO.push({\n                                DESCRICAO  : iten.MODELO,\n                                KEY        : (iten.MODELO_ID + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_cor == 0){\n                            vm.DADOS.DEFEITO.COR.push({\n                                DESCRICAO  : iten.COR,\n                                KEY        : (iten.COR_ID + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_defeito == 0){\n                            vm.DADOS.DEFEITO.DEFEITO.push({\n                                DESCRICAO  : iten.DEFEITO,\n                                KEY        : (iten.DEFEITO_ID + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_gp == 0){\n                            vm.DADOS.DEFEITO.GP.push({\n                                DESCRICAO  : iten.GP,\n                                KEY        : (iten.GP_ID + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_perfil == 0){\n                            vm.DADOS.DEFEITO.PERFIL.push({\n                                DESCRICAO  : iten.PERFIL,\n                                KEY        : (iten.PERFIL_ID + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_densidade == 0){\n                            vm.DADOS.DEFEITO.DENSIDADE.push({\n                                DESCRICAO  : iten.DENSIDADE,\n                                KEY        : (iten.DENSIDADE + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_tamanho == 0){\n                            vm.DADOS.DEFEITO.TAMANHO.push({\n                                DESCRICAO  : iten.TAMANHO,\n                                KEY        : (iten.TAMANHO + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_espessura == 0){\n                            vm.DADOS.DEFEITO.ESPESSURA.push({\n                                DESCRICAO  : iten.ESPESSURA,\n                                KEY        : (iten.ESPESSURA + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_defeito_setor == 0){\n                            vm.DADOS.DEFEITO.DEFEITO_SETOR.push({\n                                DESCRICAO  : iten.DEFEITO_SETOR,\n                                KEY        : (iten.DEFEITO_SETOR + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_linha     == 0){index_linha      = vm.DADOS.DEFEITO.LINHA.length     -1;}\n                        if(index_modelo    == 0){index_modelo     = vm.DADOS.DEFEITO.MODELO.length    -1;}\n                        if(index_cor       == 0){index_cor        = vm.DADOS.DEFEITO.COR.length       -1;}\n                        if(index_defeito   == 0){index_defeito    = vm.DADOS.DEFEITO.DEFEITO.length   -1;}\n                        if(index_gp        == 0){index_gp         = vm.DADOS.DEFEITO.GP.length        -1;}\n                        if(index_perfil    == 0){index_perfil     = vm.DADOS.DEFEITO.PERFIL.length    -1;}\n                        if(index_densidade == 0){index_densidade  = vm.DADOS.DEFEITO.DENSIDADE.length -1;}\n                        if(index_tamanho   == 0){index_tamanho    = vm.DADOS.DEFEITO.TAMANHO.length   -1;}\n                        if(index_espessura == 0){index_espessura  = vm.DADOS.DEFEITO.ESPESSURA.length -1;}\n                        if(index_defeito_setor == 0){index_defeito_setor  = vm.DADOS.DEFEITO.DEFEITO_SETOR.length -1;}\n\n                        vm.DADOS.DEFEITO.LINHA[index_linha].QTD_TURNO1        = vm.DADOS.DEFEITO.LINHA[index_linha].QTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.LINHA[index_linha].QTD_TURNO2        = vm.DADOS.DEFEITO.LINHA[index_linha].QTD_TURNO2 + Number(iten.QTD_TURNO2);\n                        vm.DADOS.DEFEITO.LINHA[index_linha].QUANTIDADE        = vm.DADOS.DEFEITO.LINHA[index_linha].QUANTIDADE + Number(iten.QUANTIDADE);\n\n                        vm.DADOS.DEFEITO.MODELO[index_modelo].QTD_TURNO1      = vm.DADOS.DEFEITO.MODELO[index_modelo].QTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.MODELO[index_modelo].QTD_TURNO2      = vm.DADOS.DEFEITO.MODELO[index_modelo].QTD_TURNO2 + Number(iten.QTD_TURNO2);\n                        vm.DADOS.DEFEITO.MODELO[index_modelo].QUANTIDADE      = vm.DADOS.DEFEITO.MODELO[index_modelo].QUANTIDADE + Number(iten.QUANTIDADE);\n\n                        vm.DADOS.DEFEITO.COR[index_cor].QTD_TURNO1            = vm.DADOS.DEFEITO.COR[index_cor].QTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.COR[index_cor].QTD_TURNO2            = vm.DADOS.DEFEITO.COR[index_cor].QTD_TURNO2 + Number(iten.QTD_TURNO2);\n                        vm.DADOS.DEFEITO.COR[index_cor].QUANTIDADE            = vm.DADOS.DEFEITO.COR[index_cor].QUANTIDADE + Number(iten.QUANTIDADE);\n\n                        vm.DADOS.DEFEITO.DEFEITO[index_defeito].QTD_TURNO1    = vm.DADOS.DEFEITO.DEFEITO[index_defeito].QTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.DEFEITO[index_defeito].QTD_TURNO2    = vm.DADOS.DEFEITO.DEFEITO[index_defeito].QTD_TURNO2 + Number(iten.QTD_TURNO2);\n                        vm.DADOS.DEFEITO.DEFEITO[index_defeito].QUANTIDADE    = vm.DADOS.DEFEITO.DEFEITO[index_defeito].QUANTIDADE + Number(iten.QUANTIDADE);\n\n                        vm.DADOS.DEFEITO.GP[index_gp].QTD_TURNO1              = vm.DADOS.DEFEITO.GP[index_gp].QTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.GP[index_gp].QTD_TURNO2              = vm.DADOS.DEFEITO.GP[index_gp].QTD_TURNO2 + Number(iten.QTD_TURNO2);\n                        vm.DADOS.DEFEITO.GP[index_gp].QUANTIDADE              = vm.DADOS.DEFEITO.GP[index_gp].QUANTIDADE + Number(iten.QUANTIDADE);\n\n                        vm.DADOS.DEFEITO.PERFIL[index_perfil].QTD_TURNO1      = vm.DADOS.DEFEITO.PERFIL[index_perfil].QTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.PERFIL[index_perfil].QTD_TURNO2      = vm.DADOS.DEFEITO.PERFIL[index_perfil].QTD_TURNO2 + Number(iten.QTD_TURNO2);\n                        vm.DADOS.DEFEITO.PERFIL[index_perfil].QUANTIDADE      = vm.DADOS.DEFEITO.PERFIL[index_perfil].QUANTIDADE + Number(iten.QUANTIDADE);\n\n                        vm.DADOS.DEFEITO.DENSIDADE[index_densidade].QTD_TURNO1   = vm.DADOS.DEFEITO.DENSIDADE[index_densidade].QTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.DENSIDADE[index_densidade].QTD_TURNO2   = vm.DADOS.DEFEITO.DENSIDADE[index_densidade].QTD_TURNO2 + Number(iten.QTD_TURNO2);\n                        vm.DADOS.DEFEITO.DENSIDADE[index_densidade].QUANTIDADE   = vm.DADOS.DEFEITO.DENSIDADE[index_densidade].QUANTIDADE + Number(iten.QUANTIDADE);\n\n                        vm.DADOS.DEFEITO.TAMANHO[index_tamanho].QTD_TURNO1   = vm.DADOS.DEFEITO.TAMANHO[index_tamanho].QTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.TAMANHO[index_tamanho].QTD_TURNO2   = vm.DADOS.DEFEITO.TAMANHO[index_tamanho].QTD_TURNO2 + Number(iten.QTD_TURNO2);\n                        vm.DADOS.DEFEITO.TAMANHO[index_tamanho].QUANTIDADE   = vm.DADOS.DEFEITO.TAMANHO[index_tamanho].QUANTIDADE + Number(iten.QUANTIDADE);\n\n                        vm.DADOS.DEFEITO.ESPESSURA[index_espessura].QTD_TURNO1   = vm.DADOS.DEFEITO.ESPESSURA[index_espessura].QTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.ESPESSURA[index_espessura].QTD_TURNO2   = vm.DADOS.DEFEITO.ESPESSURA[index_espessura].QTD_TURNO2 + Number(iten.QTD_TURNO2);\n                        vm.DADOS.DEFEITO.ESPESSURA[index_espessura].QUANTIDADE   = vm.DADOS.DEFEITO.ESPESSURA[index_espessura].QUANTIDADE + Number(iten.QUANTIDADE);\n\n                        vm.DADOS.DEFEITO.DEFEITO_SETOR[index_defeito_setor].QTD_TURNO1   = vm.DADOS.DEFEITO.DEFEITO_SETOR[index_defeito_setor].QTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.DEFEITO_SETOR[index_defeito_setor].QTD_TURNO2   = vm.DADOS.DEFEITO.DEFEITO_SETOR[index_defeito_setor].QTD_TURNO2 + Number(iten.QTD_TURNO2);\n                        vm.DADOS.DEFEITO.DEFEITO_SETOR[index_defeito_setor].QUANTIDADE   = vm.DADOS.DEFEITO.DEFEITO_SETOR[index_defeito_setor].QUANTIDADE + Number(iten.QUANTIDADE);\n\n                        vm.DADOS.DEFEITO.TOTAL.QTD_TURNO1                       = vm.DADOS.DEFEITO.TOTAL.QTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.TOTAL.QTD_TURNO2                       = vm.DADOS.DEFEITO.TOTAL.QTD_TURNO2 + Number(iten.QTD_TURNO2);\n                        vm.DADOS.DEFEITO.TOTAL.QUANTIDADE                       = vm.DADOS.DEFEITO.TOTAL.QUANTIDADE + Number(iten.QUANTIDADE);\n                    }\n                });\n\n                angular.forEach(dados.producao,function(iten, key) {\n\n                    var validar = that.validarFiltro(iten,1);\n\n                    if(validar){   \n                        var index_linha     = 0;\n                        var index_modelo    = 0;\n                        var index_cor       = 0;\n                        var index_defeito   = 0;\n                        var index_gp        = 0;\n                        var index_perfil    = 0;\n                        var index_densidade = 0;\n                        var index_tamanho   = 0;\n                        var index_espessura = 0;\n                        var index_defeito_setor = 0;\n\n                        angular.forEach(vm.DADOS.DEFEITO.LINHA,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.LINHA_ID + '').trim()\n\n                            if(id1 == id2){\n                                index_linha = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.MODELO,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.MODELO_ID + '').trim()\n\n                            if(id1 == id2){\n                                index_modelo = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.COR,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.COR_ID + '').trim()\n\n                            if(id1 == id2){\n                                index_cor = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.DEFEITO,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.DEFEITO_ID + '').trim()\n\n                            if(id1 == id2){\n                                index_defeito = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.GP,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.GP_ID + '').trim()\n\n                            if(id1 == id2){\n                                index_gp = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.PERFIL,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.PERFIL_ID + '').trim()\n\n                            if(id1 == id2){\n                                index_perfil = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.DENSIDADE,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.DENSIDADE + '').trim()\n\n                            if(id1 == id2){\n                                index_densidade = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.TAMANHO,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.TAMANHO + '').trim()\n\n                            if(id1 == id2){\n                                index_tamanho = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.ESPESSURA,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.ESPESSURA + '').trim()\n\n                            if(id1 == id2){\n                                index_espessura = v;    \n                            }\n                        });\n\n                        angular.forEach(vm.DADOS.DEFEITO.DEFEITO_SETOR,function(i, v){\n                            var id1 = (i.KEY + '').trim()\n                            var id2 = (iten.DEFEITO_SETOR + '').trim()\n\n                            if(id1 == id2){\n                                index_defeito_setor = v;    \n                            }\n                        });\n\n                        if(index_linha == 0){\n                            vm.DADOS.DEFEITO.LINHA.push({\n                                DESCRICAO  : iten.LINHA,\n                                KEY        : (iten.LINHA_ID + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_modelo == 0){\n                            vm.DADOS.DEFEITO.MODELO.push({\n                                DESCRICAO  : iten.MODELO,\n                                KEY        : (iten.MODELO_ID + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_cor == 0){\n                            vm.DADOS.DEFEITO.COR.push({\n                                DESCRICAO  : iten.COR,\n                                KEY        : (iten.COR_ID + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_defeito == 0){\n                            vm.DADOS.DEFEITO.DEFEITO.push({\n                                DESCRICAO  : iten.DEFEITO,\n                                KEY        : (iten.DEFEITO_ID + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_gp == 0){\n                            vm.DADOS.DEFEITO.GP.push({\n                                DESCRICAO  : iten.GP,\n                                KEY        : (iten.GP_ID + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_perfil == 0){\n                            vm.DADOS.DEFEITO.PERFIL.push({\n                                DESCRICAO  : iten.PERFIL,\n                                KEY        : (iten.PERFIL_ID + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_densidade == 0){\n                            vm.DADOS.DEFEITO.DENSIDADE.push({\n                                DESCRICAO  : iten.DENSIDADE,\n                                KEY        : (iten.DENSIDADE + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_tamanho == 0){\n                            vm.DADOS.DEFEITO.TAMANHO.push({\n                                DESCRICAO  : iten.TAMANHO,\n                                KEY        : (iten.TAMANHO + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_espessura == 0){\n                            vm.DADOS.DEFEITO.ESPESSURA.push({\n                                DESCRICAO  : iten.ESPESSURA,\n                                KEY        : (iten.ESPESSURA + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_defeito_setor == 0){\n                            vm.DADOS.DEFEITO.DEFEITO_SETOR.push({\n                                DESCRICAO  : iten.DEFEITO_SETOR,\n                                KEY        : (iten.DEFEITO_SETOR + '').trim(),\n                                QTD_TURNO1 : 0,\n                                QTD_TURNO2 : 0,\n                                QUANTIDADE : 0,\n                                PRODUCAO   : 0,\n                                PQTD_TURNO1: 0,\n                                PQTD_TURNO2: 0\n                            });\n                        }\n\n                        if(index_linha     == 0){index_linha      = vm.DADOS.DEFEITO.LINHA.length     -1;}\n                        if(index_modelo    == 0){index_modelo     = vm.DADOS.DEFEITO.MODELO.length    -1;}\n                        if(index_cor       == 0){index_cor        = vm.DADOS.DEFEITO.COR.length       -1;}\n                        if(index_defeito   == 0){index_defeito    = vm.DADOS.DEFEITO.DEFEITO.length   -1;}\n                        if(index_gp        == 0){index_gp         = vm.DADOS.DEFEITO.GP.length        -1;}\n                        if(index_perfil    == 0){index_perfil     = vm.DADOS.DEFEITO.PERFIL.length    -1;}\n                        if(index_densidade == 0){index_densidade  = vm.DADOS.DEFEITO.DENSIDADE.length -1;}\n                        if(index_tamanho   == 0){index_tamanho    = vm.DADOS.DEFEITO.TAMANHO.length -1;}\n                        if(index_espessura == 0){index_espessura  = vm.DADOS.DEFEITO.ESPESSURA.length -1;}\n                        if(index_defeito_setor == 0){index_defeito_setor  = vm.DADOS.DEFEITO.DEFEITO_SETOR.length -1;}\n\n                        vm.DADOS.DEFEITO.LINHA[index_linha].PRODUCAO           = vm.DADOS.DEFEITO.LINHA[index_linha].PRODUCAO + Number(iten.QUANTIDADE);\n                        vm.DADOS.DEFEITO.LINHA[index_linha].PQTD_TURNO1        = vm.DADOS.DEFEITO.LINHA[index_linha].PQTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.LINHA[index_linha].PQTD_TURNO2        = vm.DADOS.DEFEITO.LINHA[index_linha].PQTD_TURNO2 + Number(iten.QTD_TURNO2);\n\n                        vm.DADOS.DEFEITO.MODELO[index_modelo].PRODUCAO         = vm.DADOS.DEFEITO.MODELO[index_modelo].PRODUCAO + Number(iten.QUANTIDADE);\n                        vm.DADOS.DEFEITO.MODELO[index_modelo].PQTD_TURNO1      = vm.DADOS.DEFEITO.MODELO[index_modelo].PQTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.MODELO[index_modelo].PQTD_TURNO2      = vm.DADOS.DEFEITO.MODELO[index_modelo].PQTD_TURNO2 + Number(iten.QTD_TURNO2);\n\n                        vm.DADOS.DEFEITO.COR[index_cor].PRODUCAO               = vm.DADOS.DEFEITO.COR[index_cor].PRODUCAO + Number(iten.QUANTIDADE);\n                        vm.DADOS.DEFEITO.COR[index_cor].PQTD_TURNO1            = vm.DADOS.DEFEITO.COR[index_cor].PQTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.COR[index_cor].PQTD_TURNO2            = vm.DADOS.DEFEITO.COR[index_cor].PQTD_TURNO2 + Number(iten.QTD_TURNO2);\n\n                        vm.DADOS.DEFEITO.DEFEITO[index_defeito].PRODUCAO       = vm.DADOS.DEFEITO.DEFEITO[index_defeito].PRODUCAO + Number(iten.QUANTIDADE);\n                        vm.DADOS.DEFEITO.DEFEITO[index_defeito].PQTD_TURNO1    = vm.DADOS.DEFEITO.DEFEITO[index_defeito].PQTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.DEFEITO[index_defeito].PQTD_TURNO2    = vm.DADOS.DEFEITO.DEFEITO[index_defeito].PQTD_TURNO2 + Number(iten.QTD_TURNO2);\n\n                        vm.DADOS.DEFEITO.GP[index_gp].PRODUCAO                 = vm.DADOS.DEFEITO.GP[index_gp].PRODUCAO + Number(iten.QUANTIDADE);\n                        vm.DADOS.DEFEITO.GP[index_gp].PQTD_TURNO1              = vm.DADOS.DEFEITO.GP[index_gp].PQTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.GP[index_gp].PQTD_TURNO2              = vm.DADOS.DEFEITO.GP[index_gp].PQTD_TURNO2 + Number(iten.QTD_TURNO2);\n\n                        vm.DADOS.DEFEITO.PERFIL[index_perfil].PRODUCAO         = vm.DADOS.DEFEITO.PERFIL[index_perfil].PRODUCAO + Number(iten.QUANTIDADE);\n                        vm.DADOS.DEFEITO.PERFIL[index_perfil].PQTD_TURNO1      = vm.DADOS.DEFEITO.PERFIL[index_perfil].PQTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.PERFIL[index_perfil].PQTD_TURNO2      = vm.DADOS.DEFEITO.PERFIL[index_perfil].PQTD_TURNO2 + Number(iten.QTD_TURNO2);\n\n                        vm.DADOS.DEFEITO.DENSIDADE[index_densidade].PRODUCAO    = vm.DADOS.DEFEITO.DENSIDADE[index_densidade].PRODUCAO + Number(iten.QUANTIDADE);\n                        vm.DADOS.DEFEITO.DENSIDADE[index_densidade].PQTD_TURNO1 = vm.DADOS.DEFEITO.DENSIDADE[index_densidade].PQTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.DENSIDADE[index_densidade].PQTD_TURNO2 = vm.DADOS.DEFEITO.DENSIDADE[index_densidade].PQTD_TURNO2 + Number(iten.QTD_TURNO2);\n\n                        vm.DADOS.DEFEITO.TAMANHO[index_tamanho].PRODUCAO    = vm.DADOS.DEFEITO.TAMANHO[index_tamanho].PRODUCAO + Number(iten.QUANTIDADE);\n                        vm.DADOS.DEFEITO.TAMANHO[index_tamanho].PQTD_TURNO1 = vm.DADOS.DEFEITO.TAMANHO[index_tamanho].PQTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.TAMANHO[index_tamanho].PQTD_TURNO2 = vm.DADOS.DEFEITO.TAMANHO[index_tamanho].PQTD_TURNO2 + Number(iten.QTD_TURNO2);\n\n                        vm.DADOS.DEFEITO.ESPESSURA[index_espessura].PRODUCAO    = vm.DADOS.DEFEITO.ESPESSURA[index_espessura].PRODUCAO + Number(iten.QUANTIDADE);\n                        vm.DADOS.DEFEITO.ESPESSURA[index_espessura].PQTD_TURNO1 = vm.DADOS.DEFEITO.ESPESSURA[index_espessura].PQTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.ESPESSURA[index_espessura].PQTD_TURNO2 = vm.DADOS.DEFEITO.ESPESSURA[index_espessura].PQTD_TURNO2 + Number(iten.QTD_TURNO2);\n\n                        vm.DADOS.DEFEITO.DEFEITO_SETOR[index_defeito_setor].PRODUCAO    = vm.DADOS.DEFEITO.DEFEITO_SETOR[index_defeito_setor].PRODUCAO + Number(iten.QUANTIDADE);\n                        vm.DADOS.DEFEITO.DEFEITO_SETOR[index_defeito_setor].PQTD_TURNO1 = vm.DADOS.DEFEITO.DEFEITO_SETOR[index_defeito_setor].PQTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.DEFEITO_SETOR[index_defeito_setor].PQTD_TURNO2 = vm.DADOS.DEFEITO.DEFEITO_SETOR[index_defeito_setor].PQTD_TURNO2 + Number(iten.QTD_TURNO2);\n\n                        vm.DADOS.DEFEITO.TOTAL.PRODUCAO                        = vm.DADOS.DEFEITO.TOTAL.PRODUCAO    + Number(iten.QUANTIDADE);\n                        vm.DADOS.DEFEITO.TOTAL.PQTD_TURNO1                     = vm.DADOS.DEFEITO.TOTAL.PQTD_TURNO1 + Number(iten.QTD_TURNO1);\n                        vm.DADOS.DEFEITO.TOTAL.PQTD_TURNO2                     = vm.DADOS.DEFEITO.TOTAL.PQTD_TURNO2 + Number(iten.QTD_TURNO2);\n                    }\n                });\n                \n                vm.DADOS.DEFEITO.LINHA.splice(0, 1);\n                vm.DADOS.DEFEITO.MODELO.splice(0, 1);\n                vm.DADOS.DEFEITO.COR.splice(0, 1);\n                vm.DADOS.DEFEITO.DEFEITO.splice(0, 1);\n                vm.DADOS.DEFEITO.GP.splice(0, 1);\n                vm.DADOS.DEFEITO.PERFIL.splice(0, 1);\n                vm.DADOS.DEFEITO.DENSIDADE.splice(0, 1);\n                vm.DADOS.DEFEITO.TAMANHO.splice(0, 1);\n                vm.DADOS.DEFEITO.ESPESSURA.splice(0, 1);\n                vm.DADOS.DEFEITO.DEFEITO_SETOR.splice(0, 1);\n\n                $('.js-filter-btn').addClass('btn-success');\n                $('.js-filter-btn').removeClass('btn-primary');\n\n                setTimeout(function(){\n                    bootstrapInit();\n                },500);\n\n            },\n            filterDefeito : function(fanilia,data,defeito,producao,flag){\n\n                vm.DADOS.DEFEITO.FILTRO = [];\n\n                var estabelecimento = $('._input_estab').val();\n                var periodo_pedidod = $('.checkbox-perildod').val();\n                var periodo_pedidop = $('.checkbox-perildop').val();\n\n                var periodo_inicial = $('.data-ini').val();\n                var periodo_final   = $('.data-fim').val();\n\n                if(flag == 0){\n                    periodo_inicial = data;\n                    periodo_final   = data;\n                }\n\n                var perfil_grupo    = 0;\n                var periodo_pedido  = 0;\n\n                if(periodo_pedidod == 1){\n                    periodo_pedido  = 'd';\n                }else{\n                    if(periodo_pedidop == 1){\n                        periodo_pedido = 'p';\n                    }\n                }\n\n                var filter = {\n                    estabelecimento     :estabelecimento,\n                    familias            :fanilia,\n                    periodo_inicial     :periodo_inicial,\n                    periodo_final       :periodo_final,\n                    perfil_grupo        :perfil_grupo,\n                    periodo_pedido      :periodo_pedido,\n                    defeito             :defeito,\n                    producao            :producao\n                }\n\n                var that = this; \n\n                $ajax.post('/_12050/defeitoDia', filter)\n                    .then(function(response) {\n\n                        that.tratar(response);\n\n                        $('#modal-defeito').modal();\n                    }\n                );\n            },\n            Compile:function(){\n                var html  = $('.tabela-relatorio').html();\n\n                var obj   = $('.tabela-relatorio');\n                var scope = obj.scope(); \n                obj.html(html);\n                $compile(obj.contents())(scope);\n\n                console.log(obj);\n            }\n        }\n\n\n\n\t}   \n    "]}